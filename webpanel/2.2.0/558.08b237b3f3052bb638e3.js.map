{"version":3,"sources":["webpack://tgstation-server-control-panel/./src/components/views/Home.tsx","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Row.js"],"names":["Home","props","setRoutes","bind","state","routes","this","setState","RouteController","xs","sm","md","lg","className","map","val","homeIcon","AppRoutes","key","link","route","as","cachedAuth","Link","to","style","height","fixedWidth","icon","id","name","React","Route","DEVICE_SIZES","Row","_ref","ref","bsPrefix","noGutters","_ref$as","Component","decoratedBsPrefix","sizePrefix","classes","forEach","brkPoint","cols","propValue","infix","push","concat","displayName","defaultProps"],"mappings":"gtCAgBqBA,E,2pBAGjB,WAAmBC,GAAe,a,4FAAA,UAC9B,cAAMA,IACDC,UAAY,EAAKA,UAAUC,KAAf,MAEjB,EAAKC,MAAQ,CACTC,OAAQ,IALkB,E,sCASlC,SAAkBA,GACdC,KAAKC,SAAS,CAAEF,a,kCAGpB,YACIC,KAAKC,SAAS,CACVF,aAAcG,eAA0B,KAE5CA,OAAmB,aAAcF,KAAKJ,Y,+PAG1C,WACIM,mBAA+B,aAAcF,KAAKJ,a,oBAGtD,WACI,OACI,gBAAC,IAAD,CAAKO,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,UAAU,0BACtCP,KAAKF,MAAMC,OAAOS,KAAI,SAAAC,GAAO,QAE1B,GAAKA,EAAIC,UAELD,IAAQE,UAEZ,OACI,gBAAC,IAAD,CAAKC,IAAG,UAAEH,EAAII,YAAN,QAAcJ,EAAIK,MAAOP,UAAU,aACvC,gBAAC,IAAD,CACIQ,GAAIN,EAAIO,WAAaC,KAAO,MAE5BC,GAAE,UAAET,EAAII,YAAN,QAAcJ,EAAIK,MACpBP,UAAS,wCACLE,EAAIO,WAAa,eAAiB,iCAEtC,gBAAC,SAAD,CACIG,MAAO,CACHC,OAAQ,UAEZ,gBAAC,IAAD,CACIC,YAAY,EACZC,KAAMb,EAAIC,SACVH,UAAU,gCAGlB,gBAAC,WAAD,CACIA,UAAS,uCACLE,EAAIO,WAAa,GAAK,4BAE1B,gBAAC,IAAD,CAAkBO,GAAId,EAAIe,mB,oBA3D5BC,aAAb/B,EACMgC,MAAgB,K,uGCZvCC,EAAe,CAAC,KAAM,KAAM,KAAM,KAAM,MAIxCC,EAAmB,cAAiB,SAAUC,EAAMC,GACtD,IAAIC,EAAWF,EAAKE,SAChBxB,EAAYsB,EAAKtB,UACjByB,EAAYH,EAAKG,UACjBC,EAAUJ,EAAKd,GACfmB,OAAwB,IAAZD,EAAqB,MAAQA,EACzCtC,GAAQ,OAA8BkC,EAAM,CAAC,WAAY,YAAa,YAAa,OAEnFM,GAAoB,QAAmBJ,EAAU,OACjDK,EAAaD,EAAoB,QACjCE,EAAU,GAed,OAdAV,EAAaW,SAAQ,SAAUC,GAC7B,IAEIC,EAFAC,EAAY9C,EAAM4C,UACf5C,EAAM4C,GASb,IAAIG,EAAqB,OAAbH,EAAoB,IAAMA,EAAW,GACrC,OANVC,EADe,MAAbC,GAA0C,iBAAdA,EACvBA,EAAUD,KAEVC,IAISJ,EAAQM,KAAK,GAAKP,EAAaM,EAAQ,IAAMF,MAE7C,gBAAoBN,GAAW,OAAS,CAC1DJ,IAAKA,GACJnC,EAAO,CACRY,UAAW,eAAiB,EAAQ,CAACA,EAAW4B,EAAmBH,GAAa,cAAcY,OAAOP,UAGzGT,EAAIiB,YAAc,MAClBjB,EAAIkB,aAnCe,CACjBd,WAAW,GAmCb","file":"558.08b237b3f3052bb638e3.js","sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport * as React from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\n\nimport RouteController from \"../../utils/RouteController\";\nimport { AppRoute, AppRoutes } from \"../../utils/routes\";\n\ninterface IProps {}\ninterface IState {\n    routes: Array<AppRoute>;\n}\n\nexport default class Home extends React.Component<IProps, IState> {\n    public static readonly Route: string = \"/\";\n\n    public constructor(props: IProps) {\n        super(props);\n        this.setRoutes = this.setRoutes.bind(this);\n\n        this.state = {\n            routes: []\n        };\n    }\n\n    private setRoutes(routes: AppRoute[]) {\n        this.setState({ routes });\n    }\n\n    public async componentDidMount(): Promise<void> {\n        this.setState({\n            routes: await RouteController.getRoutes(false)\n        });\n        RouteController.on(\"refreshAll\", this.setRoutes);\n    }\n\n    public componentWillUnmount(): void {\n        RouteController.removeListener(\"refreshAll\", this.setRoutes);\n    }\n\n    public render(): React.ReactNode {\n        return (\n            <Row xs={1} sm={2} md={3} lg={4} className=\"justify-content-center\">\n                {this.state.routes.map(val => {\n                    //this means it shouldnt be displayed on the home screen\n                    if (!val.homeIcon) return;\n\n                    if (val === AppRoutes.home) return;\n\n                    return (\n                        <Col key={val.link ?? val.route} className=\"mb-1 home\">\n                            <Card\n                                as={val.cachedAuth ? Link : \"div\"}\n                                //@ts-expect-error //dont really know how to fix this so uhhhhhhh, this will do for now\n                                to={val.link ?? val.route}\n                                className={`text-decoration-none m-1 h-75 ${\n                                    val.cachedAuth ? \"text-primary\" : \"text-danger d-sm-flex d-none\"\n                                }`}>\n                                <Card.Body\n                                    style={{\n                                        height: \"245px\"\n                                    }}>\n                                    <FontAwesomeIcon\n                                        fixedWidth={true}\n                                        icon={val.homeIcon}\n                                        className=\"d-block w-100 h-100 m-auto\"\n                                    />\n                                </Card.Body>\n                                <Card.Footer\n                                    className={`text-center font-weight-bold ${\n                                        val.cachedAuth ? \"\" : \"text-danger font-italic\"\n                                    }`}>\n                                    <FormattedMessage id={val.name} />\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </Row>\n        );\n    }\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar defaultProps = {\n  noGutters: false\n};\nvar Row = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      noGutters = _ref.noGutters,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"noGutters\", \"as\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  var sizePrefix = decoratedBsPrefix + \"-cols\";\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      cols = propValue.cols;\n    } else {\n      cols = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (cols != null) classes.push(\"\" + sizePrefix + infix + \"-\" + cols);\n  });\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames.apply(void 0, [className, decoratedBsPrefix, noGutters && 'no-gutters'].concat(classes))\n  }));\n});\nRow.displayName = 'Row';\nRow.defaultProps = defaultProps;\nexport default Row;"],"sourceRoot":""}