{"version":3,"file":"747.eb4934920f34b9ec149b.bundle.js","mappings":"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","sources":["webpack://tgstation-server-control-panel/./src/components/views/Instance/Create.tsx","webpack://tgstation-server-control-panel/./src/utils/ITGSYml.ts","webpack://tgstation-server-control-panel/./src/utils/GithubClient.ts","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Tab.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/TabContainer.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/TabContent.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/TabPane.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Tabs.js"],"sourcesContent":["import React from \"react\";\nimport { Alert, Tab, Tabs } from \"react-bootstrap\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport { FormattedMessage } from \"react-intl\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport YAML from \"yaml\";\n\nimport ConfigurationFileClient from \"../../../ApiClient/ConfigurationFileClient\";\nimport DreamDaemonClient from \"../../../ApiClient/DreamDaemonClient\";\nimport DreamMakerClient from \"../../../ApiClient/DreamMakerClient\";\nimport EngineClient from \"../../../ApiClient/EngineClient\";\nimport {\n    ConfigurationType,\n    DreamDaemonSecurity,\n    EngineType\n} from \"../../../ApiClient/generatedcode/generated\";\nimport InstanceClient from \"../../../ApiClient/InstanceClient\";\nimport InternalError, { ErrorCode } from \"../../../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../../../ApiClient/models/InternalComms/InternalStatus\";\nimport RepositoryClient from \"../../../ApiClient/RepositoryClient\";\nimport JobsController from \"../../../ApiClient/util/JobsController\";\nimport { GeneralContext } from \"../../../contexts/GeneralContext\";\nimport GithubClient from \"../../../utils/GithubClient\";\nimport ITGSYml, { getTGSYmlSecurity } from \"../../../utils/ITGSYml\";\nimport { AppRoutes, RouteData } from \"../../../utils/routes\";\nimport ErrorAlert from \"../../utils/ErrorAlert\";\nimport Loading from \"../../utils/Loading\";\n\ninterface IState {\n    loading: boolean;\n    errors: Array<InternalError<ErrorCode> | undefined>;\n    instanceName?: string;\n    instancePath?: string;\n    repoOwner?: string;\n    repoName?: string;\n    accessUser?: string;\n    accessToken?: string;\n    prefix?: string;\n    tab: string;\n    performingQuickSetup: boolean;\n    quickSetupStages: React.ReactNode[];\n}\n\ninterface IProps extends RouteComponentProps {}\n\nclass InstanceCreate extends React.Component<IProps, IState> {\n    public declare context: GeneralContext;\n    public constructor(props: IProps, context: GeneralContext) {\n        super(props);\n        this.state = {\n            loading: false,\n            errors: [],\n            prefix: context.serverInfo.validInstancePaths?.length\n                ? context.serverInfo.validInstancePaths[0]\n                : undefined,\n            tab: \"quick\",\n            performingQuickSetup: false,\n            quickSetupStages: []\n        };\n\n        this.submit = this.submit.bind(this);\n        this.quickStart = this.quickStart.bind(this);\n    }\n\n    private addError(error: InternalError<ErrorCode>): void {\n        this.setState(prevState => {\n            const errors = Array.from(prevState.errors);\n            errors.push(error);\n            return {\n                errors\n            };\n        });\n    }\n\n    public render(): React.ReactNode {\n        if (this.state.loading) {\n            return <Loading text=\"view.instance.create.loading\" />;\n        }\n\n        const validInstancePaths = this.context.serverInfo.validInstancePaths;\n        return (\n            <div className=\"text-center\">\n                {this.state.errors.map((err, index) => {\n                    if (!err) return;\n                    return (\n                        <ErrorAlert\n                            key={index}\n                            error={err}\n                            onClose={() =>\n                                this.setState(prev => {\n                                    const newarr = Array.from(prev.errors);\n                                    newarr[index] = undefined;\n                                    return {\n                                        errors: newarr\n                                    };\n                                })\n                            }\n                        />\n                    );\n                })}\n                <h3>\n                    <FormattedMessage id=\"view.instance.create.title\" />\n                </h3>\n                {this.state.performingQuickSetup ? (\n                    <div>\n                        <Loading text=\"view.instance.create.quick.active\" />\n                        <ul>{this.state.quickSetupStages}</ul>\n                    </div>\n                ) : (\n                    <Tabs\n                        activeKey={this.state.tab}\n                        onSelect={(newkey: string | null) => {\n                            if (!newkey) return;\n\n                            this.setState({\n                                tab: newkey\n                            });\n                        }}\n                        id=\"create-instance-tabs\"\n                        className=\"justify-content-center mb-3 mt-4 flex-column flex-md-row\">\n                        <Tab\n                            eventKey=\"quick\"\n                            title={<FormattedMessage id=\"view.instance.create.quick\" />}>\n                            {this.renderQuickSetup()}\n                        </Tab>\n                        <Tab\n                            eventKey=\"manual\"\n                            title={<FormattedMessage id=\"view.instance.create.manual\" />}>\n                            <Form onSubmit={this.submit}>\n                                <Col className=\"mx-auto\" lg={5} md={8}>\n                                    <Form.Group controlId=\"name\">\n                                        <Form.Label>\n                                            <h5>\n                                                <FormattedMessage id=\"view.instance.create.name\" />\n                                            </h5>\n                                        </Form.Label>\n                                        <Form.Control\n                                            type=\"text\"\n                                            onChange={event => {\n                                                const instanceName = event.target.value;\n                                                this.setState({\n                                                    instanceName\n                                                });\n                                            }}\n                                            value={this.state.instanceName}\n                                            required\n                                        />\n                                    </Form.Group>\n                                    <Form.Group controlId=\"path\">\n                                        <Form.Label>\n                                            <h5>\n                                                <FormattedMessage id=\"view.instance.create.path\" />\n                                            </h5>\n                                        </Form.Label>\n                                        <InputGroup className=\"mb-1\">\n                                            {validInstancePaths != null ? (\n                                                <InputGroup.Prepend className=\"flex-grow-1 flex-grow-md-0\">\n                                                    <InputGroup.Text>\n                                                        <span>\n                                                            <FormattedMessage id=\"view.instance.create.path.prefix\" />\n                                                        </span>\n                                                    </InputGroup.Text>\n                                                    <Form.Control\n                                                        className=\"rounded-0 flex-grow-1 flex-grow-md-0 flex-shrink-0 flex-shrink-md-1 w-auto\"\n                                                        as=\"select\"\n                                                        custom\n                                                        required\n                                                        onChange={event => {\n                                                            this.setState({\n                                                                prefix: event.target.value\n                                                            });\n                                                        }}>\n                                                        {validInstancePaths.map(validPath => {\n                                                            return (\n                                                                <option\n                                                                    key={validPath}\n                                                                    value={validPath}\n                                                                    selected={\n                                                                        this.state.prefix ==\n                                                                        validPath\n                                                                    }>\n                                                                    {validPath}/\n                                                                </option>\n                                                            );\n                                                        })}\n                                                    </Form.Control>\n                                                </InputGroup.Prepend>\n                                            ) : null}\n                                            <Form.Control\n                                                type=\"text\"\n                                                className=\"flex-grow-1 w-100 w-md-auto\"\n                                                required\n                                                onChange={event => {\n                                                    const instancePath = event.target.value;\n                                                    this.setState({\n                                                        instancePath\n                                                    });\n                                                }}\n                                                value={this.state.instancePath}\n                                            />\n                                        </InputGroup>\n                                    </Form.Group>\n                                    <Button type=\"submit\" variant=\"success\">\n                                        <FormattedMessage id=\"view.instance.create.submit\" />\n                                    </Button>\n                                </Col>\n                            </Form>\n                        </Tab>\n                    </Tabs>\n                )}\n            </div>\n        );\n    }\n\n    private renderQuickSetup(): React.ReactNode {\n        const validInstancePaths = this.context.serverInfo.validInstancePaths;\n        return (\n            <div>\n                <Alert className=\"clearfix\" variant=\"primary\">\n                    <FormattedMessage\n                        id=\"view.instance.create.quick.notice\"\n                        values={{ br: <br /> }}\n                    />\n                </Alert>\n                <Alert className=\"clearfix\" variant=\"error\">\n                    <FormattedMessage id=\"view.instance.create.quick.warning\" />\n                </Alert>\n                <Form onSubmit={this.quickStart}>\n                    <Col className=\"mx-auto\" lg={5} md={8}>\n                        <Form.Group controlId=\"quickname\">\n                            <Form.Label>\n                                <h5>\n                                    <FormattedMessage id=\"view.instance.create.name\" />\n                                </h5>\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                onChange={event => {\n                                    const instanceName = event.target.value;\n                                    this.setState({\n                                        instanceName\n                                    });\n                                }}\n                                value={this.state.instanceName}\n                                required\n                            />\n                        </Form.Group>\n                        <Form.Group controlId=\"quickpath\">\n                            <Form.Label>\n                                <h5>\n                                    <FormattedMessage id=\"view.instance.create.path\" />\n                                </h5>\n                            </Form.Label>\n                            <InputGroup className=\"mb-1\">\n                                {validInstancePaths != null ? (\n                                    <InputGroup.Prepend className=\"flex-grow-1 flex-grow-md-0\">\n                                        <InputGroup.Text>\n                                            <span>\n                                                <FormattedMessage id=\"view.instance.create.path.prefix\" />\n                                            </span>\n                                        </InputGroup.Text>\n                                        <Form.Control\n                                            className=\"rounded-0 flex-grow-1 flex-grow-md-0 flex-shrink-0 flex-shrink-md-1 w-auto\"\n                                            as=\"select\"\n                                            custom\n                                            required\n                                            onChange={event => {\n                                                this.setState({\n                                                    prefix: event.target.value\n                                                });\n                                            }}>\n                                            {validInstancePaths.map(validPath => {\n                                                return (\n                                                    <option\n                                                        key={validPath}\n                                                        value={validPath}\n                                                        selected={this.state.prefix == validPath}>\n                                                        {validPath}/\n                                                    </option>\n                                                );\n                                            })}\n                                        </Form.Control>\n                                    </InputGroup.Prepend>\n                                ) : null}\n                                <Form.Control\n                                    type=\"text\"\n                                    className=\"flex-grow-1 w-100 w-md-auto\"\n                                    required\n                                    onChange={event => {\n                                        const instancePath = event.target.value;\n                                        this.setState({\n                                            instancePath\n                                        });\n                                    }}\n                                    value={this.state.instancePath}\n                                />\n                            </InputGroup>\n                        </Form.Group>\n                        <Form.Group controlId=\"repoowner\">\n                            <Form.Label>\n                                <h5>\n                                    <FormattedMessage id=\"view.instance.create.repo_owner\" />\n                                </h5>\n                            </Form.Label>\n                            <InputGroup className=\"mb-1\">\n                                <Form.Control\n                                    type=\"text\"\n                                    className=\"flex-grow-1 w-100 w-md-auto\"\n                                    required\n                                    onChange={event => {\n                                        const repoOwner = event.target.value;\n                                        this.setState({\n                                            repoOwner\n                                        });\n                                    }}\n                                    value={this.state.repoOwner}\n                                />\n                            </InputGroup>\n                        </Form.Group>\n                        <Form.Group controlId=\"reponame\">\n                            <Form.Label>\n                                <h5>\n                                    <FormattedMessage id=\"view.instance.create.repo_name\" />\n                                </h5>\n                            </Form.Label>\n                            <InputGroup className=\"mb-1\">\n                                <Form.Control\n                                    type=\"text\"\n                                    className=\"flex-grow-1 w-100 w-md-auto\"\n                                    required\n                                    onChange={event => {\n                                        const repoName = event.target.value;\n                                        this.setState({\n                                            repoName\n                                        });\n                                    }}\n                                    value={this.state.repoName}\n                                />\n                            </InputGroup>\n                        </Form.Group>\n                        <Form.Group controlId=\"accessuser\">\n                            <Form.Label>\n                                <h5>\n                                    <FormattedMessage id=\"view.instance.create.access_user\" />\n                                </h5>\n                            </Form.Label>\n                            <InputGroup className=\"mb-1\">\n                                <Form.Control\n                                    type=\"text\"\n                                    className=\"flex-grow-1 w-100 w-md-auto\"\n                                    onChange={event => {\n                                        const accessUser = event.target.value;\n                                        this.setState({\n                                            accessUser\n                                        });\n                                    }}\n                                    value={this.state.accessUser}\n                                />\n                            </InputGroup>\n                        </Form.Group>\n                        <Form.Group controlId=\"accesstoken\">\n                            <Form.Label>\n                                <h5>\n                                    <FormattedMessage id=\"view.instance.create.access_token\" />\n                                </h5>\n                            </Form.Label>\n                            <InputGroup className=\"mb-1\">\n                                <Form.Control\n                                    type=\"password\"\n                                    className=\"flex-grow-1 w-100 w-md-auto\"\n                                    onChange={event => {\n                                        const accessToken = event.target.value;\n                                        this.setState({\n                                            accessToken\n                                        });\n                                    }}\n                                    value={this.state.accessToken}\n                                />\n                            </InputGroup>\n                        </Form.Group>\n                        <Button type=\"submit\" variant=\"success\">\n                            <FormattedMessage id=\"view.instance.create.quick.submit\" />\n                        </Button>\n                    </Col>\n                </Form>\n            </div>\n        );\n    }\n\n    private pushStage(stageNotice: React.ReactNode) {\n        this.setState(prevState => {\n            const newStages = [...prevState.quickSetupStages];\n            newStages.push(<li>{stageNotice}</li>);\n            return {\n                quickSetupStages: newStages\n            };\n        });\n    }\n\n    private async quickStart(): Promise<void> {\n        //The required attribute should prevent this from ever happening but id rather not fuck over someone\n        if (\n            !this.state.instancePath ||\n            !this.state.instanceName ||\n            !this.state.repoName ||\n            !this.state.repoOwner\n        ) {\n            return;\n        }\n\n        this.setState({\n            performingQuickSetup: true,\n            quickSetupStages: []\n        });\n        this.pushStage(<FormattedMessage id=\"view.instance.create.quick.stage.yml\" />);\n\n        const ymlResponse = await GithubClient.getFile(\n            this.state.repoOwner,\n            this.state.repoName,\n            \".tgs.yml\"\n        );\n        if (ymlResponse.code === StatusCode.ERROR) {\n            this.addError(ymlResponse.error);\n            this.setState({\n                performingQuickSetup: false\n            });\n            return;\n        }\n\n        const rawYml = window.atob(ymlResponse.payload);\n        let yml: ITGSYml;\n        try {\n            yml = YAML.parse(rawYml) as ITGSYml;\n        } catch (e) {\n            this.addError(new InternalError(ErrorCode.BAD_YML, { void: true }));\n            this.setState({\n                performingQuickSetup: false\n            });\n            return;\n        }\n\n        if (yml.version !== 1) {\n            this.addError(new InternalError(ErrorCode.BAD_TGS_YML_VERSION, { void: true }));\n            this.setState({\n                performingQuickSetup: false\n            });\n        }\n\n        const isWindows = this.context.serverInfo.windowsHost;\n        const scripts = (isWindows ? yml.windows_scripts : yml.linux_scripts) ?? {};\n        const secLevel = getTGSYmlSecurity(yml) ?? DreamDaemonSecurity.Safe;\n        try {\n            const scriptData = new Map<string, string>();\n            const scriptKeys = Object.keys(scripts);\n            if (scriptKeys.length > 0) {\n                for (const scriptName of scriptKeys) {\n                    const scriptPath = scripts[scriptName];\n                    this.pushStage(\n                        <FormattedMessage\n                            id=\"view.instance.create.quick.stage.download_scripts\"\n                            values={{ script: scriptName }}\n                        />\n                    );\n\n                    const scriptResponse = await GithubClient.getFile(\n                        this.state.repoOwner,\n                        this.state.repoName,\n                        scriptPath\n                    );\n\n                    if (scriptResponse.code === StatusCode.ERROR) {\n                        this.addError(scriptResponse.error);\n                        this.setState({\n                            performingQuickSetup: false\n                        });\n                        return;\n                    }\n\n                    scriptData.set(scriptName, scriptResponse.payload);\n                }\n            }\n\n            this.pushStage(\n                <FormattedMessage id=\"view.instance.create.quick.stage.create_instance\" />\n            );\n\n            const instancePath =\n                (this.state.prefix ? this.state.prefix + \"/\" : \"\") + this.state.instancePath;\n            const createResult = await InstanceClient.createInstance({\n                name: this.state.instanceName,\n                path: instancePath,\n                configurationType: ConfigurationType.HostWrite\n            });\n\n            if (createResult.code === StatusCode.ERROR) {\n                this.addError(createResult.error);\n                this.setState({\n                    performingQuickSetup: false\n                });\n\n                return;\n            }\n\n            const instanceId = createResult.payload.id;\n            const onlineResult = await InstanceClient.editInstance({\n                id: instanceId,\n                online: true\n            });\n\n            if (onlineResult.code === StatusCode.ERROR) {\n                this.addError(onlineResult.error);\n                this.setState({\n                    performingQuickSetup: false\n                });\n\n                return;\n            }\n\n            this.pushStage(<FormattedMessage id=\"view.instance.create.quick.stage.cloning\" />);\n\n            // look, we really should be prompting for reference and enable submodules but I hate webdev and can't be assed rn k? -Dominion\n            const cloneResult = await RepositoryClient.cloneRepository(instanceId, {\n                origin: `https://github.com/${this.state.repoOwner}/${this.state.repoName}`,\n                updateSubmodules: true\n            });\n\n            if (cloneResult.code === StatusCode.ERROR) {\n                this.addError(cloneResult.error);\n                this.setState({\n                    performingQuickSetup: false\n                });\n\n                return;\n            }\n\n            JobsController.registerJob(cloneResult.payload.activeJob!, instanceId);\n\n            if (yml.byond) {\n                this.pushStage(\n                    <FormattedMessage\n                        id=\"view.instance.create.quick.stage.byond\"\n                        values={{ version: yml.byond }}\n                    />\n                );\n                const engineResult = await EngineClient.switchActive(instanceId, {\n                    version: yml.byond,\n                    engine: EngineType.Byond\n                });\n\n                if (engineResult.code === StatusCode.ERROR) {\n                    this.addError(engineResult.error);\n                    this.setState({\n                        performingQuickSetup: false\n                    });\n\n                    return;\n                }\n\n                JobsController.registerJob(engineResult.payload.installJob!, instanceId);\n            }\n\n            if (secLevel != DreamDaemonSecurity.Safe) {\n                this.pushStage(<FormattedMessage id=\"view.instance.create.quick.stage.settings\" />);\n                const dmResult = await DreamMakerClient.updateDeployInfo(instanceId, {\n                    apiValidationSecurityLevel: secLevel\n                });\n\n                if (dmResult.code === StatusCode.ERROR) {\n                    this.addError(dmResult.error);\n                    this.setState({\n                        performingQuickSetup: false\n                    });\n\n                    return;\n                }\n\n                const ddResult = await DreamDaemonClient.updateWatchdogStatus(instanceId, {\n                    securityLevel: secLevel\n                });\n\n                if (ddResult.code === StatusCode.ERROR) {\n                    this.addError(ddResult.error);\n                    this.setState({\n                        performingQuickSetup: false\n                    });\n\n                    return;\n                }\n            }\n\n            const base64ToArrayBuffer = (base64: string) => {\n                const binary_string = window.atob(base64);\n                const len = binary_string.length;\n                const bytes = new Uint8Array(len);\n                for (let i = 0; i < len; i++) {\n                    bytes[i] = binary_string.charCodeAt(i);\n                }\n                return bytes.buffer;\n            };\n\n            for (const scriptKvp of scriptData) {\n                this.pushStage(\n                    <FormattedMessage\n                        id=\"view.instance.create.quick.stage.upload_scripts\"\n                        values={{ script: scriptKvp[0] }}\n                    />\n                );\n\n                const configResult = await ConfigurationFileClient.writeConfigFile(\n                    instanceId,\n                    {\n                        path: `EventScripts/${scriptKvp[0]}`\n                    },\n                    base64ToArrayBuffer(scriptKvp[1])\n                );\n\n                if (configResult.code === StatusCode.ERROR) {\n                    this.addError(configResult.error);\n                    this.setState({\n                        performingQuickSetup: false\n                    });\n\n                    return;\n                }\n            }\n\n            if (yml.static_files) {\n                for (const staticFile of yml.static_files) {\n                    this.pushStage(\n                        <FormattedMessage\n                            id=\"view.instance.create.quick.stage.static\"\n                            values={{ dir: staticFile.name }}\n                        />\n                    );\n\n                    if (staticFile.populate) {\n                        let success = true;\n                        const processDirectory = async (path: string): Promise<void> => {\n                            const directoryResults = await GithubClient.getDirectoryContents(\n                                this.state.repoOwner!,\n                                this.state.repoName!,\n                                path\n                            );\n\n                            if (directoryResults.code === StatusCode.ERROR) {\n                                this.addError(directoryResults.error);\n                                this.setState({\n                                    performingQuickSetup: false\n                                });\n                                success = false;\n                                return;\n                            }\n\n                            for (const directoryItem of directoryResults.payload) {\n                                if (directoryItem.isDirectory) {\n                                    await processDirectory(directoryItem.path);\n                                    if (!success) {\n                                        return;\n                                    }\n                                } else {\n                                    this.pushStage(\n                                        <FormattedMessage\n                                            id=\"view.instance.create.quick.stage.static.transfer\"\n                                            values={{ path: directoryItem.path }}\n                                        />\n                                    );\n\n                                    const downloadResult = await GithubClient.getFile(\n                                        this.state.repoOwner!,\n                                        this.state.repoName!,\n                                        directoryItem.path\n                                    );\n\n                                    if (downloadResult.code === StatusCode.ERROR) {\n                                        this.addError(downloadResult.error);\n                                        this.setState({\n                                            performingQuickSetup: false\n                                        });\n                                        success = false;\n                                        return;\n                                    }\n\n                                    const uploadResult = await ConfigurationFileClient.writeConfigFile(\n                                        instanceId,\n                                        {\n                                            path: `GameStaticFiles/${directoryItem.path}`\n                                        },\n                                        base64ToArrayBuffer(downloadResult.payload)\n                                    );\n\n                                    if (uploadResult.code === StatusCode.ERROR) {\n                                        this.addError(uploadResult.error);\n                                        this.setState({\n                                            performingQuickSetup: false\n                                        });\n                                        success = false;\n                                        return;\n                                    }\n                                }\n                            }\n                        };\n\n                        await processDirectory(staticFile.name);\n                        if (!success) {\n                            return;\n                        }\n                    } else {\n                        this.pushStage(\n                            <FormattedMessage\n                                id=\"view.instance.create.quick.stage.static\"\n                                values={{ script: staticFile.name }}\n                            />\n                        );\n\n                        const dirResult = await ConfigurationFileClient.addDirectory(instanceId, {\n                            path: `GameStaticFiles/${staticFile.name}`\n                        });\n\n                        if (dirResult.code === StatusCode.ERROR) {\n                            this.addError(dirResult.error);\n                            this.setState({\n                                performingQuickSetup: false\n                            });\n\n                            return;\n                        }\n                    }\n                }\n            }\n\n            RouteData.selectedinstanceid = instanceId;\n            this.props.history.push(AppRoutes.instanceedit.link ?? AppRoutes.instanceedit.route);\n        } catch (e) {\n            this.addError(new InternalError(ErrorCode.BAD_YML, { jsError: e as Error }));\n            this.setState({\n                performingQuickSetup: false\n            });\n        }\n    }\n\n    private async submit() {\n        //The required attribute should prevent this from ever happening but id rather not fuck over someone\n        if (!this.state.instancePath || !this.state.instanceName) {\n            return;\n        }\n\n        const instancePath =\n            (this.state.prefix ? this.state.prefix + \"/\" : \"\") + this.state.instancePath;\n\n        this.setState({\n            loading: true\n        });\n\n        const result = await InstanceClient.createInstance({\n            name: this.state.instanceName,\n            path: instancePath\n        });\n\n        if (result.code === StatusCode.ERROR) {\n            this.setState({\n                loading: false\n            });\n            this.addError(result.error);\n\n            return;\n        }\n\n        RouteData.selectedinstanceid = result.payload.id;\n        this.props.history.push(AppRoutes.instancelist.link ?? AppRoutes.instancelist.route);\n    }\n}\nInstanceCreate.contextType = GeneralContext;\nexport default withRouter(InstanceCreate);\n","import { DreamDaemonSecurity } from \"../ApiClient/generatedcode/generated\";\n\ninterface IStaticFile {\n    name: string;\n    populate?: boolean;\n}\n\nexport function getTGSYmlSecurity(yml: ITGSYml): DreamDaemonSecurity | null {\n    switch (yml.security?.toLowerCase()) {\n        case \"ultrasafe\":\n            return DreamDaemonSecurity.Ultrasafe;\n        case \"safe\":\n            return DreamDaemonSecurity.Safe;\n        case \"trusted\":\n            return DreamDaemonSecurity.Trusted;\n        default:\n            return null;\n    }\n}\n\nexport default interface ITGSYml {\n    version: number;\n    byond?: string;\n    static_files?: IStaticFile[];\n    linux_scripts?: { [index: string]: string };\n    windows_scripts?: { [index: string]: string };\n    security?: string;\n}\n","import { retry } from \"@octokit/plugin-retry\";\nimport { throttling } from \"@octokit/plugin-throttling\";\nimport { RequestError } from \"@octokit/request-error\";\nimport { Octokit, RestEndpointMethodTypes } from \"@octokit/rest\";\nimport { TypedEmitter } from \"tiny-typed-emitter/lib\";\n\nimport InternalError, { ErrorCode } from \"../ApiClient/models/InternalComms/InternalError\";\nimport InternalStatus, { StatusCode } from \"../ApiClient/models/InternalComms/InternalStatus\";\nimport configOptions from \"../ApiClient/util/config\";\nimport { VERSION } from \"../definitions/constants\";\n\nexport interface TGSVersion {\n    version: string;\n    body: string;\n    current: boolean;\n    old: boolean;\n}\n\nexport interface Commit {\n    name: string;\n    sha: string;\n    url: string;\n}\n\nexport interface PullRequest {\n    number: number;\n    title: string;\n    author: string;\n    state: \"open\" | \"closed\" | \"merged\";\n    link: string;\n    head: string;\n    tail: string;\n    testmergelabel: boolean;\n}\n\ntype ExtractArrayType<A> = A extends Array<infer ArrayType> ? ArrayType : never;\nexport type GithubPullRequest = ExtractArrayType<\n    RestEndpointMethodTypes[\"pulls\"][\"list\"][\"response\"][\"data\"]\n>;\nexport type FullGithubPullRequest = RestEndpointMethodTypes[\"pulls\"][\"get\"][\"response\"][\"data\"];\n\nexport interface DirectoryItem {\n    path: string;\n    isDirectory: boolean;\n}\n\ninterface IEvents {}\n\n/* eslint-disable */\n\nasync function hook(request: any, route: any, parameters?: any): Promise<any> {\n    const endpoint = request.endpoint.merge(route as string, parameters);\n\n    if (configOptions.githubtoken.value) {\n        endpoint.headers.authorization = `token ${configOptions.githubtoken.value}`;\n    }\n\n    return request(endpoint);\n}\n\nasync function auth(): Promise<any> {\n    if (configOptions.githubtoken.value) {\n        return {\n            type: \"token\",\n            tokenType: \"pat\",\n            token: configOptions.githubtoken.value\n        };\n    } else {\n        return {\n            type: \"unauthenticated\"\n        };\n    }\n}\n\nconst authStrategy = () => {\n    return Object.assign(auth.bind(null), {\n        hook: hook.bind(null)\n    });\n};\n\n/* eslint-enable */\n\nconst e = new (class GithubClient extends TypedEmitter<IEvents> {\n    private readonly apiClient: Octokit;\n\n    public constructor() {\n        super();\n\n        const octo = Octokit.plugin(retry, throttling);\n\n        this.apiClient = new octo({\n            authStrategy,\n            userAgent: \"tgstation-server-control-panel/\" + VERSION,\n            baseUrl: \"https://api.github.com\",\n            throttle: {\n                onRateLimit: (\n                    retryAfter: number,\n                    options: { method: string; url: string; request: { retryCount: number } }\n                ) => {\n                    console.warn(\n                        `Request quota exhausted for request ${options.method} ${options.url}`\n                    );\n\n                    if (options.request.retryCount === 0) {\n                        // only retries once\n                        console.log(`Retrying after ${retryAfter} seconds!`);\n                        return true;\n                    }\n                    return false;\n                },\n                onAbuseLimit: (retryAfter: number, options: { method: string; url: string }) => {\n                    // does not retry, only logs a warning\n                    console.warn(`Abuse detected for request ${options.method} ${options.url}`);\n                }\n            }\n        });\n    }\n\n    public async getLatestDefaultCommit(\n        owner: string,\n        repo: string\n    ): Promise<InternalStatus<string, ErrorCode.GITHUB_FAIL>> {\n        try {\n            const repoData = await this.apiClient.repos.get({\n                owner,\n                repo\n            });\n\n            const branch = await this.apiClient.repos.getBranch({\n                owner,\n                repo,\n                branch: repoData.data.default_branch\n            });\n\n            return new InternalStatus({\n                code: StatusCode.OK,\n                payload: branch.data.commit.sha\n            });\n        } catch (e) {\n            return new InternalStatus<string, ErrorCode.GITHUB_FAIL>({\n                code: StatusCode.ERROR,\n                error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                    jsError: e as RequestError\n                })\n            });\n        }\n    }\n\n    public async getVersions({\n        owner,\n        repo,\n        current,\n        all\n    }: {\n        owner: string;\n        repo: string;\n        current: string;\n        all?: boolean;\n    }): Promise<InternalStatus<TGSVersion[], ErrorCode.GITHUB_FAIL>> {\n        let payload: TGSVersion[];\n        let oldversions = 0;\n        try {\n            payload = await this.apiClient.paginate(\n                this.apiClient.repos.listReleases,\n                { owner, repo },\n                (response, done) => {\n                    return response.data.reduce((result, release) => {\n                        const match = /tgstation-server-v([\\d.]+)/.exec(release.name ?? \"\");\n                        if (!match) return result;\n\n                        const majorVersion = parseInt(match[1][0]);\n                        if (majorVersion < 4) return result;\n\n                        const version = match[1];\n                        let old = false;\n\n                        //show 3 outdated versions(2 if you count the current one)\n                        if (version <= current) {\n                            if (oldversions >= 3 && !all) {\n                                (done as () => void)();\n                                return result;\n                            }\n                            oldversions++;\n                            old = true;\n                        }\n\n                        result.push({\n                            version,\n                            body: release.body ?? \"\",\n                            current: version === current,\n                            old\n                        });\n                        return result;\n                    }, [] as TGSVersion[]);\n                }\n            );\n        } catch (e) {\n            return new InternalStatus<TGSVersion[], ErrorCode.GITHUB_FAIL>({\n                code: StatusCode.ERROR,\n                error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                    jsError: e as RequestError\n                })\n            });\n        }\n        return new InternalStatus({\n            code: StatusCode.OK,\n            payload\n        });\n    }\n\n    private transformPR(pr: FullGithubPullRequest | GithubPullRequest): PullRequest {\n        return {\n            number: pr.number,\n            title: pr.title,\n            author: pr.user?.login ?? \"ghost\",\n            state: pr.merged_at ? \"merged\" : (pr.state as \"open\" | \"closed\"),\n            link: pr.html_url,\n            head: pr.head.sha,\n            tail: pr.base.sha,\n            testmergelabel: pr.labels.some(\n                label =>\n                    label.name?.toLowerCase().includes(\"testmerge\") ||\n                    label.name?.toLowerCase().includes(\"test merge\")\n            )\n        };\n    }\n\n    public async getPRs({\n        owner,\n        repo,\n        wantedPRs\n    }: {\n        owner: string;\n        repo: string;\n        wantedPRs?: number[];\n    }): Promise<InternalStatus<PullRequest[], ErrorCode.GITHUB_FAIL>> {\n        let payload: PullRequest[] = [];\n        try {\n            payload = (\n                await this.apiClient.paginate(this.apiClient.pulls.list, {\n                    owner,\n                    repo,\n                    state: \"open\"\n                })\n            ).map(this.transformPR);\n\n            for (const wantedPR of wantedPRs ?? []) {\n                if (!payload.find(pr => pr.number == wantedPR)) {\n                    const pr = (\n                        await this.apiClient.pulls.get({\n                            owner,\n                            repo,\n                            pull_number: wantedPR\n                        })\n                    ).data;\n                    payload.push(this.transformPR(pr));\n                }\n            }\n        } catch (e) {\n            console.error(e);\n            return new InternalStatus<PullRequest[], ErrorCode.GITHUB_FAIL>({\n                code: StatusCode.ERROR,\n                error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                    jsError: e as RequestError\n                })\n            });\n        }\n        return new InternalStatus({\n            code: StatusCode.OK,\n            payload\n        });\n    }\n\n    public async getPRCommits({\n        owner,\n        repo,\n        pr,\n        wantedCommit\n    }: {\n        owner: string;\n        repo: string;\n        pr: PullRequest;\n        wantedCommit?: string;\n    }): Promise<InternalStatus<[commits: Commit[], extraCommit?: Commit], ErrorCode.GITHUB_FAIL>> {\n        let payload: Commit[] = [];\n        let extraCommit: Commit | undefined = undefined;\n        try {\n            payload = await this.apiClient.paginate(\n                this.apiClient.pulls.listCommits,\n                {\n                    owner,\n                    repo,\n                    pull_number: pr.number,\n                    per_page: 100\n                },\n                ({ data }) =>\n                    data.map(commit => ({\n                        name: commit.commit.message.split(\"\\n\")[0],\n                        sha: commit.sha,\n                        url: commit.html_url\n                    }))\n            );\n\n            //Newest at the top\n            payload.reverse();\n\n            if (wantedCommit && !payload.find(commit => commit.sha === wantedCommit)) {\n                const _extraCommit = (\n                    await this.apiClient.repos.getCommit({\n                        owner,\n                        repo,\n                        ref: wantedCommit\n                    })\n                ).data;\n                extraCommit = {\n                    name: _extraCommit.commit.message.split(\"\\n\")[0],\n                    sha: _extraCommit.sha,\n                    url: _extraCommit.html_url\n                };\n            }\n        } catch (e) {\n            console.error(e);\n            return new InternalStatus<\n                [commits: Commit[], extraCommit?: Commit],\n                ErrorCode.GITHUB_FAIL\n            >({\n                code: StatusCode.ERROR,\n                error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                    jsError: e as RequestError\n                })\n            });\n        }\n        return new InternalStatus({\n            code: StatusCode.OK,\n            payload: [payload, extraCommit]\n        });\n    }\n\n    public async getFile(\n        owner: string,\n        repo: string,\n        path: string,\n        ref?: string\n    ): Promise<InternalStatus<string, ErrorCode.GITHUB_FAIL>> {\n        try {\n            const { data } = await this.apiClient.repos.getContent({\n                mediaType: {\n                    format: \"base64\"\n                },\n                owner,\n                repo,\n                path,\n                ref\n            });\n\n            // ignore directory responses\n            if (Array.isArray(data)) {\n                return new InternalStatus<string, ErrorCode.GITHUB_FAIL>({\n                    code: StatusCode.ERROR,\n                    error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                        jsError: new Error(`${path} was a directory!`)\n                    })\n                });\n            }\n\n            if (data.type !== \"file\") {\n                return new InternalStatus<string, ErrorCode.GITHUB_FAIL>({\n                    code: StatusCode.ERROR,\n                    error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                        jsError: new Error(`${path} has type ${data.type}!`)\n                    })\n                });\n            }\n\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n            const raw = (data as any).content as string;\n\n            return new InternalStatus({\n                code: StatusCode.OK,\n                payload: raw\n            });\n        } catch (e) {\n            console.error(e);\n            return new InternalStatus<string, ErrorCode.GITHUB_FAIL>({\n                code: StatusCode.ERROR,\n                error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                    jsError: e as RequestError\n                })\n            });\n        }\n    }\n\n    public async getDirectoryContents(\n        owner: string,\n        repo: string,\n        path: string\n    ): Promise<InternalStatus<DirectoryItem[], ErrorCode.GITHUB_FAIL>> {\n        try {\n            const { data } = await this.apiClient.repos.getContent({\n                owner,\n                repo,\n                path\n            });\n\n            // ignore non-directory responses\n            if (!Array.isArray(data)) {\n                return new InternalStatus<DirectoryItem[], ErrorCode.GITHUB_FAIL>({\n                    code: StatusCode.ERROR,\n                    error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                        jsError: new Error(`${path} was not a directory!`)\n                    })\n                });\n            }\n\n            const result: DirectoryItem[] = [];\n            data.forEach(element =>\n                result.push({\n                    path: element.path,\n                    isDirectory: element.type == \"dir\"\n                })\n            );\n\n            return new InternalStatus({\n                code: StatusCode.OK,\n                payload: result\n            });\n        } catch (e) {\n            console.error(e);\n            return new InternalStatus<DirectoryItem[], ErrorCode.GITHUB_FAIL>({\n                code: StatusCode.ERROR,\n                error: new InternalError(ErrorCode.GITHUB_FAIL, {\n                    jsError: e as RequestError\n                })\n            });\n        }\n    }\n})();\nexport default e;\n","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport TabContainer from './TabContainer';\nimport TabContent from './TabContent';\nimport TabPane from './TabPane';\n\n/* eslint-disable react/require-render-return, react/no-unused-prop-types */\nvar Tab = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tab, _React$Component);\n\n  function Tab() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Tab.prototype;\n\n  _proto.render = function render() {\n    throw new Error('ReactBootstrap: The `Tab` component is not meant to be rendered! ' + \"It's an abstract component that is only valid as a direct Child of the `Tabs` Component. \" + 'For custom tabs components use TabPane and TabsContainer directly');\n    return null;\n  };\n\n  return Tab;\n}(React.Component);\n\nTab.Container = TabContainer;\nTab.Content = TabContent;\nTab.Pane = TabPane;\nexport default Tab;","import React, { useMemo } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport TabContext from './TabContext';\nimport SelectableContext from './SelectableContext';\n\nvar TabContainer = function TabContainer(props) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      id = _useUncontrolled.id,\n      generateCustomChildId = _useUncontrolled.generateChildId,\n      onSelect = _useUncontrolled.onSelect,\n      activeKey = _useUncontrolled.activeKey,\n      transition = _useUncontrolled.transition,\n      mountOnEnter = _useUncontrolled.mountOnEnter,\n      unmountOnExit = _useUncontrolled.unmountOnExit,\n      children = _useUncontrolled.children;\n\n  var generateChildId = useMemo(function () {\n    return generateCustomChildId || function (key, type) {\n      return id ? id + \"-\" + type + \"-\" + key : null;\n    };\n  }, [id, generateCustomChildId]);\n  var tabContext = useMemo(function () {\n    return {\n      onSelect: onSelect,\n      activeKey: activeKey,\n      transition: transition,\n      mountOnEnter: mountOnEnter || false,\n      unmountOnExit: unmountOnExit || false,\n      getControlledId: function getControlledId(key) {\n        return generateChildId(key, 'tabpane');\n      },\n      getControllerId: function getControllerId(key) {\n        return generateChildId(key, 'tab');\n      }\n    };\n  }, [onSelect, activeKey, transition, mountOnEnter, unmountOnExit, generateChildId]);\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: tabContext\n  }, /*#__PURE__*/React.createElement(SelectableContext.Provider, {\n    value: onSelect || null\n  }, children));\n};\n\nexport default TabContainer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"as\", \"className\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar TabContent = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'tab-content');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix)\n  }));\n});\nexport default TabContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"activeKey\", \"getControlledId\", \"getControllerId\"],\n    _excluded2 = [\"bsPrefix\", \"className\", \"active\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"mountOnEnter\", \"unmountOnExit\", \"transition\", \"as\", \"eventKey\"];\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport TabContext from './TabContext';\nimport SelectableContext, { makeEventKey } from './SelectableContext';\nimport Fade from './Fade';\n\nfunction useTabContext(props) {\n  var context = useContext(TabContext);\n  if (!context) return props;\n\n  var activeKey = context.activeKey,\n      getControlledId = context.getControlledId,\n      getControllerId = context.getControllerId,\n      rest = _objectWithoutPropertiesLoose(context, _excluded);\n\n  var shouldTransition = props.transition !== false && rest.transition !== false;\n  var key = makeEventKey(props.eventKey);\n  return _extends({}, props, {\n    active: props.active == null && key != null ? makeEventKey(activeKey) === key : props.active,\n    id: getControlledId(props.eventKey),\n    'aria-labelledby': getControllerId(props.eventKey),\n    transition: shouldTransition && (props.transition || rest.transition || Fade),\n    mountOnEnter: props.mountOnEnter != null ? props.mountOnEnter : rest.mountOnEnter,\n    unmountOnExit: props.unmountOnExit != null ? props.unmountOnExit : rest.unmountOnExit\n  });\n}\n\nvar TabPane = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useTabContext = useTabContext(props),\n      bsPrefix = _useTabContext.bsPrefix,\n      className = _useTabContext.className,\n      active = _useTabContext.active,\n      onEnter = _useTabContext.onEnter,\n      onEntering = _useTabContext.onEntering,\n      onEntered = _useTabContext.onEntered,\n      onExit = _useTabContext.onExit,\n      onExiting = _useTabContext.onExiting,\n      onExited = _useTabContext.onExited,\n      mountOnEnter = _useTabContext.mountOnEnter,\n      unmountOnExit = _useTabContext.unmountOnExit,\n      Transition = _useTabContext.transition,\n      _useTabContext$as = _useTabContext.as,\n      Component = _useTabContext$as === void 0 ? 'div' : _useTabContext$as,\n      _ = _useTabContext.eventKey,\n      rest = _objectWithoutPropertiesLoose(_useTabContext, _excluded2);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'tab-pane');\n  if (!active && !Transition && unmountOnExit) return null;\n  var pane = /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    ref: ref,\n    role: \"tabpanel\",\n    \"aria-hidden\": !active,\n    className: classNames(className, prefix, {\n      active: active\n    })\n  }));\n  if (Transition) pane = /*#__PURE__*/React.createElement(Transition, {\n    in: active,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    mountOnEnter: mountOnEnter,\n    unmountOnExit: unmountOnExit\n  }, pane); // We provide an empty the TabContext so `<Nav>`s in `<TabPane>`s don't\n  // conflict with the top level one.\n\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(SelectableContext.Provider, {\n    value: null\n  }, pane));\n});\nTabPane.displayName = 'TabPane';\nexport default TabPane;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"id\", \"onSelect\", \"transition\", \"mountOnEnter\", \"unmountOnExit\", \"children\", \"activeKey\"];\nimport React from 'react';\nimport requiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useUncontrolled } from 'uncontrollable';\nimport Nav from './Nav';\nimport NavLink from './NavLink';\nimport NavItem from './NavItem';\nimport TabContainer from './TabContainer';\nimport TabContent from './TabContent';\nimport TabPane from './TabPane';\nimport { forEach, map } from './ElementChildren';\nvar defaultProps = {\n  variant: 'tabs',\n  mountOnEnter: false,\n  unmountOnExit: false\n};\n\nfunction getDefaultActiveKey(children) {\n  var defaultActiveKey;\n  forEach(children, function (child) {\n    if (defaultActiveKey == null) {\n      defaultActiveKey = child.props.eventKey;\n    }\n  });\n  return defaultActiveKey;\n}\n\nfunction renderTab(child) {\n  var _child$props = child.props,\n      title = _child$props.title,\n      eventKey = _child$props.eventKey,\n      disabled = _child$props.disabled,\n      tabClassName = _child$props.tabClassName,\n      id = _child$props.id;\n\n  if (title == null) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(NavItem, {\n    as: NavLink,\n    eventKey: eventKey,\n    disabled: disabled,\n    id: id,\n    className: tabClassName\n  }, title);\n}\n\nvar Tabs = function Tabs(props) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      id = _useUncontrolled.id,\n      onSelect = _useUncontrolled.onSelect,\n      transition = _useUncontrolled.transition,\n      mountOnEnter = _useUncontrolled.mountOnEnter,\n      unmountOnExit = _useUncontrolled.unmountOnExit,\n      children = _useUncontrolled.children,\n      _useUncontrolled$acti = _useUncontrolled.activeKey,\n      activeKey = _useUncontrolled$acti === void 0 ? getDefaultActiveKey(children) : _useUncontrolled$acti,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  return /*#__PURE__*/React.createElement(TabContainer, {\n    id: id,\n    activeKey: activeKey,\n    onSelect: onSelect,\n    transition: transition,\n    mountOnEnter: mountOnEnter,\n    unmountOnExit: unmountOnExit\n  }, /*#__PURE__*/React.createElement(Nav, _extends({}, controlledProps, {\n    role: \"tablist\",\n    as: \"nav\"\n  }), map(children, renderTab)), /*#__PURE__*/React.createElement(TabContent, null, map(children, function (child) {\n    var childProps = _extends({}, child.props);\n\n    delete childProps.title;\n    delete childProps.disabled;\n    delete childProps.tabClassName;\n    return /*#__PURE__*/React.createElement(TabPane, childProps);\n  })));\n};\n\nTabs.defaultProps = defaultProps;\nTabs.displayName = 'Tabs';\nexport default Tabs;"],"names":["InstanceCreate","React","constructor","props","context","super","this","state","loading","errors","prefix","serverInfo","validInstancePaths","length","undefined","tab","performingQuickSetup","quickSetupStages","submit","bind","quickStart","addError","error","setState","prevState","Array","from","push","render","Loading","text","className","map","err","index","ErrorAlert","key","onClose","prev","newarr","id","Tabs","activeKey","onSelect","newkey","Tab","eventKey","title","renderQuickSetup","Form","onSubmit","Col","lg","md","controlId","type","onChange","event","instanceName","target","value","required","InputGroup","as","custom","validPath","selected","instancePath","Button","variant","Alert","values","br","repoOwner","repoName","accessUser","accessToken","pushStage","stageNotice","newStages","ymlResponse","GithubClient","code","StatusCode","rawYml","window","atob","payload","yml","YAML","e","InternalError","ErrorCode","void","version","scripts","windowsHost","windows_scripts","linux_scripts","secLevel","security","toLowerCase","DreamDaemonSecurity","getTGSYmlSecurity","scriptData","Map","scriptKeys","Object","keys","scriptName","scriptPath","script","scriptResponse","set","createResult","InstanceClient","name","path","configurationType","ConfigurationType","instanceId","onlineResult","online","cloneResult","RepositoryClient","origin","updateSubmodules","JobsController","activeJob","byond","engineResult","EngineClient","engine","EngineType","installJob","dmResult","DreamMakerClient","apiValidationSecurityLevel","ddResult","DreamDaemonClient","securityLevel","base64ToArrayBuffer","base64","binary_string","len","bytes","Uint8Array","i","charCodeAt","buffer","scriptKvp","configResult","ConfigurationFileClient","static_files","staticFile","dir","populate","success","processDirectory","async","directoryResults","directoryItem","isDirectory","downloadResult","uploadResult","dirResult","RouteData","history","AppRoutes","jsError","result","contextType","GeneralContext","withRouter","hook","request","route","parameters","endpoint","merge","configOptions","headers","authorization","auth","tokenType","token","authStrategy","assign","TypedEmitter","apiClient","octo","Octokit","retry","throttling","userAgent","VERSION","baseUrl","throttle","onRateLimit","retryAfter","options","console","warn","method","url","retryCount","log","onAbuseLimit","owner","repo","repoData","repos","get","branch","getBranch","data","default_branch","InternalStatus","commit","sha","current","all","oldversions","paginate","listReleases","response","done","reduce","release","match","exec","parseInt","old","body","transformPR","pr","number","author","user","login","merged_at","link","html_url","head","tail","base","testmergelabel","labels","some","label","includes","wantedPRs","pulls","list","wantedPR","find","pull_number","wantedCommit","extraCommit","listCommits","per_page","message","split","reverse","_extraCommit","getCommit","ref","getContent","mediaType","format","isArray","Error","raw","content","forEach","element","_React$Component","apply","arguments","prototype","Container","Content","Pane","_useUncontrolled","generateCustomChildId","generateChildId","transition","mountOnEnter","unmountOnExit","children","useMemo","tabContext","getControlledId","getControllerId","_excluded","TabContent","_ref","bsPrefix","_ref$as","Component","decoratedBsPrefix","_excluded2","TabPane","_useTabContext","useContext","rest","shouldTransition","active","useTabContext","onEnter","onEntering","onEntered","onExit","onExiting","onExited","Transition","_useTabContext$as","pane","role","in","displayName","renderTab","child","_child$props","disabled","tabClassName","_useUncontrolled$acti","defaultActiveKey","getDefaultActiveKey","controlledProps","childProps","defaultProps"],"sourceRoot":""}