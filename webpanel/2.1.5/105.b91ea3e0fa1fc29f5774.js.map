{"version":3,"sources":["webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PageItem.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Pagination.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PopoverTitle.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PopoverContent.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Popover.js","webpack://tgstation-server-control-panel/./src/components/utils/PageHelper.tsx","webpack://tgstation-server-control-panel/./src/components/views/Admin/Logs.tsx","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Table.js"],"names":["PageItem","_ref","ref","active","disabled","className","style","activeLabel","children","props","Component","SafeAnchor","defaultProps","displayName","createButton","name","defaultValue","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","bsPrefix","size","decoratedBsPrefix","Item","_ref$as","as","Popover","placement","content","arrowProps","popper","show","primaryPlacement","split","role","Title","Content","PageHelper","state","showGoto","gotoValue","currentPage","items","maxRight","Math","max","this","totalPages","maxLeft","min","Number","i","push","key","onClick","selectPage","ellipsis","findPopover","id","onSubmit","e","preventDefault","setState","Form","type","value","onChange","parseInt","target","custom","OverlayTrigger","overlay","prev","icon","React","withRouter","errors","loading","logs","page","RouteData","prevProps","prevState","loadLogs","param","match","params","res","AdminClient","code","StatusCode","regex","RegExp","entries","exec","payload","time","viewedLog","logFile","addError","error","response","maxPage","Array","from","download","map","err","index","onClose","newarr","undefined","text","Link","to","AppRoutes","height","display","striped","hover","variant","position","top","bordered","responsive","logdate","Date","lastModified","logdiff","getTime","now","toLocaleString","triggerHandler","numeric","updateIntervalInSeconds","history","reload","downloadLog","catch","InternalError","ErrorCode","jsError","newPage","Table","borderless","classes","table","responsiveClass"],"mappings":"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","file":"105.b91ea3e0fa1fc29f5774.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\n/* eslint-disable react/no-multi-comp */\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"]);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"size\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverTitle = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"bsPrefix\", \"className\", \"children\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-header');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(bsPrefix, className)\n  }), children);\n});\nexport default PopoverTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverContent = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"bsPrefix\", \"className\", \"children\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-body');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix)\n  }), children);\n});\nexport default PopoverContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport isRequiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PopoverTitle from './PopoverTitle';\nimport PopoverContent from './PopoverContent';\nvar defaultProps = {\n  placement: 'right'\n};\nvar Popover = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      placement = _ref.placement,\n      className = _ref.className,\n      style = _ref.style,\n      children = _ref.children,\n      content = _ref.content,\n      arrowProps = _ref.arrowProps,\n      _ = _ref.popper,\n      _1 = _ref.show,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"placement\", \"className\", \"style\", \"children\", \"content\", \"arrowProps\", \"popper\", \"show\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'popover');\n\n  var _ref2 = (placement == null ? void 0 : placement.split('-')) || [],\n      primaryPlacement = _ref2[0];\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    role: \"tooltip\",\n    style: style,\n    \"x-placement\": primaryPlacement,\n    className: classNames(className, decoratedBsPrefix, primaryPlacement && \"bs-popover-\" + primaryPlacement)\n  }, props), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"arrow\"\n  }, arrowProps)), content ? /*#__PURE__*/React.createElement(PopoverContent, null, children) : children);\n});\nPopover.defaultProps = defaultProps;\nPopover.Title = PopoverTitle;\nPopover.Content = PopoverContent;\nexport default Popover;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ComponentPropsWithoutRef } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Pagination from \"react-bootstrap/Pagination\";\nimport Popover from \"react-bootstrap/Popover\";\nimport { FormattedMessage } from \"react-intl\";\n\ntype IProps = {\n    selectPage: (page: number) => void;\n    totalPages: number;\n    currentPage: number;\n} & Partial<ComponentPropsWithoutRef<\"div\">>;\n\ninterface IState {\n    showGoto: boolean;\n    gotoValue: number;\n}\n\nexport default class PageHelper extends React.PureComponent<IProps, IState> {\n    public constructor(props: IProps) {\n        super(props);\n\n        this.state = {\n            showGoto: false,\n            gotoValue: props.currentPage\n        };\n    }\n\n    public render(): React.ReactNode {\n        const items: React.ReactNodeArray = [];\n\n        const maxRight = Math.max(this.props.totalPages - this.props.currentPage - 1, 0);\n        const maxLeft = Math.max(this.props.currentPage - 2, 0);\n\n        const min = Math.max(\n            this.props.currentPage -\n                Math.max(\n                    5 - Number(this.props.currentPage !== this.props.totalPages) - maxRight,\n                    2\n                ),\n            2\n        );\n        const max = Math.min(\n            this.props.currentPage +\n                Math.max(5 - Number(this.props.currentPage !== 1) - maxLeft, 2),\n            this.props.totalPages - 1\n        );\n\n        //Start at the second page and stop at the second to last page\n        for (let i = min; i <= max; i++) {\n            items.push(\n                <Pagination.Item\n                    key={i}\n                    active={i === this.props.currentPage}\n                    onClick={() => this.props.selectPage(i)}>\n                    {i}\n                </Pagination.Item>\n            );\n        }\n\n        const ellipsis = this.props.totalPages > 7 ? <Pagination.Ellipsis disabled /> : null;\n\n        const findPopover = (\n            <Popover id=\"popover-gotopage\">\n                <Popover.Title>\n                    <FormattedMessage id=\"generic.goto.title\" />\n                </Popover.Title>\n                <Popover.Content>\n                    <form\n                        className=\"d-flex\"\n                        onSubmit={e => {\n                            e.preventDefault();\n                            this.props.selectPage(this.state.gotoValue);\n                            this.setState({\n                                showGoto: false\n                            });\n                        }}>\n                        <Form.Control\n                            className=\"mr-2\"\n                            type=\"number\"\n                            min={1}\n                            max={this.props.totalPages}\n                            value={this.state.gotoValue}\n                            onChange={e => this.setState({ gotoValue: parseInt(e.target.value) })}\n                            custom\n                        />\n                        <Button type=\"submit\">\n                            <FormattedMessage id=\"generic.goto\" />\n                        </Button>\n                    </form>\n                </Popover.Content>\n            </Popover>\n        );\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { selectPage: _1, totalPages: _2, currentPage: _3, ...props } = this.props;\n\n        return (\n            <div className=\"text-center\" {...props}>\n                <Pagination className=\"justify-content-center\">\n                    <Pagination.Prev\n                        disabled={this.props.currentPage === 1}\n                        onClick={() =>\n                            this.props.selectPage(Math.max(this.props.currentPage - 1, 1))\n                        }\n                    />\n                    <Pagination.Item\n                        active={this.props.currentPage === 1}\n                        onClick={() => this.props.selectPage(1)}>\n                        1\n                    </Pagination.Item>\n                    {ellipsis}\n                    {items}\n                    {ellipsis}\n                    {this.props.totalPages >= 2 ? (\n                        <Pagination.Item\n                            active={this.props.currentPage === this.props.totalPages}\n                            onClick={() => this.props.selectPage(this.props.totalPages)}>\n                            {this.props.totalPages}\n                        </Pagination.Item>\n                    ) : null}\n                    {this.props.totalPages > 7 ? (\n                        <OverlayTrigger\n                            show={this.state.showGoto}\n                            placement=\"top\"\n                            overlay={findPopover}>\n                            <Pagination.Item\n                                onClick={() =>\n                                    this.setState(prev => {\n                                        return {\n                                            showGoto: !prev.showGoto\n                                        };\n                                    })\n                                }>\n                                <FontAwesomeIcon icon=\"search\" />\n                            </Pagination.Item>\n                        </OverlayTrigger>\n                    ) : null}\n                    <Pagination.Next\n                        disabled={this.props.currentPage === this.props.totalPages}\n                        onClick={() =>\n                            this.props.selectPage(\n                                Math.min(this.props.currentPage + 1, this.props.totalPages)\n                            )\n                        }\n                    />\n                </Pagination>\n            </div>\n        );\n    }\n}\n","import React, { Component, CSSProperties } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Table from \"react-bootstrap/Table\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage, FormattedRelativeTime } from \"react-intl\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nimport AdminClient from \"../../../ApiClient/AdminClient\";\nimport { LogFileResponse } from \"../../../ApiClient/generatedcode/schemas\";\nimport { DownloadedLog } from \"../../../ApiClient/models/DownloadedLog\";\nimport InternalError, { ErrorCode } from \"../../../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../../../ApiClient/models/InternalComms/InternalStatus\";\nimport { download } from \"../../../utils/misc\";\nimport { AppRoutes, RouteData } from \"../../../utils/routes\";\nimport ErrorAlert from \"../../utils/ErrorAlert\";\nimport Loading from \"../../utils/Loading\";\nimport PageHelper from \"../../utils/PageHelper\";\n\ninterface IProps extends RouteComponentProps<{ name: string | undefined }> {}\n\ninterface LogEntry {\n    time: string;\n    content: string;\n}\n\ninterface Log {\n    logFile: DownloadedLog;\n    entries: LogEntry[];\n}\n\ninterface IState {\n    logs: LogFileResponse[];\n    viewedLog?: Log;\n    errors: Array<InternalError<ErrorCode> | undefined>;\n    loading: boolean;\n    page: number;\n    maxPage?: number;\n}\n\nexport default withRouter(\n    class Logs extends Component<IProps, IState> {\n        public constructor(props: IProps) {\n            super(props);\n\n            this.state = {\n                errors: [],\n                loading: true,\n                logs: [],\n                page: RouteData.loglistpage ?? 1\n            };\n        }\n\n        public async componentDidUpdate(prevProps: Readonly<IProps>, prevState: Readonly<IState>) {\n            if (prevState.page !== this.state.page) {\n                RouteData.loglistpage = this.state.page;\n                await this.loadLogs();\n            }\n        }\n\n        public async componentDidMount(): Promise<void> {\n            const param = this.props.match.params.name;\n            if (param) {\n                const res = await AdminClient.getLog(param);\n\n                switch (res.code) {\n                    case StatusCode.OK: {\n                        const regex = RegExp(\n                            /(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{7}[-+]\\d{2}:\\d{2})\\s+(.*?)(?=(?:\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{7}[-+]\\d{2}:\\d{2}|$))/,\n                            \"gs\"\n                        );\n                        let match;\n                        const entries: LogEntry[] = [];\n                        while ((match = regex.exec(res.payload.content)) !== null) {\n                            entries.push({\n                                time: match[1],\n                                content: match[2]\n                            });\n                        }\n                        this.setState({\n                            viewedLog: {\n                                logFile: res.payload,\n                                entries: entries\n                            }\n                        });\n                        break;\n                    }\n                    case StatusCode.ERROR: {\n                        this.addError(res.error);\n                        break;\n                    }\n                }\n            }\n\n            await this.loadLogs();\n        }\n\n        private async loadLogs(): Promise<void> {\n            this.setState({\n                loading: true\n            });\n            const response = await AdminClient.getLogs({ page: this.state.page });\n\n            switch (response.code) {\n                case StatusCode.OK: {\n                    if (this.state.page > response.payload.totalPages) {\n                        this.setState({\n                            page: 1\n                        });\n                        return;\n                    }\n\n                    this.setState({\n                        logs: response.payload.content,\n                        maxPage: response.payload.totalPages\n                    });\n                    break;\n                }\n                case StatusCode.ERROR: {\n                    this.addError(response.error);\n                    break;\n                }\n            }\n            this.setState({\n                loading: false\n            });\n        }\n\n        private addError(error: InternalError<ErrorCode>): void {\n            this.setState(prevState => {\n                const errors = Array.from(prevState.errors);\n                errors.push(error);\n                return {\n                    errors\n                };\n            });\n        }\n\n        private async downloadLog(name: string): Promise<void> {\n            const res = await AdminClient.getLog(name);\n            switch (res.code) {\n                case StatusCode.OK: {\n                    download(name, res.payload.content);\n                    break;\n                }\n                case StatusCode.ERROR: {\n                    this.addError(res.error);\n                    break;\n                }\n            }\n        }\n\n        public render(): React.ReactNode {\n            return (\n                <div className=\"text-center\">\n                    {this.state.errors.map((err, index) => {\n                        if (!err) return;\n                        return (\n                            <ErrorAlert\n                                key={index}\n                                error={err}\n                                onClose={() =>\n                                    this.setState(prev => {\n                                        const newarr = Array.from(prev.errors);\n                                        newarr[index] = undefined;\n                                        return {\n                                            errors: newarr\n                                        };\n                                    })\n                                }\n                            />\n                        );\n                    })}\n                    {this.state.loading ? (\n                        <Loading text=\"loading.logs\" />\n                    ) : this.props.match.params.name && this.state.viewedLog ? (\n                        <div className=\"mx-5 mt-5\">\n                            <h3>{this.props.match.params.name}</h3>\n                            <Button\n                                className=\"mr-1\"\n                                as={Link}\n                                to={AppRoutes.admin_logs.link ?? AppRoutes.admin_logs.route}>\n                                <FormattedMessage id=\"generic.goback\" />\n                            </Button>\n                            <Button\n                                onClick={() => {\n                                    download(\n                                        this.props.match.params.name!,\n                                        this.state.viewedLog!.logFile.content\n                                    );\n                                }}>\n                                <FormattedMessage id=\"generic.download\" />\n                            </Button>\n                            <hr />\n                            <div\n                                style={{\n                                    height: \"60vh\",\n                                    display: \"block\"\n                                }}\n                                className=\"table-responsive\">\n                                <Table striped hover variant=\"dark\" className=\"text-left\">\n                                    <thead\n                                        className=\"bg-dark\"\n                                        style={\n                                            {\n                                                position: \"sticky\",\n                                                top: 0\n                                            } as CSSProperties\n                                        }>\n                                        <th>\n                                            <FormattedMessage id=\"generic.datetime\" />\n                                        </th>\n                                        <th>\n                                            <FormattedMessage id=\"generic.entry\" />\n                                        </th>\n                                    </thead>\n                                    <tbody>\n                                        {this.state.viewedLog.entries.map(value => {\n                                            return (\n                                                <tr key={value.time}>\n                                                    <td className=\"py-1\">{value.time}</td>\n                                                    <td className=\"py-1\">\n                                                        <pre className=\"mb-0\">{value.content}</pre>\n                                                    </td>\n                                                </tr>\n                                            );\n                                        })}\n                                    </tbody>\n                                </Table>\n                            </div>\n                        </div>\n                    ) : (\n                        <Container className=\"mt-5 mb-5\">\n                            <Table striped bordered hover variant=\"dark\" responsive>\n                                <thead>\n                                    <tr>\n                                        <th>#</th>\n                                        <th>\n                                            <FormattedMessage id=\"generic.name\" />\n                                        </th>\n                                        <th>\n                                            <FormattedMessage id=\"generic.datetime\" />\n                                        </th>\n                                        <th>\n                                            <FormattedMessage id=\"generic.action\" />\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.logs.map((value, index) => {\n                                        const logdate = new Date(value.lastModified);\n                                        const logdiff = (logdate.getTime() - Date.now()) / 1000;\n\n                                        return (\n                                            <tr key={value.name}>\n                                                <td>{index}</td>\n                                                <td>{value.name}</td>\n                                                <OverlayTrigger\n                                                    overlay={\n                                                        <Tooltip id={`${value.name}-tooltip`}>\n                                                            {logdate.toLocaleString()}\n                                                        </Tooltip>\n                                                    }>\n                                                    {({ ref, ...triggerHandler }) => (\n                                                        <td {...triggerHandler}>\n                                                            <span\n                                                                ref={\n                                                                    ref as React.Ref<HTMLSpanElement>\n                                                                }>\n                                                                <FormattedRelativeTime\n                                                                    value={logdiff}\n                                                                    numeric=\"auto\"\n                                                                    updateIntervalInSeconds={1}\n                                                                />\n                                                            </span>\n                                                        </td>\n                                                    )}\n                                                </OverlayTrigger>\n                                                <td className=\"align-middle p-0\">\n                                                    <Button\n                                                        className=\"mr-1\"\n                                                        onClick={() => {\n                                                            this.props.history.push(\n                                                                (AppRoutes.admin_logs.link ??\n                                                                    AppRoutes.admin_logs.route) +\n                                                                    value.name +\n                                                                    \"/\",\n                                                                {\n                                                                    reload: true\n                                                                }\n                                                            );\n                                                        }}>\n                                                        <FormattedMessage id=\"generic.view\" />\n                                                    </Button>\n                                                    <Button\n                                                        onClick={() => {\n                                                            this.downloadLog(value.name).catch(\n                                                                (e: Error) => {\n                                                                    this.addError(\n                                                                        new InternalError<ErrorCode.APP_FAIL>(\n                                                                            ErrorCode.APP_FAIL,\n                                                                            {\n                                                                                jsError: e\n                                                                            }\n                                                                        )\n                                                                    );\n                                                                }\n                                                            );\n                                                        }}>\n                                                        <FormattedMessage id=\"generic.download\" />\n                                                    </Button>\n                                                </td>\n                                            </tr>\n                                        );\n                                    })}\n                                </tbody>\n                            </Table>\n                            <PageHelper\n                                selectPage={newPage => this.setState({ page: newPage })}\n                                totalPages={this.state.maxPage ?? 1}\n                                currentPage={this.state.page}\n                            />\n                        </Container>\n                    )}\n                </div>\n            );\n        }\n    }\n);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;"],"sourceRoot":""}