(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[350],{79350:function(e,t,n){"use strict";n.r(t);var r=n(67294),a=n(35005),o=n(31555),i=n(32258),c=n(62318),s=n(44012),l=n(41153),u=n(15402),f=n(38592),p=n(32826),m=n(3429),d=n(43307),h=n(71739);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(k,e);var t,n,l,p,v,w,P=(v=k,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(v);if(w){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function k(e,t){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),(r=P.call(this,e)).state={loading:!1,errors:[],prefix:null!==(n=t.serverInfo.validInstancePaths)&&void 0!==n&&n.length?t.serverInfo.validInstancePaths[0]:void 0},r.submit=r.submit.bind(Z(r)),r}return t=k,(n=[{key:"addError",value:function(e){this.setState((function(t){var n=Array.from(t.errors);return n.push(e),{errors:n}}))}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.createElement(h.Z,{text:"view.instance.create.loading"});var t=this.context.serverInfo.validInstancePaths;return r.createElement("div",{className:"text-center"},this.state.errors.map((function(t,n){if(t)return r.createElement(d.Z,{key:n,error:t,onClose:function(){return e.setState((function(e){var t=Array.from(e.errors);return t[n]=void 0,{errors:t}}))}})})),r.createElement("h3",null,r.createElement(s.Z,{id:"view.instance.create.title"})),r.createElement(i.Z,{onSubmit:this.submit},r.createElement(o.Z,{className:"mx-auto",lg:5,md:8},r.createElement(i.Z.Group,{controlId:"name"},r.createElement(i.Z.Label,null,r.createElement("h5",null,r.createElement(s.Z,{id:"view.instance.create.name"}))),r.createElement(i.Z.Control,{type:"text",onChange:function(t){var n=t.target.value;e.setState({instanceName:n})},value:this.state.instanceName,required:!0})),r.createElement(i.Z.Group,{controlId:"path"},r.createElement(i.Z.Label,null,r.createElement("h5",null,r.createElement(s.Z,{id:"view.instance.create.path"}))),r.createElement(c.Z,{className:"mb-1"},null!=t?r.createElement(c.Z.Prepend,{className:"flex-grow-1 flex-grow-md-0"},r.createElement(c.Z.Text,null,r.createElement("span",null,r.createElement(s.Z,{id:"view.instance.create.path.prefix"}))),r.createElement(i.Z.Control,{className:"rounded-0 flex-grow-1 flex-grow-md-0 flex-shrink-0 flex-shrink-md-1 w-auto",as:"select",custom:!0,required:!0,onChange:function(t){e.setState({prefix:t.target.value})}},t.map((function(t){return r.createElement("option",{key:t,value:t,selected:e.state.prefix==t},t,"/")})))):null,r.createElement(i.Z.Control,{type:"text",className:"flex-grow-1 w-100 w-md-auto",required:!0,onChange:function(t){var n=t.target.value;e.setState({instancePath:n})},value:this.state.instancePath}))),r.createElement(a.Z,{type:"submit",variant:"success"},r.createElement(s.Z,{id:"view.instance.create.submit"})))))}},{key:"submit",value:(l=function*(){var e;if(this.state.instancePath){var t=(this.state.prefix?this.state.prefix+"/":"")+this.state.instancePath;this.setState({loading:!0});var n=yield u.Z.createInstance({name:this.state.instanceName,path:t});if(n.code===f.G.ERROR)return this.setState({loading:!1}),void this.addError(n.error);m.Mq.selectedinstanceid=n.payload.id,this.props.history.push(null!==(e=m.$w.instancelist.link)&&void 0!==e?e:m.$w.instancelist.route)}},p=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=l.apply(e,t);function o(e){y(a,n,r,o,i,"next",e)}function i(e){y(a,n,r,o,i,"throw",e)}o(void 0)}))},function(){return p.apply(this,arguments)})}])&&b(t.prototype,n),k}(r.Component);w.contextType=p.f,t.default=(0,l.EN)(w)},62318:function(e,t,n){"use strict";var r=n(19756),a=n(22122),o=n(94184),i=n.n(o),c=n(67294),s=n(44680),l=n(76792),u=(0,s.Z)("input-group-append"),f=(0,s.Z)("input-group-prepend"),p=(0,s.Z)("input-group-text",{Component:"span"}),m=c.forwardRef((function(e,t){var n=e.bsPrefix,o=e.size,s=e.className,u=e.as,f=void 0===u?"div":u,p=(0,r.Z)(e,["bsPrefix","size","className","as"]);return n=(0,l.vE)(n,"input-group"),c.createElement(f,(0,a.Z)({ref:t},p,{className:i()(s,n,o&&n+"-"+o)}))}));m.displayName="InputGroup";var d=(0,a.Z)({},m,{Text:p,Radio:function(e){return c.createElement(p,null,c.createElement("input",(0,a.Z)({type:"radio"},e)))},Checkbox:function(e){return c.createElement(p,null,c.createElement("input",(0,a.Z)({type:"checkbox"},e)))},Append:u,Prepend:f});t.Z=d}}]);
//# sourceMappingURL=350.cfce6a897fd44c0ecb53.js.map