"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[222],{6222:function(e,t,a){var r=a(653),n=a(6846),o=a(3803),i=a(5631),s=a(7626),c=a(7961);t.Z=new class extends r.S{async getActiveVersion(e){let t;await i.Z.wait4Init();try{t=await i.Z.apiClient.byond.byondControllerRead({headers:{Instance:e.toString()}})}catch(e){return new o.Z({code:o.G.ERROR,error:e})}return 200===t.status?new o.Z({code:o.G.OK,payload:t.data}):new o.Z({code:o.G.ERROR,error:new n.ZP(n.jK.UNHANDLED_RESPONSE,{axiosResponse:t},t)})}async listAllVersions(e,{page:t=1,pageSize:a=c.ZP.itemsperpage.value}){let r;await i.Z.wait4Init();try{r=await i.Z.apiClient.byond.byondControllerList({page:t,pageSize:a},{headers:{Instance:e.toString()}})}catch(e){return new o.Z({code:o.G.ERROR,error:e})}return 200===r.status?new o.Z({code:o.G.OK,payload:r.data}):new o.Z({code:o.G.ERROR,error:new n.ZP(n.jK.UNHANDLED_RESPONSE,{axiosResponse:r},r)})}async switchActive(e,t,a){let r;await i.Z.wait4Init();try{r=await i.Z.apiClient.byond.byondControllerUpdate({version:t,uploadCustomZip:!!a},{headers:{Instance:e.toString()}})}catch(e){return new o.Z({code:o.G.ERROR,error:e})}switch(r.status){case 200:case 202:{const e=r.data;if(e.fileTicket){if(a){const t=await s.Z.Upload(e.fileTicket,a);return t.code===o.G.OK?new o.Z({code:o.G.OK,payload:e}):new o.Z({code:o.G.ERROR,error:t.error})}return new o.Z({code:o.G.ERROR,error:new n.ZP(n.jK.APP_FAIL,{jsError:Error("switchActive is uploading a custom zip without actually having a zip file to upload")})})}return new o.Z({code:o.G.OK,payload:e})}default:return new o.Z({code:o.G.ERROR,error:new n.ZP(n.jK.UNHANDLED_RESPONSE,{axiosResponse:r},r)})}}}}}]);
//# sourceMappingURL=222.95027b4bd2075f097c6e.bundle.js.map