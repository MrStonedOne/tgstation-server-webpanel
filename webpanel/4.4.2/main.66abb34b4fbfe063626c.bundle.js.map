{"version":3,"file":"main.66abb34b4fbfe063626c.bundle.js","mappings":"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AyB,CACxB,IACA,IACA,IACA,KAED,4BAA6B,CAC5B,IACA,IACA,IACA,KAED,2BAA4B,CAC3B,IACA,IACA,IACA,IACA,KAED,+BAAgC,CAC/B,IACA,IACA,IACA,IACA,KAED,yBAA0B,CACzB,KACA,IACA,KAED,6BAA8B,CAC7B,KACA,IACA,KAED,6BAA8B,CAC7B,KACA,IACA,IACA,IACA,KAED,iCAAkC,CACjC,KACA,IACA,IACA,IACA,KAED,wBAAyB,CACxB,IACA,IACA,IACA,IACA,KAED,4BAA6B,CAC5B,IACA,IACA,IACA,IACA,KAED,sCAAuC,CACtC,KACA,IACA,IACA,IACA,KAED,0CAA2C,CAC1C,KACA,IACA,IACA,IACA,KAED,6BAA8B,CAC7B,KACA,IACA,KAED,iCAAkC,CACjC,KACA,IACA,KAED,6BAA8B,CAC7B,KACA,IACA,IACA,IACA,IACA,GACA,IACA,KAED,iCAAkC,CACjC,KACA,IACA,IACA,IACA,IACA,GACA,IACA,KAED,yBAA0B,CACzB,KACA,IACA,IACA,IACA,KAED,6BAA8B,CAC7B,KACA,IACA,IACA,IACA,KAED,0BAA2B,CAC1B,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,KAED,8BAA+B,CAC9B,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,KAED,kBAAmB,CAClB,KACA,KAED,sBAAuB,CACtB,KACA,KAED,kBAAmB,CAClB,IACA,IACA,KAED,sBAAuB,CACtB,IACA,IACA,KAED,UAAW,CACV,MAED,cAAe,CACd,MAED,UAAW,CACV,KACA,KAED,cAAe,CACd,KACA,KAED,gBAAiB,CAChB,KACA,KAED,oBAAqB,CACpB,KACA,KAED,cAAe,CACd,KACA,IACA,IACA,KAED,kBAAmB,CAClB,KACA,IACA,IACA,KAED,cAAe,CACd,KACA,IACA,KAED,kBAAmB,CAClB,KACA,IACA,MAGF,SAASuf,EA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","sources":["webpack://tgstation-server-control-panel/webpack/runtime/chunk loaded","webpack://tgstation-server-control-panel/webpack/runtime/create fake namespace object","webpack://tgstation-server-control-panel/webpack/runtime/load script","webpack://tgstation-server-control-panel/./src/components/utils/AccessDenied.tsx","webpack://tgstation-server-control-panel/./src/components/utils/ErrorAlert.tsx","webpack://tgstation-server-control-panel/./src/components/utils/GenericAlert.tsx","webpack://tgstation-server-control-panel/./src/components/utils/JobError.tsx","webpack://tgstation-server-control-panel/./src/components/utils/JobCard.tsx","webpack://tgstation-server-control-panel/./src/components/utils/JobsList.tsx","webpack://tgstation-server-control-panel/./src/components/utils/Loading.tsx","webpack://tgstation-server-control-panel/./src/components/views/Login.tsx","webpack://tgstation-server-control-panel/./src/contexts/GeneralContext.ts","webpack://tgstation-server-control-panel/./src/definitions/constants.ts","webpack://tgstation-server-control-panel/./src/publicPath.ts","webpack://tgstation-server-control-panel/./src/App.css?d9cd","webpack://tgstation-server-control-panel/./src/components/AppNavbar.tsx","webpack://tgstation-server-control-panel/./src/components/ReportIssue.tsx","webpack://tgstation-server-control-panel/./src/components/utils/ErrorBoundary.tsx","webpack://tgstation-server-control-panel/./src/components/utils/Reload.tsx","webpack://tgstation-server-control-panel/./src/Router.tsx","webpack://tgstation-server-control-panel/./src/translations/Locales.ts","webpack://tgstation-server-control-panel/./src/translations/Translation.ts","webpack://tgstation-server-control-panel/./src/translations/TranslationFactory.ts","webpack://tgstation-server-control-panel/./src/App.tsx","webpack://tgstation-server-control-panel/./src/utils/icolibrary.ts","webpack://tgstation-server-control-panel/./src/index.ts","webpack://tgstation-server-control-panel/./src/utils/RouteController.ts","webpack://tgstation-server-control-panel/./src/utils/misc.ts","webpack://tgstation-server-control-panel/./src/utils/routes.ts","webpack://tgstation-server-control-panel/./src/App.css","webpack://tgstation-server-control-panel/./src/components/views|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object","webpack://tgstation-server-control-panel/./src/translations/locales|lazy|/^\\.\\/.*\\.json$/|groupOptions: {}|namespace object","webpack://tgstation-server-control-panel/webpack/bootstrap","webpack://tgstation-server-control-panel/webpack/runtime/compat get default export","webpack://tgstation-server-control-panel/webpack/runtime/define property getters","webpack://tgstation-server-control-panel/webpack/runtime/ensure chunk","webpack://tgstation-server-control-panel/webpack/runtime/get javascript chunk filename","webpack://tgstation-server-control-panel/webpack/runtime/global","webpack://tgstation-server-control-panel/webpack/runtime/hasOwnProperty shorthand","webpack://tgstation-server-control-panel/webpack/runtime/make namespace object","webpack://tgstation-server-control-panel/webpack/runtime/publicPath","webpack://tgstation-server-control-panel/webpack/runtime/jsonp chunk loading","webpack://tgstation-server-control-panel/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"tgstation-server-control-panel:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 15;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 15000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import React, { ReactNode } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { FormattedMessage } from \"react-intl\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\n\nimport GenericAlert from \"./GenericAlert\";\n\ninterface IProps extends RouteComponentProps {}\n\ninterface IState {\n    auth: boolean;\n}\n\nclass AccessDenied extends React.Component<IProps, IState> {\n    public render(): ReactNode {\n        const goBack = () => {\n            this.props.history.goBack();\n        };\n        return (\n            <GenericAlert title=\"generic.accessdenied\">\n                <Button variant=\"danger\" className=\"float-right\" onClick={goBack}>\n                    <FormattedMessage id=\"generic.goback\" />\n                </Button>\n            </GenericAlert>\n        );\n    }\n}\n\nexport default withRouter(AccessDenied);\n","import ClickToSelect from \"@mapbox/react-click-to-select\";\nimport React, { Component, ReactNode } from \"react\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport InternalError, {\n    DescType,\n    ErrorCode\n} from \"../../ApiClient/models/InternalComms/InternalError\";\nimport { API_VERSION, MODE, VERSION } from \"../../definitions/constants\";\n\ninterface IProps {\n    error: InternalError<ErrorCode> | undefined;\n    onClose?: () => void;\n}\n\ninterface IState {\n    popup: boolean;\n}\n\nclass ErrorAlert extends Component<IProps, IState> {\n    public constructor(props: IProps) {\n        super(props);\n        this.state = {\n            popup: false\n        };\n    }\n    public render(): ReactNode {\n        if (!this.props.error) {\n            return \"\";\n        }\n\n        const handleClose = () => this.setState({ popup: false });\n        const handleOpen = () => this.setState({ popup: true });\n\n        return (\n            <Alert\n                className=\"clearfix\"\n                variant=\"error\"\n                dismissible={!!this.props.onClose}\n                onClose={this.props.onClose}>\n                <FormattedMessage id={this.props.error.code || \"error.app.undefined\"} />\n                <hr />\n\n                <Button variant=\"danger\" className=\"float-right\" onClick={handleOpen}>\n                    <FormattedMessage id=\"generic.details\" />\n                </Button>\n\n                <Modal centered show={this.state.popup} onHide={handleClose} size=\"lg\">\n                    <Modal.Header closeButton>\n                        <Modal.Title>\n                            <FormattedMessage id={this.props.error.code || \"error.app.undefined\"} />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body className=\"text-danger pb-0\">\n                        {this.props.error.desc?.type === DescType.LOCALE ? (\n                            <FormattedMessage\n                                id={this.props.error.desc.desc || \"error.api.empty\"}\n                            />\n                        ) : this.props.error.desc?.desc ? (\n                            this.props.error.desc.desc\n                        ) : (\n                            \"\"\n                        )}\n                        <hr />\n                        <ClickToSelect>\n                            <code className=\"bg-darker d-block pre-wrap p-2 pre-scrollable\">\n                                {`Webpanel Version: ${VERSION}\nWebpanel Mode: ${MODE}\nAPI Version: ${API_VERSION}\n\nError Code: ${this.props.error.code}\nError Description: ${this.props.error.desc ? this.props.error.desc.desc : \"No description\"}\n\nAdditional Information:\n${this.props.error.extendedInfo}`.replace(/\\\\/g, \"\\\\\\\\\")}\n                            </code>\n                        </ClickToSelect>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <span className=\"font-italic mr-auto\">\n                            <FormattedMessage id=\"generic.debugwarn\" />\n                        </span>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            <FormattedMessage id=\"generic.close\" />\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </Alert>\n        );\n    }\n}\n\nexport default ErrorAlert;\n\nexport type ErrorState = [\n    Array<InternalError<ErrorCode> | undefined>,\n    React.Dispatch<React.SetStateAction<Array<InternalError<ErrorCode> | undefined>>>\n];\n\nfunction addError([, setErrors]: ErrorState, error: InternalError<ErrorCode>): void {\n    setErrors(prevState => {\n        const errors = Array.from(prevState);\n        errors.push(error);\n        return errors;\n    });\n}\n\nfunction displayErrors([errors, setErrors]: ErrorState): Array<JSX.Element | undefined> {\n    return errors.map((err, index) => {\n        if (!err) return;\n        return (\n            <ErrorAlert\n                key={index}\n                error={err}\n                onClose={() =>\n                    setErrors(prev => {\n                        const newarr = Array.from(prev);\n                        newarr[index] = undefined;\n                        return newarr;\n                    })\n                }\n            />\n        );\n    });\n}\n\nexport { displayErrors, addError };\n","import React from \"react\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { FormattedMessage } from \"react-intl\";\n\ninterface IProps {\n    title: string;\n    body?: string;\n    children?: JSX.Element;\n}\n\nexport default function GenericAlert(props: IProps): JSX.Element {\n    return (\n        <Alert className=\"clearfix\" variant=\"error\">\n            <FormattedMessage id={props.title} />\n            {props.body ? (\n                <React.Fragment>\n                    <hr />\n                    <FormattedMessage id={props.body} />\n                </React.Fragment>\n            ) : props.children ? (\n                <React.Fragment>\n                    <hr />\n                    {props.children}\n                </React.Fragment>\n            ) : null}\n        </Alert>\n    );\n}\n","import ClickToSelect from \"@mapbox/react-click-to-select\";\nimport React, { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport { ErrorCode as TGSErrorCode } from \"../../ApiClient/generatedcode/generated\";\nimport { TGSJobResponse } from \"../../ApiClient/JobsClient\";\n\ninterface IProps {\n    job: TGSJobResponse;\n}\n\nexport default function JobError(props: IProps): JSX.Element {\n    const [open, setOpen] = useState(false);\n    return (\n        <>\n            <Button\n                variant=\"danger\"\n                className=\"d-inline-block\"\n                onClick={() => setOpen(true)}\n                size=\"sm\">\n                <FormattedMessage\n                    id=\"generic.errordetails\"\n                    values={{\n                        info:\n                            props.job.errorCode !== undefined && props.job.errorCode !== null\n                                ? TGSErrorCode[props.job.errorCode]\n                                : \"NoCode\"\n                    }}\n                />\n            </Button>\n\n            <Modal centered show={open} onHide={() => setOpen(false)} size=\"lg\">\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        <FormattedMessage id={props.job.description} />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body className=\"text-danger pb-0\">\n                    <FormattedMessage id=\"view.instance.jobs.error\" />:{\" \"}\n                    {props.job.errorCode !== undefined && props.job.errorCode !== null\n                        ? TGSErrorCode[props.job.errorCode]\n                        : \"NoCode\"}\n                    <hr />\n                    <ClickToSelect>\n                        <code className=\"bg-darker d-block pre-wrap p-2 pre-scrollable\">\n                            {props.job.exceptionDetails}\n                        </code>\n                    </ClickToSelect>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={() => setOpen(false)}>\n                        <FormattedMessage id=\"generic.close\" />\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ReactNode } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport Toast from \"react-bootstrap/Toast\";\nimport ToastBody from \"react-bootstrap/ToastBody\";\nimport ToastHeader from \"react-bootstrap/ToastHeader\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage, FormattedRelativeTime } from \"react-intl\";\n\nimport { TGSJobResponse } from \"../../ApiClient/JobsClient\";\nimport JobError from \"./JobError\";\n\ninterface IState {}\ninterface IProps {\n    job: TGSJobResponse;\n    width?: string;\n    onClose?: (job: TGSJobResponse) => void;\n    onCancel: (job: TGSJobResponse) => void;\n}\n\nexport default class JobCard extends React.Component<IProps, IState> {\n    public render(): ReactNode {\n        const job = this.props.job;\n        const createddate = new Date(job.startedAt);\n        const createddiff = (createddate.getTime() - Date.now()) / 1000;\n        const stoppeddate = new Date(job.stoppedAt ?? 0);\n        const stoppeddiff = (stoppeddate.getTime() - Date.now()) / 1000;\n        const variant =\n            job.errorCode !== undefined || job.exceptionDetails !== undefined\n                ? \"danger\"\n                : job.cancelled\n                ? \"warning\"\n                : job.stoppedAt\n                ? \"success\"\n                : \"info\";\n\n        return (\n            <Toast\n                className=\"mx-auto\"\n                key={job.id}\n                style={{\n                    maxWidth: this.props.width\n                }}\n                onClose={() => {\n                    if (this.props.onClose) this.props.onClose(job);\n                }}>\n                <ToastHeader\n                    closeButton={!!job.stoppedAt && !!this.props.onClose}\n                    className={`bg-${variant}`}>\n                    #{job.id}: {job.description}\n                </ToastHeader>\n                <ToastBody className=\"pt-1 text-white\">\n                    {/*STAGE*/}\n                    {job.stage ? <div className=\"mb-2\">▶{job.stage}</div> : null}\n                    {/*STARTED AT*/}\n                    <FormattedMessage id=\"app.job.started\" />\n                    <OverlayTrigger\n                        overlay={\n                            <Tooltip id={`${job.id}-tooltip-started`}>\n                                {createddate.toLocaleString()}\n                            </Tooltip>\n                        }>\n                        {({ ref, ...triggerHandler }) => (\n                            <span {...triggerHandler} ref={ref as React.Ref<HTMLSpanElement>}>\n                                <FormattedRelativeTime\n                                    value={createddiff}\n                                    numeric=\"auto\"\n                                    updateIntervalInSeconds={1}\n                                />\n                            </span>\n                        )}\n                    </OverlayTrigger>\n                    <br />\n\n                    {/*CREATED BY*/}\n                    <FormattedMessage id=\"app.job.startedby\" />\n                    <OverlayTrigger\n                        overlay={\n                            <Tooltip id={`${job.id}-tooltip-startedby`}>\n                                <FormattedMessage id=\"generic.userid\" />\n                                {job.startedBy.id}\n                            </Tooltip>\n                        }>\n                        {({ ref, ...triggerHandler }) => (\n                            <span ref={ref as React.Ref<HTMLSpanElement>} {...triggerHandler}>\n                                {job.startedBy.name}\n                            </span>\n                        )}\n                    </OverlayTrigger>\n                    <br />\n                    <br />\n                    {/*STOPPED AT*/}\n                    {job.stoppedAt ? (\n                        <React.Fragment>\n                            <FormattedMessage\n                                id={job.cancelled ? \"app.job.cancelled\" : \"app.job.completed\"}\n                            />\n                            <OverlayTrigger\n                                overlay={\n                                    <Tooltip id={`${job.id}-tooltip-stopped`}>\n                                        {createddate.toLocaleString()}\n                                    </Tooltip>\n                                }>\n                                {({ ref, ...triggerHandler }) => (\n                                    <span\n                                        {...triggerHandler}\n                                        ref={ref as React.Ref<HTMLSpanElement>}>\n                                        <FormattedRelativeTime\n                                            value={stoppeddiff}\n                                            numeric=\"auto\"\n                                            updateIntervalInSeconds={1}\n                                        />\n                                    </span>\n                                )}\n                            </OverlayTrigger>\n                            <br />\n                        </React.Fragment>\n                    ) : (\n                        \"\"\n                    )}\n                    {job.cancelledBy ? (\n                        <React.Fragment>\n                            <FormattedMessage id=\"app.job.cancelledby\" />\n                            <OverlayTrigger\n                                overlay={\n                                    <Tooltip id={`${job.id}-tooltip-createdby`}>\n                                        <FormattedMessage id=\"generic.userid\" />\n                                        {job.startedBy.id}\n                                    </Tooltip>\n                                }>\n                                {({ ref, ...triggerHandler }) => (\n                                    <span\n                                        ref={ref as React.Ref<HTMLSpanElement>}\n                                        {...triggerHandler}>\n                                        {job.cancelledBy!.name}\n                                    </span>\n                                )}\n                            </OverlayTrigger>\n                            <br />\n                        </React.Fragment>\n                    ) : (\n                        \"\"\n                    )}\n\n                    {/*ERROR*/}\n                    {job.errorCode !== undefined || job.exceptionDetails !== undefined ? (\n                        <JobError job={job} />\n                    ) : (\n                        \"\"\n                    )}\n                    <div className=\"d-flex mt-2\" style={{ height: \"1.5rem\" }}>\n                        <ProgressBar\n                            className=\"text-darker font-weight-bold flex-grow-1 h-unset\"\n                            animated={!job.stoppedAt}\n                            label={\n                                typeof job.progress === \"number\"\n                                    ? `${job.progress.toString()}%`\n                                    : undefined\n                            }\n                            now={typeof job.progress === \"number\" ? job.progress : 100}\n                            striped\n                            variant={variant}\n                        />\n                        {job.canCancel && !job.stoppedAt ? (\n                            <Button\n                                style={{ padding: \"0 1em\" }}\n                                className=\"ml-1\"\n                                variant=\"danger\"\n                                onClick={() => this.props.onCancel(job)}>\n                                <FontAwesomeIcon icon=\"times\" className=\"d-block\" />\n                            </Button>\n                        ) : null}\n                    </div>\n                </ToastBody>\n            </Toast>\n        );\n    }\n}\n","import { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ReactNode } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { OverlayInjectedProps } from \"react-bootstrap/Overlay\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\nimport { Rnd } from \"react-rnd\";\n\nimport type { InstanceResponse } from \"../../ApiClient/generatedcode/generated\";\nimport { TGSJobResponse } from \"../../ApiClient/JobsClient\";\nimport InternalError, { ErrorCode } from \"../../ApiClient/models/InternalComms/InternalError\";\nimport configOptions, { jobsWidgetOptions } from \"../../ApiClient/util/config\";\nimport JobsController from \"../../ApiClient/util/JobsController\";\nimport ErrorAlert from \"./ErrorAlert\";\nimport JobCard from \"./JobCard\";\nimport Loading from \"./Loading\";\n\ninterface IProps {\n    width?: string;\n    widget: boolean;\n}\n\ninterface IState {\n    jobs: Map<number, Map<number, TGSJobResponse>>;\n    errors: InternalError<ErrorCode>[];\n    ownerrors: Array<InternalError<ErrorCode> | undefined>;\n    loading: boolean;\n    instances: Map<number, InstanceResponse>;\n}\n\nexport default class JobsList extends React.Component<IProps, IState> {\n    public static defaultProps = {\n        widget: true\n    };\n\n    private widgetRef = React.createRef<HTMLDivElement>();\n\n    public constructor(props: IProps) {\n        super(props);\n\n        this.handleUpdate = this.handleUpdate.bind(this);\n        this.onCancel = this.onCancel.bind(this);\n        this.onClose = this.onClose.bind(this);\n\n        this.state = {\n            jobs: JobsController.jobsByInstance,\n            errors: [],\n            ownerrors: [],\n            loading: true,\n            instances: new Map<number, InstanceResponse>()\n        };\n    }\n\n    private addError(error: InternalError<ErrorCode>): void {\n        this.setState(prevState => {\n            const ownerrors = Array.from(prevState.ownerrors);\n            ownerrors.push(error);\n            if (this.widgetRef.current) {\n                this.widgetRef.current.scrollTop = 0;\n            }\n            return {\n                ownerrors\n            };\n        });\n    }\n\n    public componentDidMount(): void {\n        JobsController.on(\"jobsLoaded\", this.handleUpdate);\n        this.handleUpdate();\n    }\n\n    public componentWillUnmount(): void {\n        JobsController.removeListener(\"jobsLoaded\", this.handleUpdate);\n    }\n\n    public handleUpdate(): void {\n        this.setState({\n            jobs: JobsController.jobsByInstance,\n            errors: JobsController.errors,\n            loading: false,\n            instances: JobsController.accessibleInstances\n        });\n    }\n\n    private async onCancel(job: TGSJobResponse) {\n        const status = await JobsController.cancelJob(job.id, error => this.addError(error));\n\n        if (!status) {\n            return;\n        }\n        JobsController.fastmode = 5;\n    }\n\n    private onClose(job: TGSJobResponse) {\n        JobsController.clearJob(job.id);\n    }\n\n    public render(): ReactNode {\n        if (!this.props.widget) return this.nested();\n\n        let totalJobs = 0;\n        for (const job of this.state.jobs.values()) {\n            totalJobs += job.size;\n        }\n\n        let display: boolean;\n        if (configOptions.jobswidgetdisplay.value === jobsWidgetOptions.NEVER) {\n            display = false;\n        } else if (configOptions.jobswidgetdisplay.value === jobsWidgetOptions.ALWAYS) {\n            display = true;\n        } else {\n            display = totalJobs > 0 || this.state.errors.length > 0;\n        }\n\n        return (\n            <div\n                style={{\n                    position: \"fixed\",\n                    top: 0,\n                    bottom: 0,\n                    right: 0,\n                    left: 0,\n                    pointerEvents: \"none\"\n                }}>\n                <Rnd\n                    className={`jobswidget ${display ? \"\" : \"invisible\"}`}\n                    style={{\n                        pointerEvents: \"auto\",\n                        bottom: 0,\n                        right: 0\n                    }}\n                    default={{\n                        width: \"30vw\",\n                        height: \"50vh\",\n                        x:\n                            document.documentElement.clientWidth -\n                            Math.min(document.documentElement.clientWidth * 0.3, 350) -\n                            20,\n                        y:\n                            document.documentElement.clientHeight -\n                            document.documentElement.clientHeight * 0.5 -\n                            20\n                    }}\n                    maxWidth={350}\n                    minHeight={50}\n                    minWidth={110}\n                    bounds=\"parent\">\n                    <div className=\"fancyscroll overflow-auto h-100\" ref={this.widgetRef}>\n                        <h5 className=\"text-center text-darker font-weight-bold\">\n                            <FormattedMessage id=\"view.instance.jobs.title\" />\n                        </h5>\n                        {this.nested()}\n                    </div>\n                </Rnd>\n            </div>\n        );\n    }\n\n    private nested(): ReactNode {\n        return (\n            <div className={this.props.widget ? \"d-sm-block\" : \"\"}>\n                {this.state.loading ? <Loading text=\"loading.instance.jobs.list\" /> : \"\"}\n                {this.state.ownerrors.map((err, index) => {\n                    if (!err) return;\n                    return (\n                        <ErrorAlert\n                            key={index}\n                            error={err}\n                            onClose={() =>\n                                this.setState(prev => {\n                                    const newarr = Array.from(prev.ownerrors);\n                                    newarr[index] = undefined;\n                                    return {\n                                        ownerrors: newarr\n                                    };\n                                })\n                            }\n                        />\n                    );\n                })}\n                {this.state.errors.map((error, index) => {\n                    return (\n                        <div key={index} style={{ maxWidth: this.props.widget ? 350 : \"unset\" }}>\n                            <ErrorAlert error={error} />\n                        </div>\n                    );\n                })}\n                {Array.from(this.state.jobs)\n                    .sort((a, b) => a[0] - b[0])\n                    .map(([instanceid, jobMap]) => {\n                        const renderTooltip = (instanceid: number) => {\n                            return (props: OverlayInjectedProps) => (\n                                <Tooltip id={`tooltip-instance-${instanceid}`} {...props}>\n                                    {instanceid}\n                                </Tooltip>\n                            );\n                        };\n\n                        let xFinishedEnabled = false;\n                        jobMap.forEach(job => {\n                            if (job.stoppedAt) xFinishedEnabled = true;\n                        });\n\n                        const instanceHeaderStyle = xFinishedEnabled\n                            ? { marginTop: \"5px\", marginLeft: \"20px\" }\n                            : undefined;\n\n                        return (\n                            <React.Fragment key={instanceid}>\n                                <div className=\"bg-dark p-2 row\">\n                                    <div className={`col-${xFinishedEnabled ? 9 : 12} text-center`}>\n                                        <div style={instanceHeaderStyle}>\n                                            <OverlayTrigger overlay={renderTooltip(instanceid)}>\n                                                <React.Fragment>\n                                                    {this.state.instances.get(instanceid)?.name ??\n                                                        \"Unknown\"}{\" \"}\n                                                    (\n                                                    <FormattedMessage\n                                                        id=\"view.instance.jobs.jobtotal\"\n                                                        values={{ amount: jobMap.size }}\n                                                    />\n                                                    )\n                                                </React.Fragment>\n                                            </OverlayTrigger>\n                                        </div>\n                                    </div>\n                                    {xFinishedEnabled ? (\n                                        <div className=\"col-3 text-right\">\n                                            <OverlayTrigger\n                                                placement=\"top\"\n                                                overlay={props => (\n                                                    <Tooltip id=\"clear-instance-jobs\" {...props}>\n                                                        <FormattedMessage id=\"view.instance.jobs.clearfinished\" />\n                                                    </Tooltip>\n                                                )}>\n                                                <Button\n                                                    variant=\"outline-secondary\"\n                                                    onClick={() =>\n                                                        jobMap.forEach(job => {\n                                                            if (job.stoppedAt)\n                                                                JobsController.clearJob(job.id);\n                                                        })\n                                                    }\n                                                    className=\"nowrap\">\n                                                    <FontAwesomeIcon icon={faTimes} />\n                                                </Button>\n                                            </OverlayTrigger>\n                                        </div>\n                                    ) : (\n                                        <React.Fragment />\n                                    )}\n                                </div>\n                                {Array.from(jobMap, ([, job]) => job)\n                                    .sort((a, b) => b.id - a.id)\n                                    .map(job => (\n                                        <JobCard\n                                            job={job}\n                                            width={this.props.width}\n                                            key={job.id}\n                                            onClose={this.onClose}\n                                            onCancel={this.onCancel}\n                                        />\n                                    ))}\n                            </React.Fragment>\n                        );\n                    })}\n            </div>\n        );\n    }\n}\n","import React, { ReactNode } from \"react\";\nimport Spinner, { SpinnerProps } from \"react-bootstrap/Spinner\";\nimport { FormattedMessage } from \"react-intl\";\nimport CSSTransition from \"react-transition-group/CSSTransition\";\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\n\ntype IProps = SpinnerProps & {\n    animation: \"border\" | \"grow\";\n    center: boolean;\n    width: number;\n    widthUnit: string;\n    className?: string;\n    text?: string;\n};\n\ninterface IState {}\n\nexport default class Loading extends React.Component<IProps, IState> {\n    public static defaultProps = {\n        animation: \"border\",\n        width: \"50\",\n        widthUnit: \"vmin\",\n        center: true\n    };\n    public constructor(props: IProps) {\n        super(props);\n    }\n\n    public render(): ReactNode {\n        const {\n            variant,\n            animation,\n            center,\n            className,\n            width,\n            widthUnit,\n            text,\n            children,\n            ...otherprops\n        } = this.props;\n        const styles: React.CSSProperties = {\n            width: `${width}${widthUnit}`,\n            height: `${width}${widthUnit}`\n        } as React.CSSProperties;\n        return (\n            <TransitionGroup>\n                <CSSTransition\n                    appear\n                    classNames=\"anim-fade\"\n                    addEndListener={(node, done) => {\n                        node.addEventListener(\"transitionend\", done, false);\n                    }}>\n                    <div className={center ? \"text-center\" : \"\"}>\n                        <Spinner\n                            variant={variant ? variant : \"secondary\"}\n                            className={center ? `d-block mx-auto ${className ?? \"\"}` : className}\n                            style={styles}\n                            animation={animation ? animation : \"border\"}\n                            {...otherprops}\n                        />\n                        {text ? <FormattedMessage id={text} /> : \"\"}\n                        {children}\n                    </div>\n                </CSSTransition>\n            </TransitionGroup>\n        );\n    }\n}\n","import { faInvision } from \"@fortawesome/free-brands-svg-icons\";\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons/faDiscord\";\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons/faGithub\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { ChangeEvent, FormEvent, ReactNode } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/esm/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport { FormattedMessage } from \"react-intl\";\nimport { RouteComponentProps } from \"react-router\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { OAuthProvider } from \"../../ApiClient/generatedcode/generated\";\nimport { CredentialsType } from \"../../ApiClient/models/ICredentials\";\nimport InternalError, { ErrorCode } from \"../../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../../ApiClient/models/InternalComms/InternalStatus\";\nimport ServerClient from \"../../ApiClient/ServerClient\";\nimport CredentialsProvider from \"../../ApiClient/util/CredentialsProvider\";\nimport { GeneralContext, UnsafeGeneralContext } from \"../../contexts/GeneralContext\";\nimport { MODE } from \"../../definitions/constants\";\nimport KeycloakLogo from \"../../images/keycloak_icon_64px.png\";\nimport TGLogo from \"../../images/tglogo-white.svg\";\nimport { RouteData } from \"../../utils/routes\";\nimport ErrorAlert from \"../utils/ErrorAlert\";\nimport Loading from \"../utils/Loading\";\n\ninterface IProps extends RouteComponentProps {\n    prefillLogin?: string;\n    postLoginAction?: () => void;\n}\ninterface IState {\n    busy: boolean;\n    validated: boolean;\n    username: string;\n    password: string;\n    errors: Array<InternalError<ErrorCode> | undefined>;\n    redirectSetup?: boolean;\n}\n\nexport type StoredOAuthData = { provider: OAuthProvider; url: string };\nexport type OAuthStateStorage = Record<string, StoredOAuthData>;\n\nclass Login extends React.Component<IProps, IState> {\n    public declare context: UnsafeGeneralContext;\n\n    public constructor(props: IProps) {\n        super(props);\n        this.submit = this.submit.bind(this);\n\n        console.log(RouteData.oautherrors);\n\n        this.state = {\n            busy: false,\n            validated: false,\n            username: \"\",\n            password: \"\",\n            errors: Array.from(RouteData.oautherrors)\n        };\n    }\n\n    public componentDidMount() {\n        if (MODE === \"PROD\") {\n            // noinspection ES6MissingAwait\n            void this.tryLoginDefault();\n        }\n    }\n\n    private async tryLoginDefault(): Promise<void> {\n        const response = await ServerClient.login({\n            type: CredentialsType.Password,\n            userName: \"admin\",\n            password: \"ISolemlySwearToDeleteTheDataDirectory\"\n        });\n\n        if (response.code === StatusCode.OK) {\n            this.setState({\n                redirectSetup: true\n            });\n        }\n    }\n\n    private addError(error: InternalError<ErrorCode>): void {\n        this.setState(prevState => {\n            const errors = Array.from(prevState.errors);\n            errors.push(error);\n            return {\n                errors\n            };\n        });\n    }\n\n    public render(): ReactNode {\n        const handleUsrInput = (event: ChangeEvent<HTMLInputElement>) =>\n            this.setState({ username: event.target.value });\n        const handlePwdInput = (event: ChangeEvent<HTMLInputElement>) =>\n            this.setState({ password: event.target.value });\n\n        if (this.state.busy || CredentialsProvider.isTokenValid()) {\n            return <Loading text=\"loading.login\" />;\n        }\n\n        if (!this.context.serverInfo) {\n            return <Loading text=\"loading.serverinfo\" />;\n        }\n\n        /*if (this.state.redirectSetup) {\n                return <Redirect to={AppRoutes.setup.link || AppRoutes.setup.route} />;\n            }*/\n\n        const providers: Record<OAuthProvider, React.ReactNode> = {\n            [OAuthProvider.GitHub]: <FontAwesomeIcon icon={faGithub} style={{ width: \"1.2em\" }} />,\n            [OAuthProvider.Discord]: (\n                <FontAwesomeIcon icon={faDiscord} style={{ width: \"1.2em\" }} />\n            ),\n            [OAuthProvider.TGForums]: <img src={TGLogo} alt=\"tglogo\" style={{ width: \"1.2em\" }} />,\n            [OAuthProvider.Keycloak]: (\n                <img src={KeycloakLogo} alt=\"keycloaklogo\" style={{ width: \"1.2em\" }} />\n            ),\n            [OAuthProvider.InvisionCommunity]: (\n                <FontAwesomeIcon icon={faInvision} style={{ width: \"1.2em\" }} />\n            )\n        };\n\n        const providersTheme: Record<OAuthProvider, string | undefined> = {\n            GitHub: \"#161b22\",\n            Discord: \"#7289da\",\n            TGForums: undefined,\n            Keycloak: undefined,\n            InvisionCommunity: undefined\n        };\n\n        return (\n            <Col className=\"mx-auto\" lg={5} md={8}>\n                {this.state.errors.map((err, index) => {\n                    if (!err) return;\n                    return (\n                        <ErrorAlert\n                            key={index}\n                            error={err}\n                            onClose={() =>\n                                this.setState(prev => {\n                                    const newarr = Array.from(prev.errors);\n                                    newarr[index] = undefined;\n                                    return {\n                                        errors: newarr\n                                    };\n                                })\n                            }\n                        />\n                    );\n                })}\n                <Card body>\n                    <Card.Title>\n                        <FormattedMessage id=\"login.header\" />\n                    </Card.Title>\n                    <Card body>\n                        <Card.Title>\n                            <FormattedMessage id=\"login.type.generic\" />\n                        </Card.Title>\n                        <Form validated={this.state.validated} onSubmit={this.submit}>\n                            <Form.Group controlId=\"username\">\n                                <Form.Label>\n                                    <FormattedMessage id=\"login.username\" />\n                                </Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    placeholder=\"Enter username\"\n                                    onChange={handleUsrInput}\n                                    value={this.state.username}\n                                    required\n                                />\n                            </Form.Group>\n                            <Form.Group controlId=\"password\">\n                                <Form.Label>\n                                    <FormattedMessage id=\"login.password\" />\n                                </Form.Label>\n                                <Form.Control\n                                    type=\"password\"\n                                    placeholder=\"Password\"\n                                    onChange={handlePwdInput}\n                                    value={this.state.password}\n                                    required\n                                />\n                            </Form.Group>\n                            <Button type=\"submit\" block>\n                                <FormattedMessage id=\"login.submit\" />\n                            </Button>\n                        </Form>\n                    </Card>\n                    {(this.context.serverInfo?.oAuthProviderInfos?.Discord ||\n                        this.context.serverInfo?.oAuthProviderInfos?.GitHub ||\n                        this.context.serverInfo?.oAuthProviderInfos?.Keycloak ||\n                        this.context.serverInfo?.oAuthProviderInfos?.TGForums ||\n                        this.context.serverInfo?.oAuthProviderInfos?.InvisionCommunity) && (\n                        <>\n                            <hr />\n                            <Card body>\n                                <Card.Title>\n                                    <FormattedMessage id=\"login.type.oauth\" />\n                                </Card.Title>\n                                {Object.keys(this.context.serverInfo.oAuthProviderInfos ?? {}).map(\n                                    provider => {\n                                        const ptheme = providersTheme[provider as OAuthProvider];\n                                        return (\n                                            <Button\n                                                key={provider}\n                                                block\n                                                style={ptheme ? { background: ptheme } : undefined}\n                                                onClick={() =>\n                                                    this.startOAuth(provider as OAuthProvider)\n                                                }>\n                                                {providers[provider as OAuthProvider]}\n                                                <span className=\"ml-1\">\n                                                    <FormattedMessage\n                                                        id=\"login.oauth\"\n                                                        values={{ provider }}\n                                                    />\n                                                </span>\n                                            </Button>\n                                        );\n                                    }\n                                )}\n                            </Card>\n                        </>\n                    )}\n                </Card>\n            </Col>\n        );\n    }\n\n    private async startOAuth(provider: OAuthProvider): Promise<void> {\n        if (!this.context.serverInfo) {\n            this.addError(\n                new InternalError(ErrorCode.APP_FAIL, {\n                    jsError: Error(\"serverInfo is null in startOAuth\")\n                })\n            );\n            return;\n        }\n\n        const stateArray = new Uint8Array(10);\n        window.crypto.getRandomValues(stateArray);\n        const state = Array.from(stateArray, dec => dec.toString(16).padStart(2, \"0\")).join(\"\");\n\n        let url: string | undefined = undefined;\n\n        const e = encodeURIComponent;\n\n        switch (provider) {\n            case OAuthProvider.Discord: {\n                url = `https://discord.com/api/oauth2/authorize?response_type=code&client_id=${e(\n                    this.context.serverInfo.oAuthProviderInfos.Discord.clientId\n                )}&scope=identify&state=${e(state)}&redirect_uri=${e(\n                    this.context.serverInfo.oAuthProviderInfos.Discord.redirectUri\n                )}`;\n                break;\n            }\n            case OAuthProvider.GitHub: {\n                url = `https://github.com/login/oauth/authorize?client_id=${e(\n                    this.context.serverInfo.oAuthProviderInfos.GitHub.clientId\n                )}&redirect_uri=${e(\n                    this.context.serverInfo.oAuthProviderInfos.GitHub.redirectUri\n                )}&state=${e(state)}&allow_signup=false`;\n                break;\n            }\n            case OAuthProvider.Keycloak: {\n                url = `${this.context.serverInfo.oAuthProviderInfos.Keycloak\n                    .serverUrl!}/protocol/openid-connect/auth?response_type=code&client_id=${e(\n                    this.context.serverInfo.oAuthProviderInfos.Keycloak.clientId\n                )}&scope=openid&state=${e(state)}&redirect_uri=${e(\n                    this.context.serverInfo.oAuthProviderInfos.Keycloak.redirectUri\n                )}`;\n                break;\n            }\n            case OAuthProvider.TGForums: {\n                url = `https://tgstation13.org/phpBB/app.php/tgapi/oauth/auth?scope=user&client_id=${e(\n                    this.context.serverInfo.oAuthProviderInfos.TGForums.clientId\n                )}&state=${e(state)}&redirect_uri=${e(\n                    this.context.serverInfo.oAuthProviderInfos.TGForums.redirectUri\n                )}`;\n                break;\n            }\n            case OAuthProvider.InvisionCommunity: {\n                url = `${this.context.serverInfo.oAuthProviderInfos.InvisionCommunity\n                    .serverUrl!}/oauth/authorize/?response_type=code&client_id=${e(\n                    this.context.serverInfo.oAuthProviderInfos.InvisionCommunity.clientId\n                )}&scope=profile&state=${e(state)}&redirect_uri=${e(\n                    this.context.serverInfo.oAuthProviderInfos.InvisionCommunity.redirectUri\n                )}`;\n                break;\n            }\n        }\n\n        const oauthdata = JSON.parse(\n            window.sessionStorage.getItem(\"oauth\") ?? \"{}\"\n        ) as OAuthStateStorage;\n        oauthdata[state] = {\n            provider: provider,\n            url: this.props.location.pathname\n        };\n\n        window.sessionStorage.setItem(\"oauth\", JSON.stringify(oauthdata));\n\n        window.location.href = url;\n\n        return new Promise(resolve => resolve());\n    }\n\n    private async submit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n        this.setState({\n            busy: true\n        });\n        const response = await ServerClient.login({\n            type: CredentialsType.Password,\n            userName: this.state.username,\n            password: this.state.password\n        });\n        if (response.code == StatusCode.ERROR) {\n            this.setState({\n                busy: false\n            });\n            this.addError(response.error);\n        } else {\n            if (this.props.postLoginAction) {\n                this.props.postLoginAction();\n            }\n        }\n    }\n}\nLogin.contextType = GeneralContext;\nexport default withRouter(Login);\n","import React from \"react\";\n\nimport type { ServerInformationResponse, UserResponse } from \"../ApiClient/generatedcode/generated\";\nimport InternalError from \"../ApiClient/models/InternalComms/InternalError\";\n\nexport type GeneralContext = {\n    deleteError: (error: InternalError) => void;\n    errors: Set<InternalError>;\n    user: UserResponse;\n    serverInfo: ServerInformationResponse;\n};\n\n//same as GeneralContext except used for components which arent loading under the router so we cant guarentee that serverInfo and user wont be null\nexport type UnsafeGeneralContext = {\n    deleteError: (error: InternalError) => void;\n    errors: Set<InternalError>;\n    user: UserResponse | null;\n    serverInfo: ServerInformationResponse | null;\n};\n\nexport const GeneralContext = React.createContext<GeneralContext>(\n    (undefined as unknown) as GeneralContext\n);\n","declare const API_VERSION: string;\ndeclare const VERSION: string;\ndeclare const MODE: \"DEV\" | \"PROD\" | \"PROD-GITHUB\";\ndeclare const DEFAULT_BASEPATH: string;\ndeclare const DEFAULT_APIPATH: string;\n\nconst _API_VERSION = API_VERSION;\nconst _VERSION = VERSION;\nconst _MODE = MODE;\nconst _DEFAULT_BASEPATH = DEFAULT_BASEPATH;\nconst _DEFAULT_APIPATH = DEFAULT_APIPATH;\n\nexport { _API_VERSION as API_VERSION };\nexport { _VERSION as VERSION };\nexport { _MODE as MODE };\nexport { _DEFAULT_BASEPATH as DEFAULT_BASEPATH };\nexport { _DEFAULT_APIPATH as DEFAULT_APIPATH };\n","declare let __webpack_public_path__: string;\ndeclare let MODE: \"GITHUB\" | \"PROD\" | \"DEV\";\n\n// eslint-disable-next-line prefer-const\nif (window.publicPath && MODE !== \"GITHUB\") __webpack_public_path__ = window.publicPath;\nconsole.log(\"Public path:\", __webpack_public_path__);\n\nexport {};\n","import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { NavDropdown, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { FormattedMessage } from \"react-intl\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport { SemVer } from \"semver\";\n\nimport AdminClient from \"../ApiClient/AdminClient\";\nimport { AdministrationRights } from \"../ApiClient/generatedcode/generated\";\nimport { StatusCode } from \"../ApiClient/models/InternalComms/InternalStatus\";\nimport ServerClient from \"../ApiClient/ServerClient\";\nimport UserClient from \"../ApiClient/UserClient\";\nimport CredentialsProvider from \"../ApiClient/util/CredentialsProvider\";\nimport LoginHooks from \"../ApiClient/util/LoginHooks\";\nimport { GeneralContext, UnsafeGeneralContext } from \"../contexts/GeneralContext\";\nimport { hasAdminRight, matchesPath, resolvePermissionSet } from \"../utils/misc\";\nimport RouteController from \"../utils/RouteController\";\nimport { AppCategories, AppRoute, AppRoutes } from \"../utils/routes\";\n\ninterface IProps extends RouteComponentProps {\n    category?: {\n        name: string;\n        key: string;\n    };\n}\n\ninterface IState {\n    loggedIn: boolean;\n    //so we dont actually use the routes but it allows us to make react update the component\n    routes: AppRoute[];\n    categories: typeof AppCategories;\n    updateAvailable: boolean;\n}\n\nclass AppNavbar extends React.Component<IProps, IState> {\n    public declare context: UnsafeGeneralContext;\n\n    public constructor(props: IProps) {\n        super(props);\n        this.logoutClick = this.logoutClick.bind(this);\n        this.loginSuccess = this.loginSuccess.bind(this);\n        this.logout = this.logout.bind(this);\n        this.refresh = this.refresh.bind(this);\n\n        this.state = {\n            loggedIn: !!CredentialsProvider.isTokenValid(),\n            routes: [],\n            categories: AppCategories,\n            updateAvailable: false\n        };\n    }\n\n    private loginSuccess(): void {\n        this.setState({\n            loggedIn: true\n        });\n\n        void this.checkShowServerUpdateIcon();\n    }\n\n    private async checkShowServerUpdateIcon(): Promise<void> {\n        await ServerClient.wait4Init();\n        const userResponse = await UserClient.getCurrentUser();\n        if (userResponse.code === StatusCode.ERROR) return;\n\n        const user = userResponse.payload;\n\n        const permissionSet = resolvePermissionSet(user);\n        if (hasAdminRight(permissionSet, AdministrationRights.ChangeVersion)) {\n            const response = await AdminClient.getAdminInfo();\n            if (response.code == StatusCode.OK) {\n                const latestVersion = new SemVer(response.payload.latestVersion);\n                const currentVersion = new SemVer(this.context.serverInfo!.version);\n\n                const updateAvailable = latestVersion.compare(currentVersion) === 1;\n\n                this.setState({\n                    updateAvailable\n                });\n            }\n        }\n    }\n\n    private logout() {\n        this.setState({\n            loggedIn: false,\n            updateAvailable: false\n        });\n    }\n\n    private refresh(routes: Array<AppRoute>) {\n        this.setState({\n            routes\n        });\n    }\n\n    public async componentDidMount(): Promise<void> {\n        LoginHooks.on(\"loginSuccess\", this.loginSuccess);\n        ServerClient.on(\"logout\", this.logout);\n\n        this.setState({\n            routes: await RouteController.getRoutes()\n        });\n\n        RouteController.on(\"refresh\", this.refresh);\n    }\n\n    public componentWillUnmount(): void {\n        LoginHooks.removeListener(\"loginSuccess\", this.loginSuccess);\n        ServerClient.removeListener(\"logout\", this.logout);\n        RouteController.removeListener(\"refresh\", this.refresh);\n    }\n\n    public render(): React.ReactNode {\n        return (\n            <React.Fragment>\n                <Navbar\n                    className=\"shadow-lg\"\n                    expand={this.state.loggedIn ? \"lg\" : undefined}\n                    collapseOnSelect\n                    variant=\"dark\"\n                    bg=\"primary\">\n                    <Navbar.Brand\n                        onClick={() => {\n                            this.props.history.push(AppRoutes.home.link ?? AppRoutes.home.route, {\n                                reload: true\n                            });\n                        }}\n                        className=\"mr-auto\">\n                        {this.renderVersion()}\n                    </Navbar.Brand>\n                    <Navbar.Toggle className=\"mr-2\" aria-controls=\"responsive-navbar-nav\" />\n                    <Navbar.Collapse className=\"text-right mr-2\" style={{ minWidth: \"0px\" }}>\n                        <Nav>\n                            {!this.state.loggedIn ? (\n                                <Nav.Item>\n                                    <Nav.Link\n                                        onClick={() => {\n                                            this.props.history.push(\n                                                AppRoutes.home.link ?? AppRoutes.home.route,\n                                                { reload: true }\n                                            );\n                                        }}\n                                        active={true}>\n                                        <FormattedMessage id=\"routes.login\" />\n                                    </Nav.Link>\n                                </Nav.Item>\n                            ) : (\n                                Object.values(this.state.categories).map(cat => {\n                                    if (!cat.leader.cachedAuth) return;\n                                    return cat.routes.length == 1 ? (\n                                        <Nav.Item key={cat.name}>\n                                            <Nav.Link\n                                                onClick={() => {\n                                                    this.props.history.push(\n                                                        cat.leader.link ?? cat.leader.route,\n                                                        { reload: true }\n                                                    );\n                                                }}\n                                                active={matchesPath(\n                                                    this.props.location.pathname,\n                                                    cat.leader.route,\n                                                    !cat.leader.navbarLoose\n                                                )}>\n                                                <FormattedMessage id={cat.leader.name} />\n                                            </Nav.Link>\n                                        </Nav.Item>\n                                    ) : (\n                                        <Nav.Item key={cat.name}>\n                                            <NavDropdown\n                                                id={cat.name + \"-dropdown\"}\n                                                title={<FormattedMessage id={cat.leader.name} />}>\n                                                {Object.values(cat.routes).filter(\n                                                    value => value.cachedAuth\n                                                ).length >= 2 ? (\n                                                    <React.Fragment>\n                                                        <NavDropdown.Item\n                                                            onClick={() => {\n                                                                this.props.history.push(\n                                                                    cat.leader.link ??\n                                                                        cat.leader.route,\n                                                                    { reload: true }\n                                                                );\n                                                            }}\n                                                            active={matchesPath(\n                                                                this.props.location.pathname,\n                                                                cat.leader.route,\n                                                                true\n                                                            )}>\n                                                            <FormattedMessage\n                                                                id={cat.leader.name}\n                                                            />\n                                                        </NavDropdown.Item>\n                                                        {cat.routes.map(val => {\n                                                            if (val.catleader) return; //we already display this but differently\n                                                            if (!val.cachedAuth) return;\n                                                            if (!val.visibleNavbar) return;\n\n                                                            return (\n                                                                <NavDropdown.Item\n                                                                    key={val.name}\n                                                                    onClick={() => {\n                                                                        this.props.history.push(\n                                                                            val.link ?? val.route,\n                                                                            {\n                                                                                reload: true\n                                                                            }\n                                                                        );\n                                                                    }}\n                                                                    active={matchesPath(\n                                                                        this.props.location\n                                                                            .pathname,\n                                                                        val.route,\n                                                                        !val.navbarLoose\n                                                                    )}>\n                                                                    <FormattedMessage\n                                                                        id={val.name}\n                                                                    />\n                                                                </NavDropdown.Item>\n                                                            );\n                                                        })}\n                                                    </React.Fragment>\n                                                ) : (\n                                                    \"\"\n                                                )}\n                                            </NavDropdown>\n                                        </Nav.Item>\n                                    );\n                                })\n                            )}\n                        </Nav>\n                        {this.state.updateAvailable ? (\n                            <OverlayTrigger\n                                placement=\"right\"\n                                overlay={props => (\n                                    <Tooltip id=\"tgs-updated-tooltip\" {...props}>\n                                        <FormattedMessage id=\"navbar.update\" />\n                                    </Tooltip>\n                                )}>\n                                <h3>\n                                    <FontAwesomeIcon\n                                        onClick={() =>\n                                            this.props.history.push(\n                                                AppRoutes.admin_update.link ??\n                                                    AppRoutes.admin_update.route,\n                                                { reload: true }\n                                            )\n                                        }\n                                        icon={faExclamationCircle}\n                                    />\n                                </h3>\n                            </OverlayTrigger>\n                        ) : (\n                            <React.Fragment />\n                        )}\n                        {this.renderUser()}\n                    </Navbar.Collapse>\n                </Navbar>\n            </React.Fragment>\n        );\n    }\n\n    private renderVersion(): React.ReactNode {\n        if (!this.context.serverInfo?.version) {\n            return <FormattedMessage id=\"loading.loading\" />;\n        }\n\n        return (\n            <React.Fragment>\n                <FormattedMessage id=\"generic.appname\" />\n                {\" v\"}\n                {this.context.serverInfo.version}\n            </React.Fragment>\n        );\n    }\n\n    private renderUser(): React.ReactNode {\n        if (!this.state.loggedIn)\n            return (\n                <React.Fragment>\n                    <Button\n                        onClick={() => {\n                            this.props.history.push(\n                                AppRoutes.config.link ?? AppRoutes.config.route,\n                                { reload: true }\n                            );\n                        }}\n                        variant=\"primary\">\n                        <FontAwesomeIcon icon=\"cogs\" />\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            this.props.history.push(AppRoutes.info.link ?? AppRoutes.info.route, {\n                                reload: true\n                            });\n                        }}\n                        variant=\"primary\">\n                        <FontAwesomeIcon icon=\"info-circle\" />\n                    </Button>\n                </React.Fragment>\n            );\n\n        return (\n            <Nav.Item className=\"ml-auto\">\n                <Dropdown>\n                    <Dropdown.Toggle\n                        id=\"user-dropdown\"\n                        type=\"button\"\n                        variant=\"primary\"\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\">\n                        {this.context.user ? (\n                            this.context.user.name\n                        ) : (\n                            <FormattedMessage id=\"loading.loading\" />\n                        )}\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu alignRight className=\"text-right\">\n                        <Dropdown.Item\n                            onClick={() => {\n                                this.props.history.push(\n                                    AppRoutes.info.link ?? AppRoutes.info.route,\n                                    { reload: true }\n                                );\n                            }}>\n                            <FormattedMessage id=\"routes.info\" />\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                            onClick={() => {\n                                this.props.history.push(\n                                    AppRoutes.config.link ?? AppRoutes.config.route,\n                                    { reload: true }\n                                );\n                            }}>\n                            <FormattedMessage id=\"routes.config\" />\n                        </Dropdown.Item>\n                        {AppRoutes.passwd.cachedAuth ? (\n                            <Dropdown.Item\n                                onClick={() => {\n                                    this.props.history.push(\n                                        AppRoutes.passwd.link ?? AppRoutes.passwd.route,\n                                        { reload: true }\n                                    );\n                                }}>\n                                <FormattedMessage id=\"routes.passwd\" />\n                            </Dropdown.Item>\n                        ) : (\n                            \"\"\n                        )}\n                        <Dropdown.Item\n                            onClick={() => {\n                                ServerClient.emit(\"purgeCache\");\n                                this.props.history.replace(this.props.location.pathname, {\n                                    reload: true\n                                });\n                            }}>\n                            <FormattedMessage id=\"navbar.purgecache\" />\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                            onClick={() => {\n                                this.props.history.replace(this.props.location.pathname, {\n                                    reload: true\n                                });\n                            }}>\n                            <FormattedMessage id=\"navbar.refresh\" />\n                        </Dropdown.Item>\n                        <Dropdown.Item onClick={this.logoutClick}>\n                            <FormattedMessage id=\"navbar.logout\" />\n                        </Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n            </Nav.Item>\n        );\n    }\n\n    private logoutClick(): void {\n        ServerClient.logout();\n    }\n}\nAppNavbar.contextType = GeneralContext;\nexport default withRouter(AppNavbar);\n","import { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Button, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { FormattedMessage } from \"react-intl\";\n\ninterface IProps {}\n\ninterface IState {}\n\nexport default class ReportIssue extends React.Component<IProps, IState> {\n    public render(): React.ReactNode {\n        return (\n            <OverlayTrigger\n                placement=\"top\"\n                overlay={props => (\n                    <Tooltip id=\"report-issue-tooltip\" {...props}>\n                        <FormattedMessage id=\"view.report\" />\n                    </Tooltip>\n                )}>\n                <Button\n                    className=\"nowrap report-issue\"\n                    onClick={() =>\n                        window.open(\n                            \"https://github.com/tgstation/tgstation-server-webpanel/issues/new\"\n                        )\n                    }>\n                    <FontAwesomeIcon icon={faExclamationTriangle} />\n                </Button>\n            </OverlayTrigger>\n        );\n    }\n}\n","import React from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Container from \"react-bootstrap/Container\";\nimport { FormattedMessage } from \"react-intl\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\n\nimport { MODE, VERSION } from \"../../definitions/constants\";\n\ninterface IProps extends RouteComponentProps {}\ninterface IState {\n    error?: Error;\n    errorInfo?: React.ErrorInfo;\n}\n\nclass ErrorBoundary extends React.Component<IProps, IState> {\n    public constructor(props: IProps) {\n        super(props);\n        this.state = {};\n    }\n\n    public componentDidUpdate(prevProps: IProps): void {\n        if (this.props.location.key !== prevProps.location.key) {\n            this.setState({\n                error: undefined,\n                errorInfo: undefined\n            });\n        }\n    }\n\n    public componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\n        this.setState({\n            error,\n            errorInfo\n        });\n    }\n\n    public render(): React.ReactNode {\n        if (this.state.error) {\n            return (\n                <Container className=\"mt-5 mb-5\">\n                    <Card className=\"bg-transparent\" border=\"danger\">\n                        <Card.Header className=\"bg-danger\">\n                            <FormattedMessage id=\"error.somethingwentwrong\" />\n                        </Card.Header>\n                        <Card.Body>\n                            <Card.Title>\n                                {this.state.error.name}: {this.state.error.message}\n                            </Card.Title>\n                            <Card.Text as={\"pre\"} className=\"bg-transparent text-danger\">\n                                <code>\n                                    {`Webpanel Version: ${VERSION}\\nWebpanel Mode: ${MODE}\\nStack trace: ${\n                                        this.state.errorInfo?.componentStack ??\n                                        \"Unable to get stack info\"\n                                    }`}\n                                </code>\n                            </Card.Text>\n                        </Card.Body>\n                    </Card>\n                </Container>\n            );\n        } else {\n            return this.props.children;\n        }\n    }\n}\n\nexport default withRouter(ErrorBoundary);\n","import { Component, ReactNode } from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\n\ninterface IProps\n    extends RouteComponentProps<\n        Record<string, string>,\n        {\n            statusCode?: number;\n        },\n        { reload?: boolean }\n    > {}\ninterface IState {\n    clear: boolean;\n}\n\nclass Reload extends Component<IProps, IState> {\n    public constructor(props: IProps) {\n        super(props);\n        this.state = {\n            clear: false\n        };\n    }\n    public componentDidUpdate(prevProps: IProps): void {\n        if (this.state.clear) {\n            this.setState({\n                clear: false\n            });\n            return;\n        }\n        if (\n            prevProps.match.path == this.props.match.path &&\n            prevProps.location.key != this.props.location.key &&\n            this.props.location.state?.reload\n        ) {\n            this.setState({\n                clear: true\n            });\n        }\n    }\n\n    public render(): ReactNode {\n        return this.state.clear ? \"\" : this.props.children;\n    }\n}\n\nexport default withRouter(Reload);\n","import loadable, { LoadableComponent } from \"@loadable/component\";\nimport * as React from \"react\";\nimport { Component, ComponentClass, ReactNode } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport { FormattedMessage } from \"react-intl\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { CredentialsType } from \"./ApiClient/models/ICredentials\";\nimport InternalError, { ErrorCode } from \"./ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"./ApiClient/models/InternalComms/InternalStatus\";\nimport ServerClient from \"./ApiClient/ServerClient\";\nimport AccessDenied from \"./components/utils/AccessDenied\";\nimport ErrorAlert from \"./components/utils/ErrorAlert\";\nimport ErrorBoundary from \"./components/utils/ErrorBoundary\";\nimport Loading from \"./components/utils/Loading\";\nimport Reload from \"./components/utils/Reload\";\nimport Login, { OAuthStateStorage } from \"./components/views/Login\";\nimport { GeneralContext, UnsafeGeneralContext } from \"./contexts/GeneralContext\";\nimport { MODE } from \"./definitions/constants\";\nimport { matchesPath } from \"./utils/misc\";\nimport RouteController from \"./utils/RouteController\";\nimport { AppRoute, AppRoutes, RouteData } from \"./utils/routes\";\n\ninterface IState {\n    loading: boolean;\n    routes: Array<AppRoute>;\n    components: Map<string, LoadableComponent<unknown>>;\n}\ninterface IProps extends RouteComponentProps {\n    loggedIn: boolean;\n    selectCategory: (category: string) => void;\n}\n\nconst LoadSpin = (page: string) => (\n    <Loading text={\"loading.page\"}>\n        <FormattedMessage id={page} />\n    </Loading>\n);\n\nconst NotFound = loadable(() => import(\"./components/utils/NotFound\"), {\n    fallback: LoadSpin(\"loading.page.notfound\")\n});\n\nclass Router extends Component<IProps, IState> {\n    public declare context: UnsafeGeneralContext;\n    public constructor(props: IProps) {\n        super(props);\n\n        this.refreshListener = this.refreshListener.bind(this);\n\n        const components = new Map<string, LoadableComponent<unknown>>();\n\n        const routes = RouteController.getImmediateRoutes(false);\n        routes.forEach(route => {\n            components.set(\n                route.name,\n                //*should* always be a react component\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                loadable(() => import(`./components/views/${route.file}`), {\n                    fallback: LoadSpin(route.name)\n                })\n            );\n        });\n\n        this.state = {\n            loading: !!new URLSearchParams(window.location.search).get(\"state\"),\n            routes: RouteController.getImmediateRoutes(false),\n            components: components\n        };\n    }\n\n    private refreshListener(routes: Array<AppRoute>) {\n        this.setState({\n            routes\n        });\n    }\n\n    public async componentDidMount() {\n        RouteController.on(\"refreshAll\", this.refreshListener);\n\n        this.props.history.listen(location => {\n            void this.listener(location.pathname);\n        });\n        this.listener(this.props.location.pathname);\n\n        const URLSearch = new URLSearchParams(window.location.search);\n        const state = URLSearch.get(\"state\");\n        if (!state) {\n            this.setState({\n                loading: false\n            });\n            return;\n        }\n\n        if (MODE === \"PROD\") {\n            window.history.replaceState(null, document.title, window.location.pathname);\n        }\n\n        const oauthdata = JSON.parse(\n            window.sessionStorage.getItem(\"oauth\") ?? \"{}\"\n        ) as OAuthStateStorage;\n\n        const oauthstate = oauthdata[state];\n        if (!oauthstate) {\n            return this.setErrorAndEnd(\n                new InternalError(ErrorCode.LOGIN_BAD_OAUTH, {\n                    jsError: Error(`State(${state}) cannot be resolved to a provider.`)\n                })\n            );\n        }\n\n        const code = URLSearch.get(\"code\");\n        if (!code) {\n            return this.setErrorAndEnd(\n                new InternalError(ErrorCode.LOGIN_BAD_OAUTH, {\n                    jsError: Error(`Code not found.`)\n                })\n            );\n        }\n        this.props.history.replace(oauthstate.url);\n\n        const response = await ServerClient.login({\n            type: CredentialsType.OAuth,\n            provider: oauthstate.provider,\n            token: code\n        });\n        if (response.code === StatusCode.OK) {\n            this.setState({\n                loading: false\n            });\n        } else {\n            return this.setErrorAndEnd(response.error);\n        }\n    }\n\n    public componentWillUnmount(): void {\n        RouteController.removeListener(\"refreshAll\", this.refreshListener);\n    }\n\n    private setErrorAndEnd(error: InternalError<ErrorCode>) {\n        RouteData.oautherrors = [error];\n        this.setState({\n            loading: false\n        });\n    }\n\n    private listener(location: string) {\n        const routes = RouteController.getImmediateRoutes(false);\n        for (const route of routes) {\n            if (route.category && route.navbarLoose && matchesPath(location, route.route)) {\n                this.props.selectCategory(route.category);\n                break;\n            }\n        }\n    }\n\n    public render(): ReactNode {\n        if (this.state.loading) {\n            return <Loading text=\"loading.app\" />;\n        }\n\n        return (\n            <ErrorBoundary>\n                <Reload>\n                    <div>\n                        <Switch>\n                            {this.state.routes.map(route => {\n                                if (!route.loginless && !this.props.loggedIn) return;\n\n                                return (\n                                    <Route\n                                        exact={!route.loose}\n                                        path={route.route}\n                                        key={route.name}\n                                        render={props => {\n                                            let Comp;\n\n                                            if (!route.cachedAuth) {\n                                                Comp = AccessDenied;\n                                            } else {\n                                                Comp = this.state.components.get(\n                                                    route.name\n                                                )! as ComponentClass;\n                                            }\n\n                                            return !this.context?.user && !route.loginless ? (\n                                                <Container>\n                                                    <ErrorAlert\n                                                        error={\n                                                            new InternalError(ErrorCode.APP_FAIL, {\n                                                                jsError: Error(\n                                                                    \"Router has no user in the general context\"\n                                                                )\n                                                            })\n                                                        }\n                                                    />\n                                                </Container>\n                                            ) : //Yeah I have no excuse for this, I didn't want to implement a route config option\n                                            // to allow a single route to work without server info so i added it as a check here\n                                            !this.context?.serverInfo &&\n                                              route != AppRoutes.config ? (\n                                                <Container>\n                                                    <ErrorAlert\n                                                        error={\n                                                            new InternalError(ErrorCode.APP_FAIL, {\n                                                                jsError: Error(\n                                                                    \"Router has no server info in the general context\"\n                                                                )\n                                                            })\n                                                        }\n                                                    />\n                                                </Container>\n                                            ) : route.noContainer ? (\n                                                <React.Fragment>\n                                                    <Comp {...props} />\n                                                </React.Fragment>\n                                            ) : (\n                                                <Container className=\"mt-5 mb-5\">\n                                                    <Comp {...props} />\n                                                </Container>\n                                            );\n                                        }}\n                                    />\n                                );\n                            })}\n                            <Container className=\"mt-5 mb-5\">\n                                <Route key=\"notfound\">\n                                    {this.props.loggedIn ? <NotFound /> : <Login />}\n                                </Route>\n                            </Container>\n                        </Switch>\n                    </div>\n                </Reload>\n            </ErrorBoundary>\n        );\n    }\n}\nRouter.contextType = GeneralContext;\nexport default withRouter(Router);\n","class Locales {\n    public static readonly en: string = \"en\";\n}\n\nexport default Locales;\n","import ILocalization from \"./ILocalization\";\nimport ITranslation from \"./ITranslation\";\n\nexport default class Translation implements ITranslation {\n    public constructor(public readonly locale: string, public readonly messages: ILocalization) {}\n}\n","import ITranslation from \"./ITranslation\";\nimport ITranslationFactory from \"./ITranslationFactory\";\nimport Locales from \"./Locales\";\nimport Translation from \"./Translation\";\n\nclass TranslationFactory implements ITranslationFactory {\n    private static readonly fallbackLocale: string = Locales.en;\n\n    private static getShortHandedLocale(locale: string): string {\n        return locale.split(\"-\")[0];\n    }\n\n    public async loadTranslation(locale: string): Promise<ITranslation> {\n        //fancy type annotations but its just load the json file in this variable as a map of strings to strings\n        const localization: { [key: string]: string } = (await import(\n            `./locales/${locale}.json`\n        )) as { [key: string]: string };\n\n        if (!localization) {\n            let shortHandedLocale = TranslationFactory.getShortHandedLocale(locale);\n            if (shortHandedLocale === locale) {\n                if (shortHandedLocale === TranslationFactory.fallbackLocale)\n                    throw new Error(\"Invalid locale: \" + locale);\n                shortHandedLocale = TranslationFactory.fallbackLocale;\n            }\n            return await this.loadTranslation(shortHandedLocale);\n        }\n\n        let model: ITranslation | null = null;\n        try {\n            model = new Translation(locale, localization);\n        } catch (e) {\n            throw Error(`Error loading localization for locale '${locale}': ${JSON.stringify(e)}`);\n        }\n\n        return model;\n    }\n}\n\nexport default TranslationFactory;\n","import \"./App.css\";\n\nimport * as React from \"react\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Container from \"react-bootstrap/Container\";\nimport { FormattedMessage, IntlProvider } from \"react-intl\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Pkg from \"./../package.json\";\nimport { CredentialsType } from \"./ApiClient/models/ICredentials\";\nimport InternalError, { ErrorCode } from \"./ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"./ApiClient/models/InternalComms/InternalStatus\";\nimport ServerClient from \"./ApiClient/ServerClient\";\nimport UserClient from \"./ApiClient/UserClient\";\nimport CredentialsProvider from \"./ApiClient/util/CredentialsProvider\";\nimport LoginHooks from \"./ApiClient/util/LoginHooks\";\nimport AppNavbar from \"./components/AppNavbar\";\nimport ReportIssue from \"./components/ReportIssue\";\nimport ErrorAlert from \"./components/utils/ErrorAlert\";\nimport ErrorBoundary from \"./components/utils/ErrorBoundary\";\nimport JobsList from \"./components/utils/JobsList\";\nimport Loading from \"./components/utils/Loading\";\nimport { GeneralContext, UnsafeGeneralContext } from \"./contexts/GeneralContext\";\nimport { DEFAULT_BASEPATH } from \"./definitions/constants\";\nimport Router from \"./Router\";\nimport ITranslation from \"./translations/ITranslation\";\nimport ITranslationFactory from \"./translations/ITranslationFactory\";\nimport Locales from \"./translations/Locales\";\nimport TranslationFactory from \"./translations/TranslationFactory\";\n\ninterface IState {\n    translation?: ITranslation;\n    translationError?: string;\n    loggedIn: boolean;\n    loading: boolean;\n    GeneralContextInfo: UnsafeGeneralContext;\n}\n\ninterface IProps {\n    readonly locale: string;\n    readonly translationFactory?: ITranslationFactory;\n}\n\ninterface InnerProps {\n    loading: boolean;\n    loggedIn: boolean;\n}\n\ninterface InnerState {\n    passdownCat?: { name: string; key: string };\n}\n\nclass InnerApp extends React.Component<InnerProps, InnerState> {\n    public declare context: UnsafeGeneralContext;\n\n    public constructor(props: InnerProps) {\n        super(props);\n\n        this.state = {};\n    }\n\n    public componentDidMount() {\n        document.title = \"TGS Webpanel v\" + Pkg.version;\n        // I can't be assed to remember the default admin password\n        document.addEventListener(\"keydown\", event => {\n            if (event.key === \"L\" && event.ctrlKey && event.shiftKey) {\n                // alert(\"ISolemlySwearToDeleteTheDataDirectory\");\n                ServerClient.logout();\n                void ServerClient.login({\n                    type: CredentialsType.Password,\n                    userName: \"admin\",\n                    password: \"ISolemlySwearToDeleteTheDataDirectory\"\n                });\n            }\n        });\n    }\n\n    public render(): React.ReactNode {\n        return (\n            <BrowserRouter\n                basename={\n                    window.publicPath\n                        ? new URL(window.publicPath, window.location.href).pathname\n                        : DEFAULT_BASEPATH\n                }>\n                <ErrorBoundary>\n                    <AppNavbar category={this.state.passdownCat} />\n                    {this.props.loading ? (\n                        <Container className=\"mt-5 mb-5\">\n                            <Loading text=\"loading.app\" />\n                        </Container>\n                    ) : (\n                        <>\n                            <Container className=\"mt-5\">\n                                <Alert variant=\"warning\" className=\"d-block d-lg-none\">\n                                    <Alert.Heading>\n                                        <FormattedMessage id=\"warning.screensize.header\" />\n                                    </Alert.Heading>\n                                    <hr />\n                                    <FormattedMessage id=\"warning.screensize\" />\n                                </Alert>\n                                {Array.from(this.context.errors.values()).map((value, idx) => {\n                                    return (\n                                        <ErrorAlert\n                                            error={value}\n                                            key={idx}\n                                            onClose={() => this.context.deleteError(value)}\n                                        />\n                                    );\n                                })}\n                            </Container>\n                            <Router\n                                loggedIn={this.props.loggedIn}\n                                selectCategory={cat => {\n                                    this.setState({\n                                        passdownCat: {\n                                            name: cat,\n                                            key: Math.random().toString()\n                                        }\n                                    });\n                                }}\n                            />\n                        </>\n                    )}\n                    {this.props.loggedIn ? <JobsList /> : null}\n                </ErrorBoundary>\n                <ReportIssue />\n            </BrowserRouter>\n        );\n    }\n}\nInnerApp.contextType = GeneralContext;\n\nclass App extends React.Component<IProps, IState> {\n    private readonly translationFactory: ITranslationFactory;\n\n    public constructor(props: IProps) {\n        super(props);\n\n        this.finishLogin = this.finishLogin.bind(this);\n        this.finishLogout = this.finishLogout.bind(this);\n        this.updateContextUser = this.updateContextUser.bind(this);\n        this.updateContextServer = this.updateContextServer.bind(this);\n        this.deleteGeneralContextError = this.deleteGeneralContextError.bind(this);\n\n        this.translationFactory = this.props.translationFactory ?? new TranslationFactory();\n\n        this.state = {\n            loggedIn: !!CredentialsProvider.isTokenValid(),\n            loading: true,\n            GeneralContextInfo: {\n                errors: new Set(),\n                user: null,\n                serverInfo: null,\n                deleteError: this.deleteGeneralContextError\n            }\n        };\n    }\n\n    private async updateContextUser() {\n        const response = await UserClient.getCurrentUser();\n        if (response.code === StatusCode.OK) {\n            this.setState(prev => {\n                return {\n                    GeneralContextInfo: {\n                        errors: prev.GeneralContextInfo.errors,\n                        user: response.payload,\n                        serverInfo: prev.GeneralContextInfo.serverInfo,\n                        deleteError: prev.GeneralContextInfo.deleteError\n                    }\n                };\n            });\n        } else {\n            if (response.error.code === ErrorCode.HTTP_ACCESS_DENIED) {\n                this.setState(prev => {\n                    return {\n                        GeneralContextInfo: {\n                            user: null,\n                            serverInfo: prev.GeneralContextInfo.serverInfo,\n                            deleteError: prev.GeneralContextInfo.deleteError,\n                            errors: prev.GeneralContextInfo.errors\n                        }\n                    };\n                });\n            } else {\n                setTimeout(() => void this.updateContextUser(), 5000);\n                this.setState(prev => {\n                    const newSet = new Set(prev.GeneralContextInfo.errors);\n                    newSet.add(response.error);\n                    return {\n                        GeneralContextInfo: {\n                            errors: newSet,\n                            deleteError: prev.GeneralContextInfo.deleteError,\n                            user: null,\n                            serverInfo: prev.GeneralContextInfo.serverInfo\n                        }\n                    };\n                });\n            }\n        }\n    }\n\n    private async updateContextServer() {\n        const response = await ServerClient.getServerInfo();\n        if (response.code === StatusCode.OK) {\n            this.setState(prev => {\n                return {\n                    GeneralContextInfo: {\n                        errors: prev.GeneralContextInfo.errors,\n                        user: prev.GeneralContextInfo.user,\n                        serverInfo: response.payload,\n                        deleteError: prev.GeneralContextInfo.deleteError\n                    }\n                };\n            });\n        } else {\n            setTimeout(() => void this.updateContextServer(), 5000);\n            this.setState(prev => {\n                const newSet = new Set(prev.GeneralContextInfo.errors);\n                newSet.add(response.error);\n                return {\n                    GeneralContextInfo: {\n                        errors: newSet,\n                        deleteError: prev.GeneralContextInfo.deleteError,\n                        user: prev.GeneralContextInfo.user,\n                        serverInfo: null\n                    }\n                };\n            });\n        }\n    }\n\n    public deleteGeneralContextError(error: InternalError): void {\n        this.setState(prev => {\n            const newSet = new Set(prev.GeneralContextInfo.errors);\n            newSet.delete(error);\n            return {\n                GeneralContextInfo: {\n                    deleteError: prev.GeneralContextInfo.deleteError,\n                    user: prev.GeneralContextInfo.user,\n                    serverInfo: prev.GeneralContextInfo.serverInfo,\n                    errors: newSet\n                }\n            };\n        });\n    }\n\n    private finishLogin() {\n        console.log(\"Logging in\");\n\n        void UserClient.getCurrentUser(); // preload the user, we dont particularly care about the content, just that its preloaded\n        void this.updateContextUser();\n        this.setState({\n            loggedIn: true,\n            loading: false\n        });\n    }\n\n    private finishLogout() {\n        this.setState({\n            loggedIn: false\n        });\n\n        void this.updateContextUser();\n    }\n    public async componentDidMount(): Promise<void> {\n        LoginHooks.on(\"loginSuccess\", this.finishLogin);\n        ServerClient.on(\"logout\", this.finishLogout);\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        ServerClient.on(\"purgeCache\", this.updateContextServer);\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        ServerClient.on(\"purgeCache\", this.updateContextUser);\n\n        await this.loadTranslation();\n        ServerClient.initApi();\n        await this.updateContextServer();\n\n        this.setState({\n            loading: false\n        });\n    }\n\n    public componentWillUnmount(): void {\n        LoginHooks.removeListener(\"loginSuccess\", this.finishLogin);\n        ServerClient.removeListener(\"logout\", this.finishLogout);\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        ServerClient.removeListener(\"purgeCache\", this.updateContextServer);\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        ServerClient.removeListener(\"purgeCache\", this.updateContextUser);\n    }\n\n    public render(): React.ReactNode {\n        if (this.state.translationError) {\n            return <p className=\"App-error\">{this.state.translationError}</p>;\n        }\n\n        if (!this.state.translation) {\n            return <Loading>Loading translations...</Loading>;\n        }\n        return (\n            <IntlProvider\n                locale={this.state.translation.locale}\n                messages={this.state.translation.messages}\n                defaultLocale=\"en\">\n                <GeneralContext.Provider value={this.state.GeneralContextInfo as GeneralContext}>\n                    <InnerApp loading={this.state.loading} loggedIn={this.state.loggedIn} />\n                </GeneralContext.Provider>\n            </IntlProvider>\n        );\n    }\n\n    private async loadTranslation(): Promise<void> {\n        console.time(\"LoadTranslations\");\n        try {\n            const translation = await this.translationFactory.loadTranslation(this.props.locale);\n            this.setState({\n                translation\n            });\n        } catch (error) {\n            this.setState({\n                translationError: JSON.stringify(error) ?? \"An unknown error occurred\"\n            });\n\n            return;\n        }\n\n        console.timeEnd(\"LoadTranslations\");\n    }\n}\n\nexport default App;\n\nexport const IndexApp = (\n    <React.StrictMode>\n        <App locale={Locales.en} />\n    </React.StrictMode>\n);\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faDiscord, faGithub } from \"@fortawesome/free-brands-svg-icons\";\nimport { faGitAlt } from \"@fortawesome/free-brands-svg-icons/faGitAlt\";\nimport {\n    faCaretDown,\n    faCaretRight,\n    faComment,\n    faExclamationTriangle,\n    faFile,\n    faFileAlt,\n    faFolderMinus,\n    faFolderPlus,\n    faHashtag,\n    faMinus,\n    faUnlock\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faAngleRight } from \"@fortawesome/free-solid-svg-icons/faAngleRight\";\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons/faCheck\";\nimport { faCodeBranch } from \"@fortawesome/free-solid-svg-icons/faCodeBranch\";\nimport { faCogs } from \"@fortawesome/free-solid-svg-icons/faCogs\";\nimport { faComments } from \"@fortawesome/free-solid-svg-icons/faComments\";\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons/faExclamationCircle\";\nimport { faFolderOpen } from \"@fortawesome/free-solid-svg-icons/faFolderOpen\";\nimport { faGripLinesVertical } from \"@fortawesome/free-solid-svg-icons/faGripLinesVertical\";\nimport { faHammer } from \"@fortawesome/free-solid-svg-icons/faHammer\";\nimport { faHdd } from \"@fortawesome/free-solid-svg-icons/faHdd\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons/faHome\";\nimport { faInfo } from \"@fortawesome/free-solid-svg-icons/faInfo\";\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons/faInfoCircle\";\nimport { faKey } from \"@fortawesome/free-solid-svg-icons/faKey\";\nimport { faListUl } from \"@fortawesome/free-solid-svg-icons/faListUl\";\nimport { faLock } from \"@fortawesome/free-solid-svg-icons/faLock\";\nimport { faPen } from \"@fortawesome/free-solid-svg-icons/faPen\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\";\nimport { faQuestion } from \"@fortawesome/free-solid-svg-icons/faQuestion\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons/faSearch\";\nimport { faServer } from \"@fortawesome/free-solid-svg-icons/faServer\";\nimport { faStream } from \"@fortawesome/free-solid-svg-icons/faStream\";\nimport { faSync } from \"@fortawesome/free-solid-svg-icons/faSync\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\";\nimport { faTools } from \"@fortawesome/free-solid-svg-icons/faTools\";\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons/faTrash\";\nimport { faUndo } from \"@fortawesome/free-solid-svg-icons/faUndo\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons/faUser\";\nimport { faUsers } from \"@fortawesome/free-solid-svg-icons/faUsers\";\nimport { faUserSlash } from \"@fortawesome/free-solid-svg-icons/faUserSlash\";\n\nexport default function (): void {\n    library.add(\n        faCheck,\n        faTimes,\n        faExclamationCircle,\n        faUser,\n        faUserSlash,\n        faHdd,\n        faSync,\n        faPlus,\n        faQuestion,\n        faHome,\n        faTools,\n        faCogs,\n        faUndo,\n        faInfo,\n        faGripLinesVertical,\n        faAngleRight,\n        faKey,\n        faPen,\n        faGithub,\n        faDiscord,\n        faTrash,\n        faInfoCircle,\n        faGitAlt,\n        faHammer,\n        faListUl,\n        faComments,\n        faFolderOpen,\n        faUsers,\n        faCodeBranch,\n        faSearch,\n        faServer,\n        faStream,\n        faLock,\n        faMinus,\n        faUnlock,\n        faLock,\n        faCaretRight,\n        faCaretDown,\n        faComment,\n        faHashtag,\n        faFolderPlus,\n        faFolderMinus,\n        faFile,\n        faFileAlt,\n        faExclamationTriangle\n    );\n}\n","// eslint-disable-next-line\nimport \"./publicPath\";\n\n// definition files\n// css\nimport \"./styles/dark.scss\";\n// polyfills\nimport \"@formatjs/intl-relativetimeformat/polyfill\";\nimport \"@formatjs/intl-relativetimeformat/locale-data/en\";\nimport \"@formatjs/intl-pluralrules/polyfill\";\nimport \"@formatjs/intl-pluralrules/locale-data/en\";\n\nimport ReactDOM from \"react-dom\";\n\nimport ConfigController from \"./ApiClient/util/ConfigController\";\nimport JobsController from \"./ApiClient/util/JobsController\";\nimport { IndexApp } from \"./App\";\nimport { MODE, VERSION } from \"./definitions/constants\";\nimport initIcons from \"./utils/icolibrary\";\n\n// dont lag the dom\ninitIcons();\nConfigController.loadconfig();\nJobsController.init();\n\nif (window.loadedChannelFromWebpack && MODE !== \"DEV\") {\n    alert(\n        \"Warning: channel.json was served from bundled files instead of TGS, the webpanel is running from the local version instead of the github update repo.\\nPlease report this to your server host.\\nIf you are the server host, please report this to alexkar598#2712 on discord\\n\\nWebpanel version: \" +\n            VERSION\n    );\n}\n\n// At some point, the webpanel had the ability to save passwords, this is however,\n// insecure as compromised webhosts can lead to code being served from an untrusted source,\n// leaking the saved password. Makes sure it's not there anymore\ntry {\n    window.localStorage.removeItem(\"username\");\n    window.sessionStorage.removeItem(\"username\");\n    window.localStorage.removeItem(\"password\");\n    window.sessionStorage.removeItem(\"password\");\n} catch {\n    (() => {})();\n}\n\nfunction mountApp() {\n    console.log(\"Mounting app\");\n    ReactDOM.render(IndexApp, document.getElementById(\"root\"));\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", mountApp);\nif (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n    mountApp();\n}\n","import { TypedEmitter } from \"tiny-typed-emitter/lib\";\n\nimport LoginHooks from \"../ApiClient/util/LoginHooks\";\nimport {\n    AppCategories,\n    AppRoute,\n    AppRoutes,\n    UnpopulatedAppCategories,\n    UnpopulatedAppCategory\n} from \"./routes\";\n\ninterface IEvents {\n    refresh: (routes: Array<AppRoute>) => void; //auth\n    refreshAll: (routes: Array<AppRoute>) => void; //noauth+auth\n}\n\n//helper class to process AppRoutes\nclass RouteController extends TypedEmitter<IEvents> {\n    private refreshing = false;\n\n    public constructor() {\n        super();\n        window.rtcontroller = this;\n        this.refreshRoutes = this.refreshRoutes.bind(this);\n\n        LoginHooks.addHook(this.refreshRoutes);\n        this.refreshRoutes().catch(console.error);\n\n        //process categories\n        console.time(\"Category mapping\");\n        const catmap = new Map<string, UnpopulatedAppCategory>();\n\n        for (const [name, val] of Object.entries(UnpopulatedAppCategories)) {\n            val.routes = [];\n            //null asserted the name because that one is everywhere, even if the rest is partial\n            catmap.set(val.name!, val);\n            //@ts-expect-error typescript cannot infer that the name is a key of UnpopulatedAppCategories\n            AppCategories[name] = val;\n        }\n\n        for (const route of Object.values(AppRoutes)) {\n            if (!route.category) continue;\n\n            const cat = catmap.get(route.category);\n            if (!cat) {\n                console.error(\"Route has invalid category\", route);\n                continue;\n            }\n\n            //this is guaranteed to be an array as its set in the loop above\n            cat.routes!.push(route);\n\n            if (route.catleader) {\n                if (cat.leader) {\n                    console.error(\"Category has two leaders\", cat.leader, route);\n                    continue;\n                }\n                cat.leader = route;\n            }\n        }\n        console.log(\"Categories mapped\", catmap);\n        console.timeEnd(\"Category mapping\");\n    }\n\n    public async refreshRoutes() {\n        if (this.refreshing) {\n            console.log(\"Already refreshing\");\n            return;\n        } //no need to refresh twice\n\n        this.refreshing = true;\n\n        const work = []; //    we get all hidden routes no matter the authentification without waiting for the refresh\n        const routes = this.getImmediateRoutes(false);\n\n        for (const route of routes) {\n            route.cachedAuth = undefined;\n            if (route.isAuthorized) {\n                work.push(\n                    route.isAuthorized().then(auth => {\n                        route.cachedAuth = auth;\n                    })\n                );\n            } else {\n                route.cachedAuth = true;\n            }\n        }\n\n        await Promise.all(work); //wait for all the authorized calls to complete\n\n        this.emit(\"refresh\", this.getImmediateRoutes(true));\n        const routesNoAuth = this.getImmediateRoutes(false);\n        this.emit(\"refreshAll\", routesNoAuth);\n        this.refreshing = false;\n\n        console.log(\"Routes refreshed\", routesNoAuth);\n        return await this.getRoutes();\n    }\n\n    private wait4refresh() {\n        return new Promise<void>(resolve => {\n            if (!this.refreshing) {\n                resolve();\n                return;\n            }\n            this.on(\"refresh\", () => {\n                resolve();\n            });\n        });\n    }\n\n    public async getRoutes(auth = true): Promise<AppRoute[]> {\n        await this.wait4refresh();\n\n        return this.getImmediateRoutes(auth);\n    }\n\n    public getImmediateRoutes(auth = true) {\n        const results: Array<AppRoute> = [];\n\n        for (const val of Object.values(AppRoutes)) {\n            //we check for isauthorized here without calling because routes that lack the function are public\n            if (val.isAuthorized && !val.cachedAuth && auth) continue; //if not authorized and we only show authorized routes\n\n            results.push(val);\n        }\n\n        return results;\n    }\n}\n\nexport default new RouteController();\n","import { pathToRegexp } from \"path-to-regexp\";\n\nimport {\n    AdministrationRights,\n    ByondRights,\n    ChatBotRights,\n    ConfigurationRights,\n    DreamDaemonRights,\n    DreamMakerRights,\n    InstanceManagerRights,\n    InstancePermissionSetResponse,\n    InstancePermissionSetRights,\n    PermissionSet,\n    RepositoryRights,\n    UserResponse\n} from \"../ApiClient/generatedcode/generated\";\n\nexport type DistributiveOmit<T, K extends keyof T> = T extends T ? Omit<T, K> : never;\n\nfunction download(filename: string, text: string): void {\n    const element = document.createElement(\"a\");\n    element.setAttribute(\"href\", \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text));\n    element.setAttribute(\"download\", filename);\n\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n}\n\nfunction replaceAll(str: string, find: string, replace: string, ignore?: boolean): string {\n    return str.replace(\n        new RegExp(find.replace(/([/,!\\\\^${}[\\]().*+?|<>\\-&])/g, \"\\\\$&\"), ignore ? \"gi\" : \"g\"),\n        replace.replace(/\\$/g, \"$$$$\")\n    );\n}\n\nfunction matchesPath(path: string, target: string, exact = false): boolean {\n    //remove trailing slashes\n    if (path.slice(-1) === \"/\") path = path.slice(0, -1);\n    if (target.slice(-1) === \"/\") target = target.slice(0, -1);\n\n    return pathToRegexp(target, undefined, { end: exact }).test(path);\n}\n\nfunction resolvePermissionSet(user: UserResponse): PermissionSet {\n    return (user.permissionSet ?? user.group?.permissionSet) as PermissionSet;\n}\n\nfunction bitflagIsTrue(bitfield: number, bitflag: number): boolean {\n    return !!(bitflag & bitfield);\n}\n\nfunction hasAdminRight(permissionSet: PermissionSet, right: AdministrationRights): boolean {\n    return bitflagIsTrue(permissionSet.administrationRights, right);\n}\n\nfunction hasInstanceManagerRight(\n    permissionSet: PermissionSet,\n    right: InstanceManagerRights\n): boolean {\n    return bitflagIsTrue(permissionSet.instanceManagerRights, right);\n}\n\nfunction hasByondRight(permissionSet: InstancePermissionSetResponse, right: ByondRights): boolean {\n    return bitflagIsTrue(permissionSet.byondRights, right);\n}\n\nfunction hasChatBotRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: ChatBotRights\n): boolean {\n    return bitflagIsTrue(permissionSet.chatBotRights, right);\n}\n\nfunction hasConfigRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: ConfigurationRights\n): boolean {\n    return bitflagIsTrue(permissionSet.configurationRights, right);\n}\n\nfunction hasDreamDaemonRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: DreamDaemonRights\n): boolean {\n    return bitflagIsTrue(permissionSet.dreamDaemonRights, right);\n}\n\nfunction hasDreamMakerRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: DreamMakerRights\n): boolean {\n    return bitflagIsTrue(permissionSet.dreamMakerRights, right);\n}\n\nfunction hasInstancePermRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: InstancePermissionSetRights\n): boolean {\n    return bitflagIsTrue(permissionSet.instancePermissionSetRights, right);\n}\n\nfunction hasRepoRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: RepositoryRights\n): boolean {\n    return bitflagIsTrue(permissionSet.repositoryRights, right);\n}\n\nfunction hasFilesRight(\n    permissionSet: InstancePermissionSetResponse,\n    right: ConfigurationRights\n): boolean {\n    return bitflagIsTrue(permissionSet.configurationRights, right);\n}\n\nexport {\n    download,\n    replaceAll,\n    matchesPath,\n    resolvePermissionSet,\n    bitflagIsTrue,\n    hasAdminRight,\n    hasByondRight,\n    hasConfigRight,\n    hasRepoRight,\n    hasChatBotRight,\n    hasInstancePermRight,\n    hasInstanceManagerRight,\n    hasDreamMakerRight,\n    hasDreamDaemonRight,\n    hasFilesRight\n};\n","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\n\nimport { AdministrationRights, InstanceManagerRights } from \"../ApiClient/generatedcode/generated\";\nimport InternalError, { ErrorCode } from \"../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../ApiClient/models/InternalComms/InternalStatus\";\nimport UserClient from \"../ApiClient/UserClient\";\nimport CredentialsProvider from \"../ApiClient/util/CredentialsProvider\";\nimport { resolvePermissionSet } from \"./misc\";\n\nexport interface AppRoute {\n    ///Base parameters\n    //must be unique, also is the id of the route name message\n    name: string;\n    //must be unique, url to access\n    route: string;\n    //link to link to when linking to the route, defaults to the \"route\"\n    link?: string;\n    //filename in components/view that the route should display\n    file: string;\n\n    ///Path parameters\n    //If subpaths should route here\n    loose: boolean;\n    //If subpaths should light up the navbar button\n    navbarLoose: boolean;\n\n    ///Authentication\n    //if we can route to it even on the login page\n    loginless?: boolean;\n    //function to tell if we are authorized\n    isAuthorized?: () => Promise<boolean>;\n    //result of isAuthorized() after RouteController runs it, can be used by components but only set by RouteController\n    cachedAuth?: boolean;\n\n    ///Visibility\n    //if this shows up on the navbar\n    visibleNavbar: boolean;\n    //serves two purposes, first one is to give it an icon, the second one is to not display it if the icon is undefined\n    homeIcon?: IconProp;\n\n    ///Categories\n    //name of the category it belongs to\n    category?: string;\n    //if this is the main button in the category\n    catleader?: boolean;\n\n    ///Misc\n    //Should we not wrap this component in a <Container>?\n    noContainer?: boolean;\n}\n\nfunction adminRight(right: AdministrationRights) {\n    return async (): Promise<boolean> => {\n        if (!CredentialsProvider.isTokenValid()) return false;\n        const response = await UserClient.getCurrentUser();\n\n        if (response.code == StatusCode.OK) {\n            return !!(resolvePermissionSet(response.payload).administrationRights & right);\n        }\n        return false;\n    };\n}\n\nfunction instanceManagerRight(right: InstanceManagerRights) {\n    return async (): Promise<boolean> => {\n        if (!CredentialsProvider.isTokenValid()) return false;\n        const response = await UserClient.getCurrentUser();\n\n        if (response.code == StatusCode.OK) {\n            return !!(resolvePermissionSet(response.payload).instanceManagerRights & right);\n        }\n        return false;\n    };\n}\n\n//https://stackoverflow.com/questions/54598322/how-to-make-typescript-infer-the-keys-of-an-object-but-define-type-of-its-value\n//Infer the keys but restrict the values to a type\nconst asElementTypesAppRoute = <T>(et: { [K in keyof T]: AppRoute }) => et;\n\nconst AppRoutes = asElementTypesAppRoute({\n    home: {\n        name: \"routes.home\",\n        route: \"/\",\n        file: \"Home\",\n\n        loose: false,\n        navbarLoose: false,\n\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"home\",\n        catleader: true\n    },\n    instancecreate: {\n        name: \"routes.instancecreate\",\n        route: \"/instances/create\",\n        file: \"Instance/Create\",\n\n        loose: false,\n        navbarLoose: false,\n\n        isAuthorized: instanceManagerRight(InstanceManagerRights.Create),\n\n        visibleNavbar: false,\n\n        category: \"instance\",\n        catleader: false\n    },\n    instancelist: {\n        name: \"routes.instancelist\",\n        route: \"/instances/\",\n        file: \"Instance/List\",\n\n        loose: false,\n        navbarLoose: true,\n\n        isAuthorized: instanceManagerRight(InstanceManagerRights.List | InstanceManagerRights.Read),\n\n        visibleNavbar: true,\n        homeIcon: \"hdd\",\n\n        category: \"instance\",\n        catleader: true\n    },\n    instanceedit: {\n        name: \"routes.instanceedit\",\n        route: \"/instances/edit/:id(\\\\d+)/:tab?/\",\n        file: \"Instance/InstanceEdit\",\n\n        get link(): string {\n            return RouteData.selectedinstanceid !== undefined\n                ? `/instances/edit/${RouteData.selectedinstanceid}/${\n                      RouteData.selectedinstanceedittab !== undefined\n                          ? `${RouteData.selectedinstanceedittab}/`\n                          : \"\"\n                  }`\n                : AppRoutes.instancelist.link ?? AppRoutes.instancelist.route;\n        },\n\n        loose: false,\n        navbarLoose: true,\n\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"instance\"\n    },\n    instancejobs: {\n        name: \"routes.instancejobs\",\n        route: \"/instances/jobs/\",\n        file: \"Instance/Jobs\",\n\n        loose: false,\n        navbarLoose: true,\n\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"instance\"\n    },\n    userlist: {\n        name: \"routes.usermanager\",\n        route: \"/users/\",\n        file: \"User/List\",\n\n        loose: false,\n        navbarLoose: true,\n\n        visibleNavbar: true,\n        homeIcon: \"user\",\n\n        category: \"user\",\n        catleader: true\n    },\n    useredit: {\n        name: \"routes.useredit\",\n        route: \"/users/edit/user/:id(\\\\d+)/:tab?/\",\n\n        //whole lot of bullshit just to make it that if you have an id, link to the edit page, otherwise link to the list page, and if you link to the user page, put the tab in\n        get link(): string {\n            return RouteData.selecteduserid !== undefined\n                ? `/users/edit/user/${RouteData.selecteduserid}/${\n                      RouteData.selectedusertab !== undefined ? `${RouteData.selectedusertab}/` : \"\"\n                  }`\n                : AppRoutes.userlist.link ?? AppRoutes.userlist.route;\n        },\n        file: \"User/Edit\",\n\n        loose: true,\n        navbarLoose: true,\n\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"user\"\n    },\n    usercreate: {\n        name: \"routes.usercreate\",\n        route: \"/users/create/\",\n\n        link: \"/users/create/\",\n        file: \"User/Create\",\n\n        loose: true,\n        navbarLoose: true,\n\n        isAuthorized: adminRight(AdministrationRights.WriteUsers),\n\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"user\"\n    },\n    admin: {\n        name: \"routes.admin\",\n        route: \"/admin/\",\n        file: \"Administration\",\n\n        loose: false,\n        navbarLoose: true,\n\n        isAuthorized: adminRight(AdministrationRights.ChangeVersion),\n\n        visibleNavbar: true,\n        homeIcon: \"tools\",\n\n        category: \"admin\",\n        catleader: true\n    },\n    admin_update: {\n        name: \"routes.admin.update\",\n        route: \"/admin/update/:all?/\",\n        file: \"Admin/Update\",\n\n        link: \"/admin/update/\",\n\n        loose: true,\n        navbarLoose: true,\n\n        isAuthorized: adminRight(AdministrationRights.ChangeVersion),\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"admin\"\n    },\n    admin_logs: {\n        name: \"routes.admin.logs\",\n        route: \"/admin/logs/:name?/\",\n        link: \"/admin/logs/\",\n        file: \"Admin/Logs\",\n\n        loose: false,\n        navbarLoose: true,\n\n        isAuthorized: adminRight(AdministrationRights.DownloadLogs),\n        visibleNavbar: true,\n        homeIcon: undefined,\n\n        category: \"admin\",\n\n        noContainer: true\n    },\n    passwd: {\n        name: \"routes.passwd\",\n        route: \"/users/passwd/:id(\\\\d+)?/\",\n        link: \"/users/passwd/\",\n        file: \"ChangePassword\",\n\n        loose: true,\n        navbarLoose: true,\n\n        isAuthorized: adminRight(AdministrationRights.EditOwnPassword),\n\n        visibleNavbar: false,\n        homeIcon: \"key\"\n    },\n    config: {\n        name: \"routes.config\",\n        route: \"/config/\",\n        file: \"Configuration\",\n\n        loose: true,\n        navbarLoose: true,\n\n        loginless: true,\n\n        visibleNavbar: false,\n        homeIcon: \"cogs\"\n    },\n    setup: {\n        name: \"routes.setup\",\n        route: \"/setup/\",\n        file: \"Setup\",\n\n        loose: true,\n        navbarLoose: true,\n\n        loginless: true,\n\n        visibleNavbar: false\n    },\n    oAuth: {\n        name: \"routes.oauth\",\n        route: \"/oauth/:provider?/\",\n        file: \"Login\",\n\n        loose: true,\n        navbarLoose: false,\n\n        loginless: true,\n\n        visibleNavbar: false\n    },\n    info: {\n        name: \"routes.info\",\n        route: \"/info\",\n        file: \"Info\",\n\n        loose: false,\n        navbarLoose: false,\n\n        loginless: true,\n\n        visibleNavbar: true,\n        homeIcon: \"info-circle\",\n\n        category: undefined,\n        catleader: false\n    }\n});\n\nexport { AppRoutes };\n\n//https://stackoverflow.com/questions/54598322/how-to-make-typescript-infer-the-keys-of-an-object-but-define-type-of-its-value\n//Infer the keys but restrict the values to a type\nconst asElementTypesCategory = <T>(et: { [K in keyof T]: UnpopulatedAppCategory }) => et;\n\nexport type UnpopulatedAppCategory = Partial<AppCategory>;\n\nexport interface AppCategory {\n    name: string; //doesnt really matter, kinda bullshit\n    routes: AppRoute[];\n    leader: AppRoute;\n}\n\nexport const UnpopulatedAppCategories = asElementTypesCategory({\n    home: {\n        name: \"home\"\n    },\n    instance: {\n        name: \"instance\"\n    },\n    user: {\n        name: \"user\"\n    },\n    admin: {\n        name: \"admin\"\n    }\n});\n\n// @ts-expect-error This is populated in the constructor after its populated\nexport const AppCategories: { [K in keyof typeof UnpopulatedAppCategories]: AppCategory } = {};\n\nexport const RouteData = {\n    selecteduserid: undefined as undefined | number,\n    selectedusertab: undefined as undefined | string,\n\n    selectedinstanceid: undefined as undefined | number,\n    selectedinstanceedittab: undefined as undefined | string,\n\n    instancelistpage: undefined as undefined | number,\n    loglistpage: undefined as undefined | number,\n    byondlistpage: undefined as undefined | number,\n    userlistpage: undefined as undefined | number,\n    jobhistorypage: new Map<number, number>(),\n\n    oautherrors: [] as InternalError<ErrorCode>[]\n};\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../node_modules/css-loader/dist/runtime/getUrl.js\";\nimport ___CSS_LOADER_URL_IMPORT_0___ from \"./logo.svg\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".App {\\n    background-size: 50%;\\n    background: #1e1e1e url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat center;\\n    position: absolute;\\n    width: 100%;\\n    top: 0;\\n    bottom: 0;\\n    display: grid;\\n}\\n\\n.App-error {\\n    color: red;\\n    font-size: 150%;\\n    margin: auto;\\n}\\n\\n.App-main {\\n    display: grid;\\n}\\n\\n.Root {\\n    overflow: hidden;\\n    display: grid;\\n    grid-template-rows: 9% auto;\\n}\\n\\n.Root-login {\\n    display: grid;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,oBAAoB;IACpB,4EAAkD;IAClD,kBAAkB;IAClB,WAAW;IACX,MAAM;IACN,SAAS;IACT,aAAa;AACjB;;AAEA;IACI,UAAU;IACV,eAAe;IACf,YAAY;AAChB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,gBAAgB;IAChB,aAAa;IACb,2BAA2B;AAC/B;;AAEA;IACI,aAAa;AACjB\",\"sourcesContent\":[\".App {\\n    background-size: 50%;\\n    background: #1e1e1e url(logo.svg) no-repeat center;\\n    position: absolute;\\n    width: 100%;\\n    top: 0;\\n    bottom: 0;\\n    display: grid;\\n}\\n\\n.App-error {\\n    color: red;\\n    font-size: 150%;\\n    margin: auto;\\n}\\n\\n.App-main {\\n    display: grid;\\n}\\n\\n.Root {\\n    overflow: hidden;\\n    display: grid;\\n    grid-template-rows: 9% auto;\\n}\\n\\n.Root-login {\\n    display: grid;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./Admin/Logs\": [\n\t\t3408,\n\t\t171,\n\t\t408\n\t],\n\t\"./Admin/Logs.tsx\": [\n\t\t3408,\n\t\t171,\n\t\t408\n\t],\n\t\"./Admin/Update\": [\n\t\t207,\n\t\t171,\n\t\t578,\n\t\t724,\n\t\t207\n\t],\n\t\"./Admin/Update.tsx\": [\n\t\t207,\n\t\t171,\n\t\t578,\n\t\t724,\n\t\t207\n\t],\n\t\"./Administration\": [\n\t\t9363,\n\t\t171,\n\t\t363\n\t],\n\t\"./Administration.tsx\": [\n\t\t9363,\n\t\t171,\n\t\t363\n\t],\n\t\"./ChangePassword\": [\n\t\t1304,\n\t\t799\n\t],\n\t\"./ChangePassword.tsx\": [\n\t\t1304,\n\t\t799\n\t],\n\t\"./Configuration\": [\n\t\t7671,\n\t\t671\n\t],\n\t\"./Configuration.tsx\": [\n\t\t7671,\n\t\t671\n\t],\n\t\"./Home\": [\n\t\t9638,\n\t\t638\n\t],\n\t\"./Home.tsx\": [\n\t\t9638,\n\t\t638\n\t],\n\t\"./Info\": [\n\t\t1051,\n\t\t171,\n\t\t51\n\t],\n\t\"./Info.tsx\": [\n\t\t1051,\n\t\t171,\n\t\t51\n\t],\n\t\"./Instance/Create\": [\n\t\t4542,\n\t\t56\n\t],\n\t\"./Instance/Create.tsx\": [\n\t\t4542,\n\t\t56\n\t],\n\t\"./Instance/Edit/Byond\": [\n\t\t161,\n\t\t222,\n\t\t171,\n\t\t161\n\t],\n\t\"./Instance/Edit/Byond.tsx\": [\n\t\t161,\n\t\t222,\n\t\t171,\n\t\t161\n\t],\n\t\"./Instance/Edit/ChatBots\": [\n\t\t740,\n\t\t767,\n\t\t171,\n\t\t740,\n\t\t318\n\t],\n\t\"./Instance/Edit/ChatBots.tsx\": [\n\t\t740,\n\t\t767,\n\t\t171,\n\t\t740,\n\t\t318\n\t],\n\t\"./Instance/Edit/Config\": [\n\t\t2685,\n\t\t171,\n\t\t685\n\t],\n\t\"./Instance/Edit/Config.tsx\": [\n\t\t2685,\n\t\t171,\n\t\t685\n\t],\n\t\"./Instance/Edit/Deployment\": [\n\t\t4298,\n\t\t856,\n\t\t171,\n\t\t728,\n\t\t157\n\t],\n\t\"./Instance/Edit/Deployment.tsx\": [\n\t\t4298,\n\t\t856,\n\t\t171,\n\t\t728,\n\t\t157\n\t],\n\t\"./Instance/Edit/Files\": [\n\t\t926,\n\t\t637,\n\t\t171,\n\t\t926,\n\t\t939\n\t],\n\t\"./Instance/Edit/Files.tsx\": [\n\t\t926,\n\t\t637,\n\t\t171,\n\t\t926,\n\t\t939\n\t],\n\t\"./Instance/Edit/InstancePermissions\": [\n\t\t7345,\n\t\t803,\n\t\t171,\n\t\t345,\n\t\t652\n\t],\n\t\"./Instance/Edit/InstancePermissions.tsx\": [\n\t\t7345,\n\t\t803,\n\t\t171,\n\t\t345,\n\t\t652\n\t],\n\t\"./Instance/Edit/JobHistory\": [\n\t\t5921,\n\t\t171,\n\t\t921\n\t],\n\t\"./Instance/Edit/JobHistory.tsx\": [\n\t\t5921,\n\t\t171,\n\t\t921\n\t],\n\t\"./Instance/Edit/Repository\": [\n\t\t8264,\n\t\t856,\n\t\t611,\n\t\t171,\n\t\t578,\n\t\t86,\n\t\t264,\n\t\t917\n\t],\n\t\"./Instance/Edit/Repository.tsx\": [\n\t\t8264,\n\t\t856,\n\t\t611,\n\t\t171,\n\t\t578,\n\t\t86,\n\t\t264,\n\t\t917\n\t],\n\t\"./Instance/Edit/Server\": [\n\t\t6046,\n\t\t756,\n\t\t171,\n\t\t728,\n\t\t630\n\t],\n\t\"./Instance/Edit/Server.tsx\": [\n\t\t6046,\n\t\t756,\n\t\t171,\n\t\t728,\n\t\t630\n\t],\n\t\"./Instance/InstanceEdit\": [\n\t\t9182,\n\t\t856,\n\t\t803,\n\t\t637,\n\t\t756,\n\t\t767,\n\t\t611,\n\t\t222,\n\t\t171,\n\t\t578,\n\t\t86,\n\t\t728,\n\t\t264,\n\t\t345,\n\t\t740,\n\t\t926,\n\t\t182\n\t],\n\t\"./Instance/InstanceEdit.tsx\": [\n\t\t9182,\n\t\t856,\n\t\t803,\n\t\t637,\n\t\t756,\n\t\t767,\n\t\t611,\n\t\t222,\n\t\t171,\n\t\t578,\n\t\t86,\n\t\t728,\n\t\t264,\n\t\t345,\n\t\t740,\n\t\t926,\n\t\t182\n\t],\n\t\"./Instance/Jobs\": [\n\t\t1818,\n\t\t818\n\t],\n\t\"./Instance/Jobs.tsx\": [\n\t\t1818,\n\t\t818\n\t],\n\t\"./Instance/List\": [\n\t\t670,\n\t\t171,\n\t\t670\n\t],\n\t\"./Instance/List.tsx\": [\n\t\t670,\n\t\t171,\n\t\t670\n\t],\n\t\"./Login\": [\n\t\t6709\n\t],\n\t\"./Login.tsx\": [\n\t\t6709\n\t],\n\t\"./Setup\": [\n\t\t2757,\n\t\t757\n\t],\n\t\"./Setup.tsx\": [\n\t\t2757,\n\t\t757\n\t],\n\t\"./User/Create\": [\n\t\t4898,\n\t\t898\n\t],\n\t\"./User/Create.tsx\": [\n\t\t4898,\n\t\t898\n\t],\n\t\"./User/Edit\": [\n\t\t1404,\n\t\t803,\n\t\t171,\n\t\t404\n\t],\n\t\"./User/Edit.tsx\": [\n\t\t1404,\n\t\t803,\n\t\t171,\n\t\t404\n\t],\n\t\"./User/List\": [\n\t\t8746,\n\t\t171,\n\t\t746\n\t],\n\t\"./User/List.tsx\": [\n\t\t8746,\n\t\t171,\n\t\t746\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 6235;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./en.json\": [\n\t\t2422,\n\t\t422\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 862;\nmodule.exports = webpackAsyncContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"51\":\"fb9ce4c3e34136411e6a\",\"56\":\"1e1be832fc45b3530720\",\"86\":\"94668c21b6b6ea97a358\",\"157\":\"a132334a7a035486f21f\",\"161\":\"88ad52cbbeeef12681a2\",\"171\":\"2e921a8f883d2abe0e21\",\"182\":\"8f731c00cbe89bf1f205\",\"207\":\"bff85b2b6c09dc8615e1\",\"222\":\"95027b4bd2075f097c6e\",\"264\":\"2a11ee94f73b06ea81bf\",\"318\":\"654cb630d6c5bd3a675a\",\"345\":\"ec93e728b18ecaafa8f4\",\"363\":\"0f6490026be4e639b6c4\",\"370\":\"49bdeccd82c99851d5e4\",\"404\":\"be4152a83f2ecbe4befe\",\"408\":\"9d3b9814d5d6e1db5d4d\",\"422\":\"7d3088165c77d8ab7a99\",\"578\":\"3dada0e10e1f007570ce\",\"611\":\"642e48fe6b765268bbed\",\"630\":\"fa87d0b7363b18e73639\",\"637\":\"6647a8a037a38d60794e\",\"638\":\"dc5029c071ca3f081732\",\"652\":\"36324ca6fee4d29d490b\",\"670\":\"20c1fb9083ad0c6138a4\",\"671\":\"c3ca87ee7b6043fb2fca\",\"685\":\"8419ec492ab4eabc6f37\",\"724\":\"7cf879e100ac23d2c0a9\",\"728\":\"568b214f60ddb2811f69\",\"740\":\"54b09c3ab46b6e0dcd74\",\"746\":\"b9828657dbc8ea840bb3\",\"756\":\"e3ebe4cb4842fd42b46f\",\"757\":\"fa4dfdc850f575983810\",\"767\":\"0459fbb2cb0631b13b93\",\"799\":\"ff6ff360d6f17d723d20\",\"803\":\"e419f3f948ad315e3247\",\"818\":\"07f5e426cf8be6d83edd\",\"856\":\"30a74e1aee1b02fff643\",\"898\":\"ef2aa6621032727249bc\",\"917\":\"f2ec5ec8e4e550694466\",\"921\":\"9fdd5f107b9a0ef29a01\",\"926\":\"a334522ee7f2b0b12f69\",\"939\":\"a2c9a31b7d9a5c8e1bc2\"}[chunkId] + \".bundle.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"https://tgstation.github.io/tgstation-server-webpanel/webpanel/4.4.2/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktgstation_server_control_panel\"] = self[\"webpackChunktgstation_server_control_panel\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [607,805,340], function() { return __webpack_require__(1931); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","AccessDenied","React","render","title","variant","className","onClick","this","props","history","goBack","id","withRouter","ErrorAlert","Component","constructor","super","state","popup","error","handleClose","setState","dismissible","onClose","code","centered","show","onHide","size","closeButton","desc","type","DescType","VERSION","MODE","API_VERSION","extendedInfo","replace","addError","setErrors","prevState","errors","Array","from","push","displayErrors","map","err","index","key","prev","newarr","undefined","GenericAlert","body","children","JobError","open","setOpen","useState","Button","values","info","job","errorCode","TGSErrorCode","Modal","description","exceptionDetails","JobCard","createddate","Date","startedAt","createddiff","getTime","now","stoppeddiff","stoppedAt","cancelled","Toast","style","maxWidth","width","ToastHeader","ToastBody","stage","OverlayTrigger","overlay","Tooltip","toLocaleString","ref","triggerHandler","value","numeric","updateIntervalInSeconds","startedBy","name","cancelledBy","height","ProgressBar","animated","label","progress","toString","striped","canCancel","padding","onCancel","icon","JobsList","widgetRef","handleUpdate","bind","jobs","JobsController","ownerrors","loading","instances","Map","current","scrollTop","componentDidMount","componentWillUnmount","widget","nested","display","totalJobs","configOptions","jobsWidgetOptions","length","position","top","bottom","right","left","pointerEvents","default","x","document","documentElement","clientWidth","Math","min","y","clientHeight","minHeight","minWidth","bounds","text","sort","a","b","instanceid","jobMap","xFinishedEnabled","forEach","instanceHeaderStyle","marginTop","marginLeft","renderTooltip","get","amount","placement","faTimes","defaultProps","Loading","animation","center","widthUnit","otherprops","styles","appear","classNames","addEndListener","node","done","addEventListener","Login","submit","console","log","RouteData","busy","validated","username","password","ServerClient","CredentialsType","userName","StatusCode","redirectSetup","CredentialsProvider","context","serverInfo","providers","OAuthProvider","faGithub","faDiscord","src","TGLogo","alt","KeycloakLogo","faInvision","providersTheme","GitHub","Discord","TGForums","Keycloak","InvisionCommunity","lg","md","onSubmit","controlId","placeholder","onChange","event","target","required","block","oAuthProviderInfos","Object","keys","provider","ptheme","background","startOAuth","InternalError","ErrorCode","jsError","Error","stateArray","Uint8Array","window","crypto","getRandomValues","dec","padStart","join","url","e","encodeURIComponent","clientId","redirectUri","serverUrl","oauthdata","JSON","parse","sessionStorage","getItem","location","pathname","setItem","stringify","href","Promise","resolve","preventDefault","response","postLoginAction","contextType","GeneralContext","_API_VERSION","_VERSION","_MODE","_DEFAULT_BASEPATH","DEFAULT_BASEPATH","_DEFAULT_APIPATH","DEFAULT_APIPATH","publicPath","__webpack_public_path__","options","AppNavbar","logoutClick","loginSuccess","logout","refresh","loggedIn","routes","categories","AppCategories","updateAvailable","checkShowServerUpdateIcon","userResponse","UserClient","user","payload","permissionSet","resolvePermissionSet","hasAdminRight","AdministrationRights","AdminClient","latestVersion","SemVer","currentVersion","version","compare","LoginHooks","RouteController","Navbar","expand","collapseOnSelect","bg","AppRoutes","reload","renderVersion","Nav","cat","leader","cachedAuth","link","route","active","matchesPath","navbarLoose","NavDropdown","filter","val","catleader","visibleNavbar","faExclamationCircle","renderUser","Dropdown","alignRight","ReportIssue","faExclamationTriangle","ErrorBoundary","componentDidUpdate","prevProps","errorInfo","componentDidCatch","Container","Card","border","message","as","componentStack","Reload","clear","match","path","LoadSpin","page","NotFound","loadable","fallback","Router","refreshListener","components","set","file","URLSearchParams","search","listen","listener","URLSearch","oauthstate","setErrorAndEnd","token","category","selectCategory","loginless","exact","loose","Comp","noContainer","Locales","en","Translation","locale","messages","TranslationFactory","split","localization","shortHandedLocale","getShortHandedLocale","fallbackLocale","loadTranslation","model","InnerApp","Pkg","ctrlKey","shiftKey","basename","URL","passdownCat","Alert","idx","deleteError","random","App","translationFactory","finishLogin","finishLogout","updateContextUser","updateContextServer","deleteGeneralContextError","GeneralContextInfo","Set","setTimeout","newSet","add","delete","translationError","translation","defaultLocale","time","timeEnd","IndexApp","library","faCheck","faUser","faUserSlash","faHdd","faSync","faPlus","faQuestion","faHome","faTools","faCogs","faUndo","faInfo","faGripLinesVertical","faAngleRight","faKey","faPen","faTrash","faInfoCircle","faGitAlt","faHammer","faListUl","faComments","faFolderOpen","faUsers","faCodeBranch","faSearch","faServer","faStream","faLock","faMinus","faUnlock","faCaretRight","faCaretDown","faComment","faHashtag","faFolderPlus","faFolderMinus","faFile","faFileAlt","ConfigController","loadedChannelFromWebpack","alert","localStorage","removeItem","mountApp","ReactDOM","getElementById","readyState","TypedEmitter","refreshing","rtcontroller","refreshRoutes","catch","catmap","entries","UnpopulatedAppCategories","work","getImmediateRoutes","isAuthorized","then","auth","all","emit","routesNoAuth","getRoutes","wait4refresh","on","results","download","filename","element","createElement","setAttribute","appendChild","click","removeChild","replaceAll","str","find","ignore","RegExp","slice","pathToRegexp","end","test","group","bitflagIsTrue","bitfield","bitflag","administrationRights","hasInstanceManagerRight","instanceManagerRights","hasByondRight","byondRights","hasChatBotRight","chatBotRights","hasDreamDaemonRight","dreamDaemonRights","hasDreamMakerRight","dreamMakerRights","hasInstancePermRight","instancePermissionSetRights","hasRepoRight","repositoryRights","hasFilesRight","configurationRights","adminRight","async","instanceManagerRight","home","homeIcon","instancecreate","InstanceManagerRights","instancelist","instanceedit","selectedinstanceid","selectedinstanceedittab","instancejobs","userlist","useredit","selecteduserid","selectedusertab","usercreate","admin","admin_update","admin_logs","passwd","config","setup","oAuth","instance","instancelistpage","loglistpage","byondlistpage","userlistpage","jobhistorypage","oautherrors","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","module","webpackAsyncContext","req","__webpack_require__","o","ids","exports","t","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","getPrototypeOf","obj","__proto__","mode","ns","create","def","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","f","chunkId","reduce","promises","u","g","globalThis","Function","prop","prototype","hasOwnProperty","l","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","head","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}