"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[222],{6222:function(e,r,t){var n=t(5861),a=t(1721),o=t(7757),s=t.n(o),u=t(653),c=t(6846),i=t(3803),p=t(5631),l=t(7626),d=t(7961);r.Z=new(function(e){function r(){return e.apply(this,arguments)||this}(0,a.Z)(r,e);var t=r.prototype;return t.getActiveVersion=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.wait4Init();case 2:return e.prev=2,e.next=5,p.Z.apiClient.byond.byondControllerRead({headers:{Instance:r.toString()}});case 5:t=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",new i.Z({code:i.G.ERROR,error:e.t0}));case 11:e.t1=t.status,e.next=200===e.t1?14:15;break;case 14:return e.abrupt("return",new i.Z({code:i.G.OK,payload:t.data}));case 15:return e.abrupt("return",new i.Z({code:i.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:t},t)}));case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r){return e.apply(this,arguments)}}(),t.listAllVersions=function(){var e=(0,n.Z)(s().mark((function e(r,t){var n,a,o,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=void 0===n?1:n,o=t.pageSize,u=void 0===o?d.ZP.itemsperpage.value:o,e.next=3,p.Z.wait4Init();case 3:return e.prev=3,e.next=6,p.Z.apiClient.byond.byondControllerList({page:a,pageSize:u},{headers:{Instance:r.toString()}});case 6:l=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",new i.Z({code:i.G.ERROR,error:e.t0}));case 12:e.t1=l.status,e.next=200===e.t1?15:16;break;case 15:return e.abrupt("return",new i.Z({code:i.G.OK,payload:l.data}));case 16:return e.abrupt("return",new i.Z({code:i.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:l},l)}));case 17:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(r,t){return e.apply(this,arguments)}}(),t.switchActive=function(){var e=(0,n.Z)(s().mark((function e(r,t,n){var a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.wait4Init();case 2:return e.prev=2,e.next=5,p.Z.apiClient.byond.byondControllerUpdate({version:t,uploadCustomZip:!!n},{headers:{Instance:r.toString()}});case 5:a=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",new i.Z({code:i.G.ERROR,error:e.t0}));case 11:e.t1=a.status,e.next=200===e.t1||202===e.t1?14:29;break;case 14:if(!(o=a.data).fileTicket){e.next=28;break}if(!n){e.next=27;break}return e.next=19,l.Z.Upload(o.fileTicket,n);case 19:if((u=e.sent).code!==i.G.OK){e.next=24;break}return e.abrupt("return",new i.Z({code:i.G.OK,payload:o}));case 24:return e.abrupt("return",new i.Z({code:i.G.ERROR,error:u.error}));case 25:e.next=28;break;case 27:return e.abrupt("return",new i.Z({code:i.G.ERROR,error:new c.ZP(c.jK.APP_FAIL,{jsError:Error("switchActive is uploading a custom zip without actually having a zip file to upload")})}));case 28:return e.abrupt("return",new i.Z({code:i.G.OK,payload:o}));case 29:return e.abrupt("return",new i.Z({code:i.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:a},a)}));case 30:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t,n){return e.apply(this,arguments)}}(),r}(u.S))}}]);
//# sourceMappingURL=222.5a1b8b5ad7508ba01498.bundle.js.map