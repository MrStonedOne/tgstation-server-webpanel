"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[685,664],{9049:function(e,t,n){n.d(t,{fS:function(){return a},Pg:function(){return Z},ZP:function(){return C}});var r,a,i=n(7462),l=n(3366),u=n(7814),o=n(7294),c=n(5005),s=n(2258),d=n(2318),f=n(5293),m=n(3489),v=n(4012),p=["ref"];!function(e){e.Boolean="boolean",e.Number="number",e.String="string",e.Password="password",e.Enum="enum"}(a||(a={}));var h=o.forwardRef((function(e,t){return o.createElement(s.Z.Control,{value:e.value,onChange:function(t){return e.onChange(t.target.value)},disabled:e.disabled,ref:t})})),b=o.forwardRef((function(e,t){return o.createElement(s.Z.Control,{value:e.value,onChange:function(t){return e.onChange(t.target.value)},disabled:e.disabled,type:"password",ref:t})})),g=o.forwardRef((function(e,t){var n=Math.random().toString();return o.createElement("label",{htmlFor:n,className:"d-flex m-0 flex-grow-1 justify-content-center align-content-center"},o.createElement(s.Z.Check,{id:n,checked:e.value,onChange:function(t){return e.onChange(t.target.checked)},type:"switch",className:"m-auto",disabled:e.disabled,ref:t}))})),y=o.forwardRef((function(e,t){return o.createElement(s.Z.Control,{value:e.value,onChange:function(t){return e.onChange(isNaN(t.target.valueAsNumber)?t.target.value:t.target.valueAsNumber)},disabled:e.disabled,min:e.min,max:e.max,type:"number",ref:t})})),E=o.forwardRef((function(e,t){return o.createElement(s.Z.Control,{value:e.value,onChange:function(t){return e.onChange(parseInt(t.target.value))},disabled:e.disabled,as:"select",custom:!0,ref:t},Object.entries(e.enum).filter((function(e){var t=e[0];return isNaN(parseInt(t))})).map((function(t){var n=t[0],r=t[1];return o.createElement(v.Z,{id:e.name+"."+n,key:n},(function(e){return o.createElement("option",{key:r,value:r},e)}))})))})),Z=((r={})[a.Enum]=0,r[a.Number]=0,r[a.Boolean]=!1,r[a.String]="",r[a.Password]="",r);function C(e){var t,n,r,s=(0,o.useState)(null!=(t=e.defaultValue)?t:Z[e.type]),C=s[0],w=s[1],x=(0,o.useRef)(null);(0,o.useEffect)((function(){var t;w(null!=(t=e.defaultValue)?t:Z[e.type])}),[e.defaultValue]),(0,o.useEffect)((function(){x.current&&(x.current.checkValidity()?x.current.classList.remove("is-invalid"):x.current.classList.add("is-invalid")),S(C)}),[C]);var N,S=function(t){var n,r,i,l,u,o;switch(e.type){case a.Boolean:return void e.onChange(t,null==(n=null==(r=x.current)?void 0:r.checkValidity())||n);case a.Enum:case a.Number:return void e.onChange(t,null==(i=null==(l=x.current)?void 0:l.checkValidity())||i);case a.String:case a.Password:return void e.onChange(t,null==(u=null==(o=x.current)?void 0:o.checkValidity())||u)}},k=((n={string:h,password:b,boolean:g})[a.Number]=void 0,n[a.Enum]=void 0,n),V=C!=(null!=(r=e.defaultValue)?r:Z[e.type]);return o.createElement(d.Z,null,o.createElement(f.Z,{overlay:(N=e.tooltip,N?o.createElement(m.Z,{id:N},o.createElement(v.Z,{id:N})):o.createElement(o.Fragment,null)),show:!!e.tooltip&&void 0},(function(t){var n=t.ref,r=(0,l.Z)(t,p);return o.createElement(d.Z.Prepend,{className:"w-40"},o.createElement(d.Z.Text,(0,i.Z)({className:"flex-grow-1"},r),o.createElement("span",{className:V?"font-weight-bold":""},o.createElement(v.Z,{id:e.name})),o.createElement("div",{className:"ml-auto"},e.disabled?o.createElement(v.Z,{id:"generic.readonly"}):null,o.createElement("div",{ref:n,className:"d-inline-block ml-2",style:{visibility:e.tooltip?"unset":"hidden"}},o.createElement(u.G,{icon:"info"})))))})),e.type===a.Number?o.createElement(y,{value:C,onChange:function(e){return w(e)},name:e.name,disabled:e.disabled,max:e.max,min:e.min,ref:x}):e.type===a.Enum?o.createElement(E,{value:C,onChange:function(e){return w(e)},name:e.name,enum:e.enum,disabled:e.disabled}):o.createElement(k[e.type],{value:C,onChange:function(e){return w(e)},disabled:e.disabled,name:e.type,ref:x}),o.createElement(d.Z.Append,null,o.createElement(c.Z,{style:{visibility:!V||e.disabled?"hidden":void 0},variant:"danger",onClick:function(){var t;return w(null!=(t=e.defaultValue)?t:Z[e.type])}},o.createElement(u.G,{icon:"undo"}))))}},5619:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(3366),a=n(7462),i=n(7294),l=n(5005),u=n(5293),o=n(3489),c=n(4012),s=n(9049),d=["disabled"];function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=new Map,n=new Map,m=(0,i.useState)({}),v=m[0],p=m[1];(0,i.useEffect)((function(){Object.keys(e.fields).forEach((function(e){p((function(t){var n;return(0,a.Z)({},t,((n={})[e]={},n))}))}))}),[]),Object.entries(e.fields).forEach((function(e){var r,a=e[0],l=e[1];n.set(a,l),t.set(l,(0,i.useState)(null!=(r=l.defaultValue)?r:s.Pg[l.type]))}));for(var h,b=!1,g=!1,y=f(n);!(h=y()).done;){var E,Z=h.value,C=Z[0],w=Z[1],x=t.get(w)[0],N=v[C];if((null!=(E=w.defaultValue)?E:s.Pg[w.type])!=x&&(b=!0),null!=N&&N.invalid&&(g=!0),b&&g)break}return e.hideDisabled&&!Object.values(e.fields).some((function(e){return!e.disabled}))?i.createElement(i.Fragment,null):i.createElement("div",null,Object.entries(e.fields).map((function(n){var l=n[0],u=n[1],o=u.disabled,c=(0,r.Z)(u,d);return e.hideDisabled&&o?null:i.createElement(s.ZP,(0,a.Z)({key:l},c,{disabled:e.readOnly||o,onChange:function(e,n){t.get(u)[1](e),p((function(e){var t;return(0,a.Z)({},e,((t={})[l]=(0,a.Z)({},e[l],{invalid:!n}),t))}))}}))})),i.createElement("div",{className:"text-center mt-2"},i.createElement(u.Z,{overlay:i.createElement(o.Z,{id:"form-invalid"},i.createElement(c.Z,{id:"generic.invalid_form"})),show:!!g&&void 0},i.createElement(l.Z,{variant:e.readOnly||g?"danger":"success",disabled:e.readOnly||!b||g,onClick:function(){for(var r,a={},i=f(n);!(r=i()).done;){var l,u=r.value,o=u[0],c=u[1],d=t.get(c)[0];(c.alwaysInclude||d!=(null!=(l=c.defaultValue)?l:s.Pg[c.type])||e.includeAll)&&(a[o]=d)}e.onSave(a)}},i.createElement(c.Z,{id:"generic.save"})))))}},8425:function(e,t,n){n.d(t,{t:function(){return o}});var r=n(7294),a=n(5171),i=n.n(a),l=n(7961);function u(e){return r.createElement(i(),{src:e.obj,name:"JSON",theme:"tube",iconStyle:"triangle",collapsed:!0,displayDataTypes:!1})}function o(e){return l.ZP.showjson.value?r.createElement("div",{className:"text-left"},r.createElement(u,{obj:e.obj})):r.createElement(r.Fragment,null)}},2685:function(e,t,n){n.r(t);var r=n(7462),a=n(5861),i=n(7326),l=n(1721),u=n(7757),o=n.n(u),c=n(7294),s=n(5977),d=n(8509),f=n(6352),m=n(3803),v=n(6190),p=n(6964),h=n(3e3),b=n(9049),g=n(5619),y=n(8425),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).editInstance=n.editInstance.bind((0,i.Z)(n)),n.state={errors:[]},n}(0,l.Z)(t,e);var n=t.prototype;return n.addError=function(e){this.setState((function(t){var n=Array.from(t.errors);return n.push(e),{errors:n}}))},n.editInstance=function(){var e=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.editInstance((0,r.Z)({},t,{id:this.context.instance.id}));case 2:(n=e.sent).code===m.G.OK?this.context.reloadInstance():this.addError(n.error);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.render=function(){var e=this,t=function(t){return(0,p.D0)((0,p.Zg)(e.context.user),t)},n={name:{name:"fields.instance.name",type:b.fS.String,defaultValue:this.context.instance.name,disabled:!t(d.c2.Rename)},path:{name:"fields.instance.path",type:b.fS.String,defaultValue:this.context.instance.path,disabled:!t(d.c2.Relocate)},chatBotLimit:{name:"fields.instance.chatbotlimit",type:b.fS.Number,min:0,defaultValue:this.context.instance.chatBotLimit,disabled:!t(d.c2.SetChatBotLimit)},autoUpdateInterval:{name:"fields.instance.autoupdate",type:b.fS.Number,min:0,defaultValue:this.context.instance.autoUpdateInterval,disabled:!t(d.c2.SetAutoUpdate)},configurationType:{name:"fields.instance.filemode",type:b.fS.Enum,enum:d.c7,defaultValue:this.context.instance.configurationType,disabled:!t(d.c2.SetConfiguration)}};return c.createElement("div",{className:"text-center"},c.createElement(y.t,{obj:this.context}),this.state.errors.map((function(t,n){if(t)return c.createElement(h.ZP,{key:n,error:t,onClose:function(){return e.setState((function(e){var t=Array.from(e.errors);return t[n]=void 0,{errors:t}}))}})})),c.createElement(g.Z,{fields:n,onSave:this.editInstance}))},t}(c.Component);E.contextType=v.g,t.default=(0,s.EN)(E)},6190:function(e,t,n){n.d(t,{g:function(){return r}});var r=n(7294).createContext(void 0)},2318:function(e,t,n){var r=n(3366),a=n(7462),i=n(4184),l=n.n(i),u=n(7294),o=n(4680),c=n(6792),s=["bsPrefix","size","hasValidation","className","as"],d=(0,o.Z)("input-group-append"),f=(0,o.Z)("input-group-prepend"),m=(0,o.Z)("input-group-text",{Component:"span"}),v=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,o=e.hasValidation,d=e.className,f=e.as,m=void 0===f?"div":f,v=(0,r.Z)(e,s);return n=(0,c.vE)(n,"input-group"),u.createElement(m,(0,a.Z)({ref:t},v,{className:l()(d,n,i&&n+"-"+i,o&&"has-validation")}))}));v.displayName="InputGroup",v.Text=m,v.Radio=function(e){return u.createElement(m,null,u.createElement("input",(0,a.Z)({type:"radio"},e)))},v.Checkbox=function(e){return u.createElement(m,null,u.createElement("input",(0,a.Z)({type:"checkbox"},e)))},v.Append=d,v.Prepend=f,t.Z=v}}]);
//# sourceMappingURL=685.1139a6e187b933441ce7.bundle.js.map