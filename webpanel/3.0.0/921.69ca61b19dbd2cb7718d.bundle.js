"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[921],{8425:function(e,t,r){r.d(t,{t:function(){return l}});var a=r(7294),n=r(5171),s=r.n(n),o=r(7961);function c(e){return a.createElement(s(),{src:e.obj,name:"JSON",theme:"tube",iconStyle:"triangle",collapsed:!0,displayDataTypes:!1})}function l(e){return o.ZP.showjson.value?a.createElement("div",{className:"text-left"},a.createElement(c,{obj:e.obj})):a.createElement(a.Fragment,null)}},9905:function(e,t,r){r.d(t,{Z:function(){return A}});var a=r(7462),n=r(3366),s=r(1721),o=r(7814),c=r(7294),l=r(5005),i=r(2258),u=r(5293),p=r(4184),m=r.n(p),f=r(6792),d=r(8358),h=["active","disabled","className","style","activeLabel","children"],g=["children"],v=c.forwardRef((function(e,t){var r=e.active,s=e.disabled,o=e.className,l=e.style,i=e.activeLabel,u=e.children,p=(0,n.Z)(e,h),f=r||s?"span":d.Z;return c.createElement("li",{ref:t,style:l,className:m()(o,"page-item",{active:r,disabled:s})},c.createElement(f,(0,a.Z)({className:"page-link",disabled:s},p),u,r&&i&&c.createElement("span",{className:"sr-only"},i)))}));v.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},v.displayName="PageItem";var P=v;function E(e,t,r){function a(e){var a=e.children,s=(0,n.Z)(e,g);return c.createElement(v,s,c.createElement("span",{"aria-hidden":"true"},a||t),c.createElement("span",{className:"sr-only"},r))}return void 0===r&&(r=e),a.displayName=e,a}var b=E("First","\xab"),y=E("Prev","\u2039","Previous"),N=E("Ellipsis","\u2026","More"),Z=E("Next","\u203a"),x=E("Last","\xbb"),w=["bsPrefix","className","children","size"],k=c.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.children,l=e.size,i=(0,n.Z)(e,w),u=(0,f.vE)(r,"pagination");return c.createElement("ul",(0,a.Z)({ref:t},i,{className:m()(s,u,l&&u+"-"+l)}),o)}));k.First=b,k.Prev=y,k.Ellipsis=N,k.Item=P,k.Next=Z,k.Last=x;var C=k,M=(r(5638),["as","bsPrefix","className","children"]),S=c.forwardRef((function(e,t){var r=e.as,s=void 0===r?"div":r,o=e.bsPrefix,l=e.className,i=e.children,u=(0,n.Z)(e,M);return o=(0,f.vE)(o,"popover-header"),c.createElement(s,(0,a.Z)({ref:t},u,{className:m()(o,l)}),i)})),j=["as","bsPrefix","className","children"],G=c.forwardRef((function(e,t){var r=e.as,s=void 0===r?"div":r,o=e.bsPrefix,l=e.className,i=e.children,u=(0,n.Z)(e,j);return o=(0,f.vE)(o,"popover-body"),c.createElement(s,(0,a.Z)({ref:t},u,{className:m()(l,o)}),i)})),I=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],_=c.forwardRef((function(e,t){var r=e.bsPrefix,s=e.placement,o=e.className,l=e.style,i=e.children,u=e.content,p=e.arrowProps,d=(e.popper,e.show,(0,n.Z)(e,I)),h=(0,f.vE)(r,"popover"),g=((null==s?void 0:s.split("-"))||[])[0];return c.createElement("div",(0,a.Z)({ref:t,role:"tooltip",style:l,"x-placement":g,className:m()(o,h,g&&"bs-popover-"+g)},d),c.createElement("div",(0,a.Z)({className:"arrow"},p)),u?c.createElement(G,null,i):i)}));_.defaultProps={placement:"right"},_.Title=S,_.Content=G;var L=_,R=r(4012),V=["selectPage","totalPages","currentPage"],A=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={showGoto:!1,gotoValue:t.currentPage},r}return(0,s.Z)(t,e),t.prototype.render=function(){for(var e=this,t=[],r=Math.max(this.props.totalPages-this.props.currentPage-1,0),s=Math.max(this.props.currentPage-2,0),p=Math.max(this.props.currentPage-Math.max(5-Number(this.props.currentPage!==this.props.totalPages)-r,2),2),m=Math.min(this.props.currentPage+Math.max(5-Number(1!==this.props.currentPage)-s,2),this.props.totalPages-1),f=function(r){t.push(c.createElement(C.Item,{key:r,active:r===e.props.currentPage,onClick:function(){return e.props.selectPage(r)}},r))},d=p;d<=m;d++)f(d);var h=this.props.totalPages>7?c.createElement(C.Ellipsis,{disabled:!0}):null,g=c.createElement(L,{id:"popover-gotopage"},c.createElement(L.Title,null,c.createElement(R.Z,{id:"generic.goto.title"})),c.createElement(L.Content,null,c.createElement("form",{className:"d-flex",onSubmit:function(t){t.preventDefault(),e.props.selectPage(e.state.gotoValue),e.setState({showGoto:!1})}},c.createElement(i.Z.Control,{className:"mr-2",type:"number",min:1,max:this.props.totalPages,value:this.state.gotoValue,onChange:function(t){return e.setState({gotoValue:parseInt(t.target.value)})},custom:!0}),c.createElement(l.Z,{type:"submit"},c.createElement(R.Z,{id:"generic.goto"}))))),v=this.props,P=(v.selectPage,v.totalPages,v.currentPage,(0,n.Z)(v,V));return c.createElement("div",(0,a.Z)({className:"text-center",style:{position:"sticky",bottom:"1.5em"}},P),c.createElement(C,{className:"justify-content-center"},c.createElement(C.Prev,{disabled:this.props.currentPage<=1,onClick:function(){return e.props.selectPage(Math.max(e.props.currentPage-1,1))}}),c.createElement(C.Item,{active:this.props.currentPage<=1,onClick:function(){return e.props.selectPage(1)}},"1"),h,t,h,this.props.totalPages>=2?c.createElement(C.Item,{active:this.props.currentPage>=this.props.totalPages,onClick:function(){return e.props.selectPage(e.props.totalPages)}},this.props.totalPages):null,this.props.totalPages>7?c.createElement(u.Z,{show:this.state.showGoto,placement:"top",overlay:g},c.createElement(C.Item,{onClick:function(){return e.setState((function(e){return{showGoto:!e.showGoto}}))}},c.createElement(o.G,{icon:"search"}))):null,c.createElement(C.Next,{disabled:this.props.currentPage>=this.props.totalPages,onClick:function(){return e.props.selectPage(Math.min(e.props.currentPage+1,e.props.totalPages))}})))},t}(c.PureComponent)},5921:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var a=r(5861),n=r(7757),s=r.n(n),o=r(7294),c=r(3204),l=r(3803),i=r(9521),u=r(6190),p=r(1320),m=r(3e3),f=r(3128),d=r(8425),h=r(5855),g=r(9905);function v(){var e,t=o.useContext(u.g),r=(0,o.useState)([]),n=r[0],v=r[1],P=(0,o.useState)([]),E=P[0],b=P[1],y=(0,o.useState)(!0),N=y[0],Z=y[1],x=(0,o.useState)(null!=(e=p.Mq.jobhistorypage.get(t.instance.id))?e:1),w=x[0],k=x[1],C=(0,o.useState)(void 0),M=C[0],S=C[1];function j(){return(j=(0,a.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.listJobs(t.instance.id,{page:w});case 2:(r=e.sent).code===l.G.OK?(w>r.payload.totalPages&&0!==r.payload.totalPages&&k(1),v(r.payload.content),S(r.payload.totalPages)):G(r.error),Z(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){b((function(t){var r=Array.from(t);return r.push(e),r}))}function I(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.deleteJob(t.instanceid,t.id);case 2:(r=e.sent).code===l.G.OK?i.Z.fastmode=5:G(r.error);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){p.Mq.jobhistorypage.set(t.instance.id,w),Z(!0),function(){j.apply(this,arguments)}()}),[w]),(0,o.useEffect)((function(){}),[E]),N?o.createElement(h.Z,{text:"loading.instance.jobs.list"}):o.createElement("div",null,o.createElement(d.t,{obj:n}),E.map((function(e,t){if(e)return o.createElement(m.ZP,{key:t,error:e,onClose:function(){return b((function(e){var r=Array.from(e);return r[t]=void 0,r}))}})})),n.sort((function(e,t){return t.id-e.id})).filter((function(e){return!!e.stoppedAt})).map((function(e){return o.createElement(f.Z,{job:e,key:e.id,onCancel:I})})),o.createElement(g.Z,{selectPage:function(e){return k(e)},totalPages:null!=M?M:1,currentPage:w}))}},6190:function(e,t,r){r.d(t,{g:function(){return a}});var a=r(7294).createContext(void 0)}}]);
//# sourceMappingURL=921.69ca61b19dbd2cb7718d.bundle.js.map