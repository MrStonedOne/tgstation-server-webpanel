"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[56],{4542:function(e,t,n){n.r(t);var r=n(5861),a=n(7326),s=n(1721),i=n(7757),l=n.n(i),c=n(7294),o=n(5005),u=n(1555),m=n(2258),p=n(2318),d=n(4012),f=n(5977),h=n(6352),v=n(3803),E=n(4615),Z=n(1320),x=n(3e3),g=n(5855),b=function(e){function t(t,n){var r,s;return(s=e.call(this,t)||this).state={loading:!1,errors:[],prefix:null!=(r=n.serverInfo.validInstancePaths)&&r.length?n.serverInfo.validInstancePaths[0]:void 0},s.submit=s.submit.bind((0,a.Z)(s)),s}(0,s.Z)(t,e);var n=t.prototype;return n.addError=function(e){this.setState((function(t){var n=Array.from(t.errors);return n.push(e),{errors:n}}))},n.render=function(){var e=this;if(this.state.loading)return c.createElement(g.Z,{text:"view.instance.create.loading"});var t=this.context.serverInfo.validInstancePaths;return c.createElement("div",{className:"text-center"},this.state.errors.map((function(t,n){if(t)return c.createElement(x.ZP,{key:n,error:t,onClose:function(){return e.setState((function(e){var t=Array.from(e.errors);return t[n]=void 0,{errors:t}}))}})})),c.createElement("h3",null,c.createElement(d.Z,{id:"view.instance.create.title"})),c.createElement(m.Z,{onSubmit:this.submit},c.createElement(u.Z,{className:"mx-auto",lg:5,md:8},c.createElement(m.Z.Group,{controlId:"name"},c.createElement(m.Z.Label,null,c.createElement("h5",null,c.createElement(d.Z,{id:"view.instance.create.name"}))),c.createElement(m.Z.Control,{type:"text",onChange:function(t){var n=t.target.value;e.setState({instanceName:n})},value:this.state.instanceName,required:!0})),c.createElement(m.Z.Group,{controlId:"path"},c.createElement(m.Z.Label,null,c.createElement("h5",null,c.createElement(d.Z,{id:"view.instance.create.path"}))),c.createElement(p.Z,{className:"mb-1"},null!=t?c.createElement(p.Z.Prepend,{className:"flex-grow-1 flex-grow-md-0"},c.createElement(p.Z.Text,null,c.createElement("span",null,c.createElement(d.Z,{id:"view.instance.create.path.prefix"}))),c.createElement(m.Z.Control,{className:"rounded-0 flex-grow-1 flex-grow-md-0 flex-shrink-0 flex-shrink-md-1 w-auto",as:"select",custom:!0,required:!0,onChange:function(t){e.setState({prefix:t.target.value})}},t.map((function(t){return c.createElement("option",{key:t,value:t,selected:e.state.prefix==t},t,"/")})))):null,c.createElement(m.Z.Control,{type:"text",className:"flex-grow-1 w-100 w-md-auto",required:!0,onChange:function(t){var n=t.target.value;e.setState({instancePath:n})},value:this.state.instancePath}))),c.createElement(o.Z,{type:"submit",variant:"success"},c.createElement(d.Z,{id:"view.instance.create.submit"})))))},n.submit=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.instancePath){e.next=2;break}return e.abrupt("return");case 2:return n=(this.state.prefix?this.state.prefix+"/":"")+this.state.instancePath,this.setState({loading:!0}),e.next=6,h.Z.createInstance({name:this.state.instanceName,path:n});case 6:if((r=e.sent).code!==v.G.ERROR){e.next=11;break}return this.setState({loading:!1}),this.addError(r.error),e.abrupt("return");case 11:Z.Mq.selectedinstanceid=r.payload.id,this.props.history.push(null!=(t=Z.$w.instancelist.link)?t:Z.$w.instancelist.route);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(c.Component);b.contextType=E.f,t.default=(0,f.EN)(b)},2318:function(e,t,n){var r=n(3366),a=n(7462),s=n(4184),i=n.n(s),l=n(7294),c=n(4680),o=n(6792),u=["bsPrefix","size","hasValidation","className","as"],m=(0,c.Z)("input-group-append"),p=(0,c.Z)("input-group-prepend"),d=(0,c.Z)("input-group-text",{Component:"span"}),f=l.forwardRef((function(e,t){var n=e.bsPrefix,s=e.size,c=e.hasValidation,m=e.className,p=e.as,d=void 0===p?"div":p,f=(0,r.Z)(e,u);return n=(0,o.vE)(n,"input-group"),l.createElement(d,(0,a.Z)({ref:t},f,{className:i()(m,n,s&&n+"-"+s,c&&"has-validation")}))}));f.displayName="InputGroup",f.Text=d,f.Radio=function(e){return l.createElement(d,null,l.createElement("input",(0,a.Z)({type:"radio"},e)))},f.Checkbox=function(e){return l.createElement(d,null,l.createElement("input",(0,a.Z)({type:"checkbox"},e)))},f.Append=m,f.Prepend=p,t.Z=f}}]);
//# sourceMappingURL=56.8fc16c2f30689b09d69c.bundle.js.map