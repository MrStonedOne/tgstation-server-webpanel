"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[480],{2480:function(e,r,t){var n=t(5861),a=t(3144),o=t(1721),s=t(7757),i=t.n(s),u=t(653),c=t(6846),d=t(3803),p=t(5631),R=t(7626),l=t(7961);r.Z=new(function(e){function r(){var r;return(r=e.call(this)||this)._cachedAdminInfo=void 0,r.loadingAdminInfo=!1,p.Z.on("purgeCache",(function(){r._cachedAdminInfo=void 0})),r}(0,o.Z)(r,e);var t=r.prototype;return t.getAdminInfo=function(){var e=(0,n.Z)(i().mark((function e(){var r,t,n,a,o,s,u,R,l=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.wait4Init();case 2:if(!this._cachedAdminInfo){e.next=4;break}return e.abrupt("return",this._cachedAdminInfo);case 4:if(!this.loadingAdminInfo){e.next=8;break}return e.next=7,new Promise((function(e){l.on("loadAdminInfo",(function r(t){e(t),l.removeListener("loadAdminInfo",r)}))}));case 7:return e.abrupt("return",e.sent);case 8:return this.loadingAdminInfo=!0,e.prev=9,e.next=12,p.Z.apiClient.administration.administrationControllerRead();case 12:r=e.sent,e.next=21;break;case 15:return e.prev=15,e.t0=e.catch(9),t=new d.Z({code:d.G.ERROR,error:e.t0}),this.emit("loadAdminInfo",t),this.loadingAdminInfo=!1,e.abrupt("return",t);case 21:e.t1=r.status,e.next=200===e.t1?24:424===e.t1?29:429===e.t1?34:39;break;case 24:return n=new d.Z({code:d.G.OK,payload:r.data}),this._cachedAdminInfo=n,this.emit("loadAdminInfo",n),this.loadingAdminInfo=!1,e.abrupt("return",n);case 29:return a=r.data,o=new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_GITHUB_RATE,{errorMessage:a},r)}),this.emit("loadAdminInfo",o),this.loadingAdminInfo=!1,e.abrupt("return",o);case 34:return s=r.data,u=new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_GITHUB_ERROR,{errorMessage:s},r)}),this.emit("loadAdminInfo",u),this.loadingAdminInfo=!1,e.abrupt("return",u);case 39:return R=new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:r},r)}),this.emit("loadAdminInfo",R),this.loadingAdminInfo=!1,e.abrupt("return",R);case 43:case"end":return e.stop()}}),e,this,[[9,15]])})));return function(){return e.apply(this,arguments)}}(),t.restartServer=function(){var e=(0,n.Z)(i().mark((function e(){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.wait4Init();case 2:return e.prev=2,e.next=5,p.Z.apiClient.administration.administrationControllerDelete();case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",new d.Z({code:d.G.ERROR,error:e.t0}));case 11:e.t1=r.status,e.next=204===e.t1?14:422===e.t1?15:17;break;case 14:return e.abrupt("return",new d.Z({code:d.G.OK,payload:null}));case 15:return t=r.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_WATCHDOG_UNAVAIL,{errorMessage:t},r)}));case 17:return e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:r},r)}));case 18:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),t.updateServer=function(){var e=(0,n.Z)(i().mark((function e(r){var t,n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.wait4Init();case 2:return e.prev=2,e.next=5,p.Z.apiClient.administration.administrationControllerUpdate({newVersion:r});case 5:t=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",new d.Z({code:d.G.ERROR,error:e.t0}));case 11:e.t1=t.status,e.next=202===e.t1?14:410===e.t1?15:422===e.t1?17:424===e.t1?19:429===e.t1?21:23;break;case 14:return e.abrupt("return",new d.Z({code:d.G.OK,payload:null}));case 15:return n=t.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_VERSION_NOT_FOUND,{errorMessage:n},t)}));case 17:return a=t.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_WATCHDOG_UNAVAIL,{errorMessage:a},t)}));case 19:return o=t.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_GITHUB_RATE,{errorMessage:o},t)}));case 21:return s=t.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_GITHUB_ERROR,{errorMessage:s},t)}));case 23:return e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:t},t)}));case 24:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r){return e.apply(this,arguments)}}(),t.getLogs=function(){var e=(0,n.Z)(i().mark((function e(r){var t,n,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.page,n=void 0===t?1:t,a=r.pageSize,o=void 0===a?l.ZP.itemsperpage.value:a,e.next=3,p.Z.wait4Init();case 3:return e.prev=3,e.next=6,p.Z.apiClient.administration.administrationControllerListLogs({pageSize:o,page:n});case 6:s=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",new d.Z({code:d.G.ERROR,error:e.t0}));case 12:e.t1=s.status,e.next=200===e.t1?15:409===e.t1?16:18;break;case 15:return e.abrupt("return",new d.Z({code:d.G.OK,payload:s.data}));case 16:return u=s.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_LOGS_IO_ERROR,{errorMessage:u},s)}));case 18:return e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:s},s)}));case 19:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(r){return e.apply(this,arguments)}}(),t.getLog=function(){var e=(0,n.Z)(i().mark((function e(r){var t,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.wait4Init();case 2:return e.prev=2,e.next=5,p.Z.apiClient.administration.administrationControllerGetLog(r);case 5:t=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",new d.Z({code:d.G.ERROR,error:e.t0}));case 11:e.t1=t.status,e.next=200===e.t1?14:409===e.t1?23:25;break;case 14:return e.next=16,R.Z.Download(t.data.fileTicket);case 16:if((n=e.sent).code!==d.G.OK){e.next=22;break}return a=Object.assign({content:n.payload},t.data),e.abrupt("return",new d.Z({code:d.G.OK,payload:a}));case 22:return e.abrupt("return",new d.Z({code:d.G.ERROR,error:n.error}));case 23:return o=t.data,e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.ADMIN_LOGS_IO_ERROR,{errorMessage:o},t)}));case 25:return e.abrupt("return",new d.Z({code:d.G.ERROR,error:new c.ZP(c.jK.UNHANDLED_RESPONSE,{axiosResponse:t},t)}));case 26:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r){return e.apply(this,arguments)}}(),(0,a.Z)(r,[{key:"cachedAdminInfo",get:function(){return this._cachedAdminInfo}}]),r}(u.S))}}]);
//# sourceMappingURL=480.bda5501955afb6866a5d.bundle.js.map